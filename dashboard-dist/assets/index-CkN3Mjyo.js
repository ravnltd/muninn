var Oi=Object.defineProperty;var gs=e=>{throw TypeError(e)};var Pi=(e,t,r)=>t in e?Oi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Et=(e,t,r)=>Pi(e,typeof t!="symbol"?t+"":t,r),Dn=(e,t,r)=>t.has(e)||gs("Cannot "+r);var p=(e,t,r)=>(Dn(e,t,"read from private field"),r?r.call(e):t.get(e)),G=(e,t,r)=>t.has(e)?gs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),V=(e,t,r,s)=>(Dn(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Ne=(e,t,r)=>(Dn(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=r(a);fetch(a.href,n)}})();var $s,Ms;const bs=(Ms=($s=globalThis.process)==null?void 0:$s.env)==null?void 0:Ms.NODE_ENV,A=bs&&!bs.toLowerCase().startsWith("prod");var Xn=Array.isArray,Di=Array.prototype.indexOf,In=Array.from,xr=Object.defineProperty,qr=Object.getOwnPropertyDescriptor,Ri=Object.prototype,Fi=Array.prototype,Li=Object.getPrototypeOf,ys=Object.isExtensible;function Ni(e){for(var t=0;t<e.length;t++)e[t]()}function Bs(){var e,t,r=new Promise((s,a)=>{e=s,t=a});return{promise:r,resolve:e,reject:t}}function $i(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const r=[];for(const s of e)if(r.push(s),r.length===t)break;return r}const Be=2,pn=4,An=8,Us=1<<24,Gt=16,Yt=32,Sr=64,es=128,wt=512,Ge=1024,Ke=2048,Jt=4096,dt=8192,nr=16384,ts=32768,$r=65536,mn=1<<17,zs=1<<18,zr=1<<19,Mi=1<<20,Ut=1<<25,lr=32768,$n=1<<21,Cn=1<<22,sr=1<<23,Or=Symbol("$state"),Vs=Symbol("proxy path"),jr=new class extends Error{constructor(){super(...arguments);Et(this,"name","StaleReactionError");Et(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Hi(){if(A){const e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function ws(){if(A){const e=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/bind_invalid_checkbox_value")}function Bi(){if(A){const e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function Ui(e){if(A){const t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function zi(){if(A){const e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Vi(e){if(A){const t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function Wi(){if(A){const e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Gi(e){if(A){const t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Yi(){if(A){const e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ji(){if(A){const e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ki(){if(A){const e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Qi(){if(A){const e=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Zi=1,Xi=2,Ws=4,ea=8,ta=16,ra=1,na=2,$e=Symbol(),sa=Symbol("filename");var rs="font-weight: bold",ns="font-weight: normal";function ia(){A?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",rs,ns):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Rn(e){A?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,rs,ns):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function aa(){A?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",rs,ns):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Gs(e){return e===this.v}function la(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ys(e){return!la(e,this.v)}let oa=!1;function qt(e,t){return e.label=t,Js(e.v,t),e}function Js(e,t){var r;return(r=e==null?void 0:e[Vs])==null||r.call(e,t),e}function ca(e){const t=new Error,r=va();return r.length===0?null:(r.unshift(`
`),xr(t,"stack",{value:r.join(`
`)}),xr(t,"name",{value:e}),t)}function va(){const e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const t=new Error().stack;if(Error.stackTraceLimit=e,!t)return[];const r=t.split(`
`),s=[];for(let a=0;a<r.length;a++){const n=r[a],l=n.replaceAll("\\","/");if(n.trim()!=="Error"){if(n.includes("validate_each_keys"))return[];l.includes("svelte/src/internal")||l.includes("node_modules/.vite")||s.push(n)}}return s}let We=null;function Mr(e){We=e}let tn=null;function gn(e){tn=e}let ln=null;function xs(e){ln=e}function Vr(e,t=!1,r){We={p:We,i:!1,c:null,e:null,s:e,x:null,l:null},A&&(We.function=r,ln=r)}function Wr(e){var t=We,r=t.e;if(r!==null){t.e=null;for(var s of r)di(s)}return t.i=!0,We=t.p,A&&(ln=(We==null?void 0:We.function)??null),{}}function Ks(){return!0}let vr=[];function Qs(){var e=vr;vr=[],Ni(e)}function Gr(e){if(vr.length===0&&!Qr){var t=vr;queueMicrotask(()=>{t===vr&&Qs()})}vr.push(e)}function ua(){for(;vr.length>0;)Qs()}const Mn=new WeakMap;function Zs(e){var t=X;if(t===null)return H.f|=sr,e;if(A&&e instanceof Error&&!Mn.has(e)&&Mn.set(e,fa(e,t)),(t.f&ts)===0){if((t.f&es)===0)throw A&&!t.parent&&e instanceof Error&&Xs(e),e;t.b.error(e)}else Hr(e,t)}function Hr(e,t){for(;t!==null;){if((t.f&es)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw A&&e instanceof Error&&Xs(e),e}function fa(e,t){var l,o,v;const r=qr(e,"message");if(!(r&&!r.configurable)){for(var s=os?"  ":"	",a=`
${s}in ${((l=t.fn)==null?void 0:l.name)||"<unknown>"}`,n=t.ctx;n!==null;)a+=`
${s}in ${(o=n.function)==null?void 0:o[sa].split("/").pop()}`,n=n.p;return{message:e.message+`
${a}
`,stack:(v=e.stack)==null?void 0:v.split(`
`).filter(m=>!m.includes("svelte/src/internal")).join(`
`)}}}function Xs(e){const t=Mn.get(e);t&&(xr(e,"message",{value:t.message}),xr(e,"stack",{value:t.stack}))}const da=-7169;function Re(e,t){e.f=e.f&da|t}function ss(e){(e.f&wt)!==0||e.deps===null?Re(e,Ge):Re(e,Jt)}function ei(e){if(e!==null)for(const t of e)(t.f&Be)===0||(t.f&lr)===0||(t.f^=lr,ei(t.deps))}function ti(e,t,r){(e.f&Ke)!==0?t.add(e):(e.f&Jt)!==0&&r.add(e),ei(e.deps),Re(e,Ge)}const fn=new Set;let M=null,Kr=null,He=null,mt=[],jn=null,Hn=!1,Qr=!1;var Pr,Dr,fr,dr,nn,Rr,Fr,xt,Bn,Un,ri,ni;const En=class En{constructor(){G(this,xt);Et(this,"committed",!1);Et(this,"current",new Map);Et(this,"previous",new Map);G(this,Pr,new Set);G(this,Dr,new Set);G(this,fr,0);G(this,dr,0);G(this,nn,null);G(this,Rr,new Set);G(this,Fr,new Set);Et(this,"skipped_effects",new Set);Et(this,"is_fork",!1)}is_deferred(){return this.is_fork||p(this,dr)>0}process(t){var a;mt=[],Kr=null,this.apply();var r=[],s=[];for(const n of t)Ne(this,xt,Bn).call(this,n,r,s);this.is_fork||Ne(this,xt,ri).call(this),this.is_deferred()?(Ne(this,xt,Un).call(this,s),Ne(this,xt,Un).call(this,r)):(Kr=this,M=null,ks(s),ks(r),Kr=null,(a=p(this,nn))==null||a.resolve()),He=null}capture(t,r){r!==$e&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&sr)===0&&(this.current.set(t,t.v),He==null||He.set(t,t.v))}activate(){M=this,this.apply()}deactivate(){M===this&&(M=null,He=null)}flush(){if(this.activate(),mt.length>0){if(si(),M!==null&&M!==this)return}else p(this,fr)===0&&this.process([]);this.deactivate()}discard(){for(const t of p(this,Dr))t(this);p(this,Dr).clear()}increment(t){V(this,fr,p(this,fr)+1),t&&V(this,dr,p(this,dr)+1)}decrement(t){V(this,fr,p(this,fr)-1),t&&V(this,dr,p(this,dr)-1),this.revive()}revive(){for(const t of p(this,Rr))p(this,Fr).delete(t),Re(t,Ke),Wt(t);for(const t of p(this,Fr))Re(t,Jt),Wt(t);this.flush()}oncommit(t){p(this,Pr).add(t)}ondiscard(t){p(this,Dr).add(t)}settled(){return(p(this,nn)??V(this,nn,Bs())).promise}static ensure(){if(M===null){const t=M=new En;fn.add(M),Qr||En.enqueue(()=>{M===t&&t.flush()})}return M}static enqueue(t){Gr(t)}apply(){}};Pr=new WeakMap,Dr=new WeakMap,fr=new WeakMap,dr=new WeakMap,nn=new WeakMap,Rr=new WeakMap,Fr=new WeakMap,xt=new WeakSet,Bn=function(t,r,s){t.f^=Ge;for(var a=t.first,n=null;a!==null;){var l=a.f,o=(l&(Yt|Sr))!==0,v=o&&(l&Ge)!==0,m=v||(l&dt)!==0||this.skipped_effects.has(a);if(!m&&a.fn!==null){o?a.f^=Ge:n!==null&&(l&(pn|An|Us))!==0?n.b.defer_effect(a):(l&pn)!==0?r.push(a):cn(a)&&((l&Gt)!==0&&p(this,Rr).add(a),rn(a));var h=a.first;if(h!==null){a=h;continue}}var u=a.parent;for(a=a.next;a===null&&u!==null;)u===n&&(n=null),a=u.next,u=u.parent}},Un=function(t){for(var r=0;r<t.length;r+=1)ti(t[r],p(this,Rr),p(this,Fr))},ri=function(){if(p(this,dr)===0){for(const t of p(this,Pr))t();p(this,Pr).clear()}p(this,fr)===0&&Ne(this,xt,ni).call(this)},ni=function(){var a;if(fn.size>1){this.previous.clear();var t=He,r=!0;for(const n of fn){if(n===this){r=!1;continue}const l=[];for(const[v,m]of this.current){if(n.current.has(v))if(r&&m!==n.current.get(v))n.current.set(v,m);else continue;l.push(v)}if(l.length===0)continue;const o=[...n.current.keys()].filter(v=>!this.current.has(v));if(o.length>0){var s=mt;mt=[];const v=new Set,m=new Map;for(const h of l)ii(h,o,v,m);if(mt.length>0){M=n,n.apply();for(const h of mt)Ne(a=n,xt,Bn).call(a,h,[],[]);n.deactivate()}mt=s}}M=null,He=t}this.committed=!0,fn.delete(this)};let zt=En;function _a(e){var t=Qr;Qr=!0;try{for(var r;;){if(ua(),mt.length===0&&(M==null||M.flush(),mt.length===0))return jn=null,r;si()}}finally{Qr=t}}function si(){var e=br;Hn=!0;var t=A?new Set:null;try{var r=0;for(xn(!0);mt.length>0;){var s=zt.ensure();if(r++>1e3){if(A){var a=new Map;for(const l of s.current.keys())for(const[o,v]of l.updated??[]){var n=a.get(o);n||(n={error:v.error,count:0},a.set(o,n)),n.count+=v.count}for(const l of a.values())l.error&&console.error(l.error)}ha()}if(s.process(mt),ir.clear(),A)for(const l of s.current.keys())t.add(l)}}finally{if(Hn=!1,xn(e),jn=null,A)for(const l of t)l.updated=null}}function ha(){try{Wi()}catch(e){A&&xr(e,"stack",{value:""}),Hr(e,jn)}}let St=null;function ks(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var s=e[r++];if((s.f&(nr|dt))===0&&cn(s)&&(St=new Set,rn(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?mi(s):s.fn=null),(St==null?void 0:St.size)>0)){ir.clear();for(const a of St){if((a.f&(nr|dt))!==0)continue;const n=[a];let l=a.parent;for(;l!==null;)St.has(l)&&(St.delete(l),n.push(l)),l=l.parent;for(let o=n.length-1;o>=0;o--){const v=n[o];(v.f&(nr|dt))===0&&rn(v)}}St.clear()}}St=null}}function ii(e,t,r,s){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const a of e.reactions){const n=a.f;(n&Be)!==0?ii(a,t,r,s):(n&(Cn|Gt))!==0&&(n&Ke)===0&&ai(a,t,s)&&(Re(a,Ke),Wt(a))}}function ai(e,t,r){const s=r.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const a of e.deps){if(t.includes(a))return!0;if((a.f&Be)!==0&&ai(a,t,r))return r.set(a,!0),!0}return r.set(e,!1),!1}function Wt(e){for(var t=jn=e;t.parent!==null;){t=t.parent;var r=t.f;if(Hn&&t===X&&(r&Gt)!==0&&(r&zs)===0)return;if((r&(Sr|Yt))!==0){if((r&Ge)===0)return;t.f^=Ge}}mt.push(t)}function pa(e){let t=0,r=kr(0),s;return A&&qt(r,"createSubscriber version"),()=>{vs()&&(i(r),On(()=>(t===0&&(s=Pn(()=>e(()=>Zr(r)))),t+=1,()=>{Gr(()=>{t-=1,t===0&&(s==null||s(),s=void 0,Zr(r))})})))}}var ma=$r|zr|es;function ga(e,t,r){new ba(e,t,r)}var ht,Zn,Ot,_r,Pt,pt,Xe,Dt,Ht,tr,hr,rr,pr,Lr,Nr,Bt,Sn,De,ya,wa,zn,_n,hn,Vn;class ba{constructor(t,r,s){G(this,De);Et(this,"parent");Et(this,"is_pending",!1);G(this,ht);G(this,Zn,null);G(this,Ot);G(this,_r);G(this,Pt);G(this,pt,null);G(this,Xe,null);G(this,Dt,null);G(this,Ht,null);G(this,tr,null);G(this,hr,0);G(this,rr,0);G(this,pr,!1);G(this,Lr,new Set);G(this,Nr,new Set);G(this,Bt,null);G(this,Sn,pa(()=>(V(this,Bt,kr(p(this,hr))),A&&qt(p(this,Bt),"$effect.pending()"),()=>{V(this,Bt,null)})));V(this,ht,t),V(this,Ot,r),V(this,_r,s),this.parent=X.b,this.is_pending=!!p(this,Ot).pending,V(this,Pt,fs(()=>{X.b=this;{var a=Ne(this,De,zn).call(this);try{V(this,pt,gt(()=>s(a)))}catch(n){this.error(n)}p(this,rr)>0?Ne(this,De,hn).call(this):this.is_pending=!1}return()=>{var n;(n=p(this,tr))==null||n.remove()}},ma))}defer_effect(t){ti(t,p(this,Lr),p(this,Nr))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!p(this,Ot).pending}update_pending_count(t){Ne(this,De,Vn).call(this,t),V(this,hr,p(this,hr)+t),p(this,Bt)&&Ur(p(this,Bt),p(this,hr))}get_effect_pending(){return p(this,Sn).call(this),i(p(this,Bt))}error(t){var r=p(this,Ot).onerror;let s=p(this,Ot).failed;if(p(this,pr)||!r&&!s)throw t;p(this,pt)&&(rt(p(this,pt)),V(this,pt,null)),p(this,Xe)&&(rt(p(this,Xe)),V(this,Xe,null)),p(this,Dt)&&(rt(p(this,Dt)),V(this,Dt,null));var a=!1,n=!1;const l=()=>{if(a){aa();return}a=!0,n&&Qi(),zt.ensure(),V(this,hr,0),p(this,Dt)!==null&&gr(p(this,Dt),()=>{V(this,Dt,null)}),this.is_pending=this.has_pending_snippet(),V(this,pt,Ne(this,De,_n).call(this,()=>(V(this,pr,!1),gt(()=>p(this,_r).call(this,p(this,ht)))))),p(this,rr)>0?Ne(this,De,hn).call(this):this.is_pending=!1};var o=H;try{tt(null),n=!0,r==null||r(t,l),n=!1}catch(v){Hr(v,p(this,Pt)&&p(this,Pt).parent)}finally{tt(o)}s&&Gr(()=>{V(this,Dt,Ne(this,De,_n).call(this,()=>{zt.ensure(),V(this,pr,!0);try{return gt(()=>{s(p(this,ht),()=>t,()=>l)})}catch(v){return Hr(v,p(this,Pt).parent),null}finally{V(this,pr,!1)}}))})}}ht=new WeakMap,Zn=new WeakMap,Ot=new WeakMap,_r=new WeakMap,Pt=new WeakMap,pt=new WeakMap,Xe=new WeakMap,Dt=new WeakMap,Ht=new WeakMap,tr=new WeakMap,hr=new WeakMap,rr=new WeakMap,pr=new WeakMap,Lr=new WeakMap,Nr=new WeakMap,Bt=new WeakMap,Sn=new WeakMap,De=new WeakSet,ya=function(){try{V(this,pt,gt(()=>p(this,_r).call(this,p(this,ht))))}catch(t){this.error(t)}},wa=function(){const t=p(this,Ot).pending;t&&(V(this,Xe,gt(()=>t(p(this,ht)))),zt.enqueue(()=>{var r=Ne(this,De,zn).call(this);V(this,pt,Ne(this,De,_n).call(this,()=>(zt.ensure(),gt(()=>p(this,_r).call(this,r))))),p(this,rr)>0?Ne(this,De,hn).call(this):(gr(p(this,Xe),()=>{V(this,Xe,null)}),this.is_pending=!1)}))},zn=function(){var t=p(this,ht);return this.is_pending&&(V(this,tr,ar()),p(this,ht).before(p(this,tr)),t=p(this,tr)),t},_n=function(t){var r=X,s=H,a=We;At(p(this,Pt)),tt(p(this,Pt)),Mr(p(this,Pt).ctx);try{return t()}catch(n){return Zs(n),null}finally{At(r),tt(s),Mr(a)}},hn=function(){const t=p(this,Ot).pending;p(this,pt)!==null&&(V(this,Ht,document.createDocumentFragment()),p(this,Ht).append(p(this,tr)),yi(p(this,pt),p(this,Ht))),p(this,Xe)===null&&V(this,Xe,gt(()=>t(p(this,ht))))},Vn=function(t){var r;if(!this.has_pending_snippet()){this.parent&&Ne(r=this.parent,De,Vn).call(r,t);return}if(V(this,rr,p(this,rr)+t),p(this,rr)===0){this.is_pending=!1;for(const s of p(this,Lr))Re(s,Ke),Wt(s);for(const s of p(this,Nr))Re(s,Jt),Wt(s);p(this,Lr).clear(),p(this,Nr).clear(),p(this,Xe)&&gr(p(this,Xe),()=>{V(this,Xe,null)}),p(this,Ht)&&(p(this,ht).before(p(this,Ht)),V(this,Ht,null))}};function xa(e,t,r,s){const a=is;if(r.length===0&&e.length===0){s(t.map(a));return}var n=M,l=X,o=ka();function v(){Promise.all(r.map(m=>Sa(m))).then(m=>{o();try{s([...t.map(a),...m])}catch(h){(l.f&nr)===0&&Hr(h,l)}n==null||n.deactivate(),bn()}).catch(m=>{Hr(m,l)})}e.length>0?Promise.all(e).then(()=>{o();try{return v()}finally{n==null||n.deactivate(),bn()}}):v()}function ka(){var e=X,t=H,r=We,s=M;if(A)var a=tn;return function(l=!0){At(e),tt(t),Mr(r),l&&(s==null||s.activate()),A&&gn(a)}}function bn(){At(null),tt(null),Mr(null),A&&gn(null)}const Ea=new Set;function is(e){var t=Be|Ke,r=H!==null&&(H.f&Be)!==0?H:null;return X!==null&&(X.f|=zr),{ctx:We,deps:null,effects:null,equals:Gs,f:t,fn:e,reactions:null,rv:0,v:$e,wv:0,parent:r??X,ac:null}}function Sa(e,t,r){let s=X;s===null&&Hi();var a=s.b,n=void 0,l=kr($e);A&&(l.label=t);var o=!H,v=new Map;return Ha(()=>{var g;var m=Bs();n=m.promise;try{Promise.resolve(e()).then(m.resolve,m.reject).then(()=>{h===M&&h.committed&&h.deactivate(),bn()})}catch(b){m.reject(b),bn()}var h=M;if(o){var u=a.is_rendered();a.update_pending_count(1),h.increment(u),(g=v.get(h))==null||g.reject(jr),v.delete(h),v.set(h,m)}const _=(b,k=void 0)=>{if(h.activate(),k)k!==jr&&(l.f|=sr,Ur(l,k));else{(l.f&sr)!==0&&(l.f^=sr),Ur(l,b);for(const[y,S]of v){if(v.delete(y),y===h)break;S.reject(jr)}}o&&(a.update_pending_count(-1),h.decrement(u))};m.promise.then(_,b=>_(null,b||"unknown"))}),us(()=>{for(const m of v.values())m.reject(jr)}),A&&(l.f|=Cn),new Promise(m=>{function h(u){function _(){u===n?m(l):h(n)}u.then(_,_)}h(n)})}function yn(e){const t=is(e);return wi(t),t}function Ta(e){const t=is(e);return t.equals=Ys,t}function Wn(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)rt(t[r])}}let Fn=[];function Ia(e){for(var t=e.parent;t!==null;){if((t.f&Be)===0)return(t.f&nr)===0?t:null;t=t.parent}return null}function as(e){var t,r=X;if(At(Ia(e)),A){let s=Br;Es(new Set);try{Fn.includes(e)&&Bi(),Fn.push(e),e.f&=~lr,Wn(e),t=Gn(e)}finally{At(r),Es(s),Fn.pop()}}else try{e.f&=~lr,Wn(e),t=Gn(e)}finally{At(r)}return t}function li(e){var t=as(e);if(!e.equals(t)&&(e.wv=ki(),(!(M!=null&&M.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){Re(e,Ge);return}Er||(He!==null?(vs()||M!=null&&M.is_fork)&&He.set(e,t):ss(e))}let Br=new Set;const ir=new Map;function Es(e){Br=e}let ls=!1;function Aa(){ls=!0}function kr(e,t){var r={f:0,v:e,reactions:null,equals:Gs,rv:0,wv:0};return r}function P(e,t){const r=kr(e);return wi(r),r}function Ca(e,t=!1,r=!0){const s=kr(e);return t||(s.equals=Ys),s}function w(e,t,r=!1){H!==null&&(!It||(H.f&mn)!==0)&&Ks()&&(H.f&(Be|Gt|Cn|mn))!==0&&!(Je!=null&&Je.includes(e))&&Ki();let s=r?qe(t):t;return A&&Js(s,e.label),Ur(e,s)}function Ur(e,t){var a;if(!e.equals(t)){var r=e.v;Er?ir.set(e,t):ir.set(e,r),e.v=t;var s=zt.ensure();if(s.capture(e,r),A){if(X!==null){e.updated??(e.updated=new Map);const n=(((a=e.updated.get(""))==null?void 0:a.count)??0)+1;if(e.updated.set("",{error:null,count:n}),n>5){const l=ca("updated at");if(l!==null){let o=e.updated.get(l.stack);o||(o={error:l,count:0},e.updated.set(l.stack,o)),o.count++}}}X!==null&&(e.set_during_effect=!0)}if((e.f&Be)!==0){const n=e;(e.f&Ke)!==0&&as(n),ss(n)}e.wv=ki(),ci(e,Ke),X!==null&&(X.f&Ge)!==0&&(X.f&(Yt|Sr))===0&&(_t===null?za([e]):_t.push(e)),!s.is_fork&&Br.size>0&&!ls&&oi()}return t}function oi(){ls=!1;var e=br;xn(!0);const t=Array.from(Br);try{for(const r of t)(r.f&Ge)!==0&&Re(r,Jt),cn(r)&&rn(r)}finally{xn(e)}Br.clear()}function Zr(e){w(e,e.v+1)}function ci(e,t){var r=e.reactions;if(r!==null)for(var s=r.length,a=0;a<s;a++){var n=r[a],l=n.f;if(A&&(l&mn)!==0){Br.add(n);continue}var o=(l&Ke)===0;if(o&&Re(n,t),(l&Be)!==0){var v=n;He==null||He.delete(v),(l&lr)===0&&(l&wt&&(n.f|=lr),ci(v,Jt))}else o&&((l&Gt)!==0&&St!==null&&St.add(n),Wt(n))}}const ja=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function qe(e){if(typeof e!="object"||e===null||Or in e)return e;const t=Li(e);if(t!==Ri&&t!==Fi)return e;var r=new Map,s=Xn(e),a=P(0),n=yr,l=h=>{if(yr===n)return h();var u=H,_=yr;tt(null),As(n);var g=h();return tt(u),As(_),g};s&&(r.set("length",P(e.length)),A&&(e=Pa(e)));var o="";let v=!1;function m(h){if(!v){v=!0,o=h,qt(a,`${o} version`);for(const[u,_]of r)qt(_,cr(o,u));v=!1}}return new Proxy(e,{defineProperty(h,u,_){(!("value"in _)||_.configurable===!1||_.enumerable===!1||_.writable===!1)&&Yi();var g=r.get(u);return g===void 0?g=l(()=>{var b=P(_.value);return r.set(u,b),A&&typeof u=="string"&&qt(b,cr(o,u)),b}):w(g,_.value,!0),!0},deleteProperty(h,u){var _=r.get(u);if(_===void 0){if(u in h){const g=l(()=>P($e));r.set(u,g),Zr(a),A&&qt(g,cr(o,u))}}else w(_,$e),Zr(a);return!0},get(h,u,_){var y;if(u===Or)return e;if(A&&u===Vs)return m;var g=r.get(u),b=u in h;if(g===void 0&&(!b||(y=qr(h,u))!=null&&y.writable)&&(g=l(()=>{var S=qe(b?h[u]:$e),C=P(S);return A&&qt(C,cr(o,u)),C}),r.set(u,g)),g!==void 0){var k=i(g);return k===$e?void 0:k}return Reflect.get(h,u,_)},getOwnPropertyDescriptor(h,u){var _=Reflect.getOwnPropertyDescriptor(h,u);if(_&&"value"in _){var g=r.get(u);g&&(_.value=i(g))}else if(_===void 0){var b=r.get(u),k=b==null?void 0:b.v;if(b!==void 0&&k!==$e)return{enumerable:!0,configurable:!0,value:k,writable:!0}}return _},has(h,u){var k;if(u===Or)return!0;var _=r.get(u),g=_!==void 0&&_.v!==$e||Reflect.has(h,u);if(_!==void 0||X!==null&&(!g||(k=qr(h,u))!=null&&k.writable)){_===void 0&&(_=l(()=>{var y=g?qe(h[u]):$e,S=P(y);return A&&qt(S,cr(o,u)),S}),r.set(u,_));var b=i(_);if(b===$e)return!1}return g},set(h,u,_,g){var me;var b=r.get(u),k=u in h;if(s&&u==="length")for(var y=_;y<b.v;y+=1){var S=r.get(y+"");S!==void 0?w(S,$e):y in h&&(S=l(()=>P($e)),r.set(y+"",S),A&&qt(S,cr(o,y)))}if(b===void 0)(!k||(me=qr(h,u))!=null&&me.writable)&&(b=l(()=>P(void 0)),A&&qt(b,cr(o,u)),w(b,qe(_)),r.set(u,b));else{k=b.v!==$e;var C=l(()=>qe(_));w(b,C)}var ee=Reflect.getOwnPropertyDescriptor(h,u);if(ee!=null&&ee.set&&ee.set.call(g,_),!k){if(s&&typeof u=="string"){var te=r.get("length"),re=Number(u);Number.isInteger(re)&&re>=te.v&&w(te,re+1)}Zr(a)}return!0},ownKeys(h){i(a);var u=Reflect.ownKeys(h).filter(b=>{var k=r.get(b);return k===void 0||k.v!==$e});for(var[_,g]of r)g.v!==$e&&!(_ in h)&&u.push(_);return u},setPrototypeOf(){Ji()}})}function cr(e,t){return typeof t=="symbol"?`${e}[Symbol(${t.description??""})]`:ja.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function Xr(e){try{if(e!==null&&typeof e=="object"&&Or in e)return e[Or]}catch{}return e}function qa(e,t){return Object.is(Xr(e),Xr(t))}const Oa=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function Pa(e){return new Proxy(e,{get(t,r,s){var a=Reflect.get(t,r,s);return Oa.has(r)?function(...n){Aa();var l=a.apply(this,n);return oi(),l}:a}})}function Da(){const e=Array.prototype,t=Array.__svelte_cleanup;t&&t();const{indexOf:r,lastIndexOf:s,includes:a}=e;e.indexOf=function(n,l){const o=r.call(this,n,l);if(o===-1){for(let v=l??0;v<this.length;v+=1)if(Xr(this[v])===n){Rn("array.indexOf(...)");break}}return o},e.lastIndexOf=function(n,l){const o=s.call(this,n,l??this.length-1);if(o===-1){for(let v=0;v<=(l??this.length-1);v+=1)if(Xr(this[v])===n){Rn("array.lastIndexOf(...)");break}}return o},e.includes=function(n,l){const o=a.call(this,n,l);if(!o){for(let v=0;v<this.length;v+=1)if(Xr(this[v])===n){Rn("array.includes(...)");break}}return o},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=s,e.includes=a}}var Ss,os,vi,ui;function Ra(){if(Ss===void 0){Ss=window,os=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;vi=qr(t,"firstChild").get,ui=qr(t,"nextSibling").get,ys(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ys(r)&&(r.__t=void 0),A&&(e.__svelte_meta=null,Da())}}function ar(e=""){return document.createTextNode(e)}function wn(e){return vi.call(e)}function on(e){return ui.call(e)}function c(e,t){return wn(e)}function Ie(e,t=!1){{var r=wn(e);return r instanceof Comment&&r.data===""?on(r):r}}function f(e,t=1,r=!1){let s=e;for(;t--;)s=on(s);return s}function Fa(e){e.textContent=""}function fi(){return!1}let Ts=!1;function La(){Ts||(Ts=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function qn(e){var t=H,r=X;tt(null),At(null);try{return e()}finally{tt(t),At(r)}}function cs(e,t,r,s=r){e.addEventListener(t,()=>qn(r));const a=e.__on_r;a?e.__on_r=()=>{a(),s(!0)}:e.__on_r=()=>s(!0),La()}function Na(e){X===null&&(H===null&&Vi(e),zi()),Er&&Ui(e)}function $a(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Kt(e,t,r){var s=X;if(A)for(;s!==null&&(s.f&mn)!==0;)s=s.parent;s!==null&&(s.f&dt)!==0&&(e|=dt);var a={ctx:We,deps:null,nodes:null,f:e|Ke|wt,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(A&&(a.component_function=ln),r)try{rn(a),a.f|=ts}catch(o){throw rt(a),o}else t!==null&&Wt(a);var n=a;if(r&&n.deps===null&&n.teardown===null&&n.nodes===null&&n.first===n.last&&(n.f&zr)===0&&(n=n.first,(e&Gt)!==0&&(e&$r)!==0&&n!==null&&(n.f|=$r)),n!==null&&(n.parent=s,s!==null&&$a(n,s),H!==null&&(H.f&Be)!==0&&(e&Sr)===0)){var l=H;(l.effects??(l.effects=[])).push(n)}return a}function vs(){return H!==null&&!It}function us(e){const t=Kt(An,null,!1);return Re(t,Ge),t.teardown=e,t}function Vt(e){Na("$effect"),A&&xr(e,"name",{value:"$effect"});var t=X.f,r=!H&&(t&Yt)!==0&&(t&ts)===0;if(r){var s=We;(s.e??(s.e=[])).push(e)}else return di(e)}function di(e){return Kt(pn|Mi,e,!1)}function Ma(e){zt.ensure();const t=Kt(Sr|zr,e,!0);return(r={})=>new Promise(s=>{r.outro?gr(t,()=>{rt(t),s(void 0)}):(rt(t),s(void 0))})}function _i(e){return Kt(pn,e,!1)}function Ha(e){return Kt(Cn|zr,e,!0)}function On(e,t=0){return Kt(An|t,e,!0)}function $(e,t=[],r=[],s=[]){xa(s,t,r,a=>{Kt(An,()=>e(...a.map(i)),!0)})}function fs(e,t=0){var r=Kt(Gt|t,e,!0);return A&&(r.dev_stack=tn),r}function gt(e){return Kt(Yt|zr,e,!0)}function hi(e){var t=e.teardown;if(t!==null){const r=Er,s=H;Is(!0),tt(null);try{t.call(null)}finally{Is(r),tt(s)}}}function pi(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const a=r.ac;a!==null&&qn(()=>{a.abort(jr)});var s=r.next;(r.f&Sr)!==0?r.parent=null:rt(r,t),r=s}}function Ba(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Yt)===0&&rt(t),t=r}}function rt(e,t=!0){var r=!1;(t||(e.f&zs)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ua(e.nodes.start,e.nodes.end),r=!0),pi(e,t&&!r),kn(e,0),Re(e,nr);var s=e.nodes&&e.nodes.t;if(s!==null)for(const n of s)n.stop();hi(e);var a=e.parent;a!==null&&a.first!==null&&mi(e),A&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ua(e,t){for(;e!==null;){var r=e===t?null:on(e);e.remove(),e=r}}function mi(e){var t=e.parent,r=e.prev,s=e.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=r))}function gr(e,t,r=!0){var s=[];gi(e,s,!0);var a=()=>{r&&rt(e),t&&t()},n=s.length;if(n>0){var l=()=>--n||a();for(var o of s)o.out(l)}else a()}function gi(e,t,r){if((e.f&dt)===0){e.f^=dt;var s=e.nodes&&e.nodes.t;if(s!==null)for(const o of s)(o.is_global||r)&&t.push(o);for(var a=e.first;a!==null;){var n=a.next,l=(a.f&$r)!==0||(a.f&Yt)!==0&&(e.f&Gt)!==0;gi(a,t,l?r:!1),a=n}}}function ds(e){bi(e,!0)}function bi(e,t){if((e.f&dt)!==0){e.f^=dt,(e.f&Ge)===0&&(Re(e,Ke),Wt(e));for(var r=e.first;r!==null;){var s=r.next,a=(r.f&$r)!==0||(r.f&Yt)!==0;bi(r,a?t:!1),r=s}var n=e.nodes&&e.nodes.t;if(n!==null)for(const l of n)(l.is_global||t)&&l.in()}}function yi(e,t){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end;r!==null;){var a=r===s?null:on(r);t.append(r),r=a}}let br=!1;function xn(e){br=e}let Er=!1;function Is(e){Er=e}let H=null,It=!1;function tt(e){H=e}let X=null;function At(e){X=e}let Je=null;function wi(e){H!==null&&(Je===null?Je=[e]:Je.push(e))}let et=null,ut=0,_t=null;function za(e){_t=e}let xi=1,ur=0,yr=ur;function As(e){yr=e}function ki(){return++xi}function cn(e){var t=e.f;if((t&Ke)!==0)return!0;if(t&Be&&(e.f&=~lr),(t&Jt)!==0){for(var r=e.deps,s=r.length,a=0;a<s;a++){var n=r[a];if(cn(n)&&li(n),n.wv>e.wv)return!0}(t&wt)!==0&&He===null&&Re(e,Ge)}return!1}function Ei(e,t,r=!0){var s=e.reactions;if(s!==null&&!(Je!=null&&Je.includes(e)))for(var a=0;a<s.length;a++){var n=s[a];(n.f&Be)!==0?Ei(n,t,!1):t===n&&(r?Re(n,Ke):(n.f&Ge)!==0&&Re(n,Jt),Wt(n))}}function Gn(e){var b;var t=et,r=ut,s=_t,a=H,n=Je,l=We,o=It,v=yr,m=e.f;et=null,ut=0,_t=null,H=(m&(Yt|Sr))===0?e:null,Je=null,Mr(e.ctx),It=!1,yr=++ur,e.ac!==null&&(qn(()=>{e.ac.abort(jr)}),e.ac=null);try{e.f|=$n;var h=e.fn,u=h(),_=e.deps;if(et!==null){var g;if(kn(e,ut),_!==null&&ut>0)for(_.length=ut+et.length,g=0;g<et.length;g++)_[ut+g]=et[g];else e.deps=_=et;if(vs()&&(e.f&wt)!==0)for(g=ut;g<_.length;g++)((b=_[g]).reactions??(b.reactions=[])).push(e)}else _!==null&&ut<_.length&&(kn(e,ut),_.length=ut);if(Ks()&&_t!==null&&!It&&_!==null&&(e.f&(Be|Jt|Ke))===0)for(g=0;g<_t.length;g++)Ei(_t[g],e);if(a!==null&&a!==e){if(ur++,a.deps!==null)for(let k=0;k<r;k+=1)a.deps[k].rv=ur;if(t!==null)for(const k of t)k.rv=ur;_t!==null&&(s===null?s=_t:s.push(..._t))}return(e.f&sr)!==0&&(e.f^=sr),u}catch(k){return Zs(k)}finally{e.f^=$n,et=t,ut=r,_t=s,H=a,Je=n,Mr(l),It=o,yr=v}}function Va(e,t){let r=t.reactions;if(r!==null){var s=Di.call(r,e);if(s!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[s]=r[a],r.pop())}}if(r===null&&(t.f&Be)!==0&&(et===null||!et.includes(t))){var n=t;(n.f&wt)!==0&&(n.f^=wt,n.f&=~lr),ss(n),Wn(n),kn(n,0)}}function kn(e,t){var r=e.deps;if(r!==null)for(var s=t;s<r.length;s++)Va(e,r[s])}function rn(e){var t=e.f;if((t&nr)===0){Re(e,Ge);var r=X,s=br;if(X=e,br=!0,A){var a=ln;xs(e.component_function);var n=tn;gn(e.dev_stack??tn)}try{(t&(Gt|Us))!==0?Ba(e):pi(e),hi(e);var l=Gn(e);e.teardown=typeof l=="function"?l:null,e.wv=xi;var o;A&&oa&&(e.f&Ke)!==0&&e.deps}finally{br=s,X=r,A&&(xs(a),gn(n))}}}async function Wa(){await Promise.resolve(),_a()}function i(e){var t=e.f,r=(t&Be)!==0;if(H!==null&&!It){var s=X!==null&&(X.f&nr)!==0;if(!s&&!(Je!=null&&Je.includes(e))){var a=H.deps;if((H.f&$n)!==0)e.rv<ur&&(e.rv=ur,et===null&&a!==null&&a[ut]===e?ut++:et===null?et=[e]:et.push(e));else{(H.deps??(H.deps=[])).push(e);var n=e.reactions;n===null?e.reactions=[H]:n.includes(H)||n.push(H)}}}if(A&&Ea.delete(e),Er&&ir.has(e))return ir.get(e);if(r){var l=e;if(Er){var o=l.v;return((l.f&Ge)===0&&l.reactions!==null||Ti(l))&&(o=as(l)),ir.set(l,o),o}var v=(l.f&wt)===0&&!It&&H!==null&&(br||(H.f&wt)!==0),m=l.deps===null;cn(l)&&(v&&(l.f|=wt),li(l)),v&&!m&&Si(l)}if(He!=null&&He.has(e))return He.get(e);if((e.f&sr)!==0)throw e.v;return e.v}function Si(e){if(e.deps!==null){e.f|=wt;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&Be)!==0&&(t.f&wt)===0&&Si(t)}}function Ti(e){if(e.v===$e)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ir.has(t)||(t.f&Be)!==0&&Ti(t))return!0;return!1}function Pn(e){var t=It;try{return It=!0,e()}finally{It=t}}const Ga=["touchstart","touchmove"];function Ya(e){return Ga.includes(e)}const Ii=new Set,Yn=new Set;function Ja(e,t,r,s={}){function a(n){if(s.capture||Yr.call(t,n),!n.cancelBubble)return qn(()=>r==null?void 0:r.call(this,n))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Gr(()=>{t.addEventListener(e,a,s)}):t.addEventListener(e,a,s),a}function dn(e,t,r,s,a){var n={capture:s,passive:a},l=Ja(e,t,r,n);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&us(()=>{t.removeEventListener(e,l,n)})}function vn(e){for(var t=0;t<e.length;t++)Ii.add(e[t]);for(var r of Yn)r(e)}let Cs=null;function Yr(e){var y;var t=this,r=t.ownerDocument,s=e.type,a=((y=e.composedPath)==null?void 0:y.call(e))||[],n=a[0]||e.target;Cs=e;var l=0,o=Cs===e&&e.__root;if(o){var v=a.indexOf(o);if(v!==-1&&(t===document||t===window)){e.__root=t;return}var m=a.indexOf(t);if(m===-1)return;v<=m&&(l=v)}if(n=a[l]||e.target,n!==t){xr(e,"currentTarget",{configurable:!0,get(){return n||r}});var h=H,u=X;tt(null),At(null);try{for(var _,g=[];n!==null;){var b=n.assignedSlot||n.parentNode||n.host||null;try{var k=n["__"+s];k!=null&&(!n.disabled||e.target===n)&&k.call(n,e)}catch(S){_?g.push(S):_=S}if(e.cancelBubble||b===t||b===null)break;n=b}if(_){for(let S of g)queueMicrotask(()=>{throw S});throw _}}finally{e.__root=t,delete e.currentTarget,tt(h),At(u)}}}function Ka(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Jn(e,t){var r=X;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function E(e,t){var r=(t&ra)!==0,s=(t&na)!==0,a,n=!e.startsWith("<!>");return()=>{a===void 0&&(a=Ka(n?e:"<!>"+e),r||(a=wn(a)));var l=s||os?document.importNode(a,!0):a.cloneNode(!0);if(r){var o=wn(l),v=l.lastChild;Jn(o,v)}else Jn(l,l);return l}}function Me(){var e=document.createDocumentFragment(),t=document.createComment(""),r=ar();return e.append(t,r),Jn(t,r),e}function x(e,t){e!==null&&e.before(t)}function T(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Qa(e,t){return Za(e,t)}const Ar=new Map;function Za(e,{target:t,anchor:r,props:s={},events:a,context:n,intro:l=!0}){Ra();var o=new Set,v=u=>{for(var _=0;_<u.length;_++){var g=u[_];if(!o.has(g)){o.add(g);var b=Ya(g);t.addEventListener(g,Yr,{passive:b});var k=Ar.get(g);k===void 0?(document.addEventListener(g,Yr,{passive:b}),Ar.set(g,1)):Ar.set(g,k+1)}}};v(In(Ii)),Yn.add(v);var m=void 0,h=Ma(()=>{var u=r??t.appendChild(ar());return ga(u,{pending:()=>{}},_=>{if(n){Vr({});var g=We;g.c=n}a&&(s.$$events=a),m=e(_,s)||{},n&&Wr()}),()=>{var b;for(var _ of o){t.removeEventListener(_,Yr);var g=Ar.get(_);--g===0?(document.removeEventListener(_,Yr),Ar.delete(_)):Ar.set(_,g)}Yn.delete(v),u!==r&&((b=u.parentNode)==null||b.removeChild(u))}});return Xa.set(m,h),m}let Xa=new WeakMap;var Tt,Rt,ft,mr,sn,an,Tn;class el{constructor(t,r=!0){Et(this,"anchor");G(this,Tt,new Map);G(this,Rt,new Map);G(this,ft,new Map);G(this,mr,new Set);G(this,sn,!0);G(this,an,()=>{var t=M;if(p(this,Tt).has(t)){var r=p(this,Tt).get(t),s=p(this,Rt).get(r);if(s)ds(s),p(this,mr).delete(r);else{var a=p(this,ft).get(r);a&&(p(this,Rt).set(r,a.effect),p(this,ft).delete(r),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),s=a.effect)}for(const[n,l]of p(this,Tt)){if(p(this,Tt).delete(n),n===t)break;const o=p(this,ft).get(l);o&&(rt(o.effect),p(this,ft).delete(l))}for(const[n,l]of p(this,Rt)){if(n===r||p(this,mr).has(n))continue;const o=()=>{if(Array.from(p(this,Tt).values()).includes(n)){var m=document.createDocumentFragment();yi(l,m),m.append(ar()),p(this,ft).set(n,{effect:l,fragment:m})}else rt(l);p(this,mr).delete(n),p(this,Rt).delete(n)};p(this,sn)||!s?(p(this,mr).add(n),gr(l,o,!1)):o()}}});G(this,Tn,t=>{p(this,Tt).delete(t);const r=Array.from(p(this,Tt).values());for(const[s,a]of p(this,ft))r.includes(s)||(rt(a.effect),p(this,ft).delete(s))});this.anchor=t,V(this,sn,r)}ensure(t,r){var s=M,a=fi();if(r&&!p(this,Rt).has(t)&&!p(this,ft).has(t))if(a){var n=document.createDocumentFragment(),l=ar();n.append(l),p(this,ft).set(t,{effect:gt(()=>r(l)),fragment:n})}else p(this,Rt).set(t,gt(()=>r(this.anchor)));if(p(this,Tt).set(s,t),a){for(const[o,v]of p(this,Rt))o===t?s.skipped_effects.delete(v):s.skipped_effects.add(v);for(const[o,v]of p(this,ft))o===t?s.skipped_effects.delete(v.effect):s.skipped_effects.add(v.effect);s.oncommit(p(this,an)),s.ondiscard(p(this,Tn))}else p(this,an).call(this)}}Tt=new WeakMap,Rt=new WeakMap,ft=new WeakMap,mr=new WeakMap,sn=new WeakMap,an=new WeakMap,Tn=new WeakMap;function q(e,t,r=!1){var s=new el(e),a=r?$r:0;function n(l,o){s.ensure(l,o)}fs(()=>{var l=!1;t((o,v=!0)=>{l=!0,n(v,o)}),l||n(!1,null)},a)}function wr(e,t){return t}function tl(e,t,r){for(var s=[],a=t.length,n,l=t.length,o=0;o<a;o++){let u=t[o];gr(u,()=>{if(n){if(n.pending.delete(u),n.done.add(u),n.pending.size===0){var _=e.outrogroups;Kn(In(n.done)),_.delete(n),_.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var v=s.length===0&&r!==null;if(v){var m=r,h=m.parentNode;Fa(h),h.append(m),e.items.clear()}Kn(t,!v)}else n={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(n)}function Kn(e,t=!0){for(var r=0;r<e.length;r++)rt(e[r],t)}var js;function yt(e,t,r,s,a,n=null){var l=e,o=new Map,v=(t&Ws)!==0;if(v){var m=e;l=m.appendChild(ar())}var h=null,u=Ta(()=>{var S=r();return Xn(S)?S:S==null?[]:In(S)}),_,g=!0;function b(){y.fallback=h,rl(y,_,l,t,s),h!==null&&(_.length===0?(h.f&Ut)===0?ds(h):(h.f^=Ut,Jr(h,null,l)):gr(h,()=>{h=null}))}var k=fs(()=>{_=i(u);for(var S=_.length,C=new Set,ee=M,te=fi(),re=0;re<S;re+=1){var me=_[re],le=s(me,re),oe=g?null:o.get(le);oe?(oe.v&&Ur(oe.v,me),oe.i&&Ur(oe.i,re),te&&ee.skipped_effects.delete(oe.e)):(oe=nl(o,g?l:js??(js=ar()),me,le,re,a,t,r),g||(oe.e.f|=Ut),o.set(le,oe)),C.add(le)}if(S===0&&n&&!h&&(g?h=gt(()=>n(l)):(h=gt(()=>n(js??(js=ar()))),h.f|=Ut)),!g)if(te){for(const[nt,Fe]of o)C.has(nt)||ee.skipped_effects.add(Fe.e);ee.oncommit(b),ee.ondiscard(()=>{})}else b();i(u)}),y={effect:k,items:o,outrogroups:null,fallback:h};g=!1}function rl(e,t,r,s,a){var Fe,F,ge,be,ke,Ee,fe,Ae,st;var n=(s&ea)!==0,l=t.length,o=e.items,v=e.effect.first,m,h=null,u,_=[],g=[],b,k,y,S;if(n)for(S=0;S<l;S+=1)b=t[S],k=a(b,S),y=o.get(k).e,(y.f&Ut)===0&&((F=(Fe=y.nodes)==null?void 0:Fe.a)==null||F.measure(),(u??(u=new Set)).add(y));for(S=0;S<l;S+=1){if(b=t[S],k=a(b,S),y=o.get(k).e,e.outrogroups!==null)for(const L of e.outrogroups)L.pending.delete(y),L.done.delete(y);if((y.f&Ut)!==0)if(y.f^=Ut,y===v)Jr(y,null,r);else{var C=h?h.next:v;y===e.effect.last&&(e.effect.last=y.prev),y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),er(e,h,y),er(e,y,C),Jr(y,C,r),h=y,_=[],g=[],v=h.next;continue}if((y.f&dt)!==0&&(ds(y),n&&((be=(ge=y.nodes)==null?void 0:ge.a)==null||be.unfix(),(u??(u=new Set)).delete(y))),y!==v){if(m!==void 0&&m.has(y)){if(_.length<g.length){var ee=g[0],te;h=ee.prev;var re=_[0],me=_[_.length-1];for(te=0;te<_.length;te+=1)Jr(_[te],ee,r);for(te=0;te<g.length;te+=1)m.delete(g[te]);er(e,re.prev,me.next),er(e,h,re),er(e,me,ee),v=ee,h=me,S-=1,_=[],g=[]}else m.delete(y),Jr(y,v,r),er(e,y.prev,y.next),er(e,y,h===null?e.effect.first:h.next),er(e,h,y),h=y;continue}for(_=[],g=[];v!==null&&v!==y;)(m??(m=new Set)).add(v),g.push(v),v=v.next;if(v===null)continue}(y.f&Ut)===0&&_.push(y),h=y,v=y.next}if(e.outrogroups!==null){for(const L of e.outrogroups)L.pending.size===0&&(Kn(In(L.done)),(ke=e.outrogroups)==null||ke.delete(L));e.outrogroups.size===0&&(e.outrogroups=null)}if(v!==null||m!==void 0){var le=[];if(m!==void 0)for(y of m)(y.f&dt)===0&&le.push(y);for(;v!==null;)(v.f&dt)===0&&v!==e.fallback&&le.push(v),v=v.next;var oe=le.length;if(oe>0){var nt=(s&Ws)!==0&&l===0?r:null;if(n){for(S=0;S<oe;S+=1)(fe=(Ee=le[S].nodes)==null?void 0:Ee.a)==null||fe.measure();for(S=0;S<oe;S+=1)(st=(Ae=le[S].nodes)==null?void 0:Ae.a)==null||st.fix()}tl(e,le,nt)}}n&&Gr(()=>{var L,ae;if(u!==void 0)for(y of u)(ae=(L=y.nodes)==null?void 0:L.a)==null||ae.apply()})}function nl(e,t,r,s,a,n,l,o){var v=(l&Zi)!==0?(l&ta)===0?Ca(r,!1,!1):kr(r):null,m=(l&Xi)!==0?kr(a):null;return A&&v&&(v.trace=()=>{o()[(m==null?void 0:m.v)??a]}),{v,i:m,e:gt(()=>(n(t,v??r,m??a,o),()=>{e.delete(s)}))}}function Jr(e,t,r){if(e.nodes)for(var s=e.nodes.start,a=e.nodes.end,n=t&&(t.f&Ut)===0?t.nodes.start:r;s!==null;){var l=on(s);if(n.before(s),s===a)return;s=l}}function er(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const qs=[...` 	
\r\f \v\uFEFF`];function sl(e,t,r){var s=e==null?"":""+e;if(t&&(s=s?s+" "+t:t),r){for(var a in r)if(r[a])s=s?s+" "+a:a;else if(s.length)for(var n=a.length,l=0;(l=s.indexOf(a,l))>=0;){var o=l+n;(l===0||qs.includes(s[l-1]))&&(o===s.length||qs.includes(s[o]))?s=(l===0?"":s.substring(0,l))+s.substring(o+1):l=o}}return s===""?null:s}function il(e,t){return e==null?null:String(e)}function Te(e,t,r,s,a,n){var l=e.__className;if(l!==r||l===void 0){var o=sl(r,s,n);o==null?e.removeAttribute("class"):e.className=o,e.__className=r}else if(n&&a!==n)for(var v in n){var m=!!n[v];(a==null||m!==!!a[v])&&e.classList.toggle(v,m)}return n}function bt(e,t,r,s){var a=e.__style;if(a!==t){var n=il(t);n==null?e.removeAttribute("style"):e.style.cssText=n,e.__style=t}return s}function Ai(e,t,r=!1){if(e.multiple){if(t==null)return;if(!Xn(t))return ia();for(var s of e.options)s.selected=t.includes(en(s));return}for(s of e.options){var a=en(s);if(qa(a,t)){s.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function al(e){var t=new MutationObserver(()=>{Ai(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),us(()=>{t.disconnect()})}function Qn(e,t,r=t){var s=new WeakSet,a=!0;cs(e,"change",n=>{var l=n?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(l),en);else{var v=e.querySelector(l)??e.querySelector("option:not([disabled])");o=v&&en(v)}r(o),M!==null&&s.add(M)}),_i(()=>{var n=t();if(e===document.activeElement){var l=Kr??M;if(s.has(l))return}if(Ai(e,n,a),a&&n===void 0){var o=e.querySelector(":checked");o!==null&&(n=en(o),r(n))}e.__value=n,a=!1}),al(e)}function en(e){return"__value"in e?e.__value:e.value}function vt(e,t,r=t){var s=new WeakSet;cs(e,"input",async a=>{A&&e.type==="checkbox"&&ws();var n=a?e.defaultValue:e.value;if(n=Ln(e)?Nn(n):n,r(n),M!==null&&s.add(M),await Wa(),n!==(n=t())){var l=e.selectionStart,o=e.selectionEnd,v=e.value.length;if(e.value=n??"",o!==null){var m=e.value.length;l===o&&o===v&&m>v?(e.selectionStart=m,e.selectionEnd=m):(e.selectionStart=l,e.selectionEnd=Math.min(o,m))}}}),Pn(t)==null&&e.value&&(r(Ln(e)?Nn(e.value):e.value),M!==null&&s.add(M)),On(()=>{A&&e.type==="checkbox"&&ws();var a=t();if(e===document.activeElement){var n=Kr??M;if(s.has(n))return}Ln(e)&&a===Nn(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Cr(e,t,r=t){cs(e,"change",s=>{var a=s?e.defaultChecked:e.checked;r(a)}),Pn(t)==null&&r(e.checked),On(()=>{var s=t();e.checked=!!s})}function Ln(e){var t=e.type;return t==="number"||t==="range"}function Nn(e){return e===""?null:+e}function Os(e,t){return e===t||(e==null?void 0:e[Or])===t}function ll(e={},t,r,s){return _i(()=>{var a,n;return On(()=>{a=n,n=[],Pn(()=>{e!==r(...n)&&(t(e,...n),a&&Os(r(...a),e)&&t(null,...a))})}),()=>{Gr(()=>{n&&Os(r(...n),e)&&t(null,...n)})}}),e}if(A){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;Gi(t)},set:s=>{r=s}})}};var No=e;e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}const ol="5";var Hs;typeof window<"u"&&((Hs=window.__svelte??(window.__svelte={})).v??(Hs.v=new Set)).add(ol);const _s="/api";async function Qt(e){const t=await fetch(`${_s}${e}`);if(!t.ok)throw new Error(`API error: ${t.status} ${t.statusText}`);return t.json()}async function hs(e,t){const r=await fetch(`${_s}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const s=await r.json().catch(()=>({error:r.statusText}));throw new Error(s.error||`API error: ${r.status}`)}return r.json()}async function cl(e,t){const r=await fetch(`${_s}${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const s=await r.json().catch(()=>({error:r.statusText}));throw new Error(s.error||`API error: ${r.status}`)}return r.json()}async function vl(){return Qt("/projects")}async function ul(e){return Qt(`/projects/${e}/health`)}async function Ps(e){return Qt(`/projects/${e}/files`)}async function Ds(e){return Qt(`/projects/${e}/decisions`)}async function Rs(e){return Qt(`/projects/${e}/issues`)}async function Fs(e){return Qt(`/projects/${e}/learnings`)}async function fl(e){return Qt(`/projects/${e}/sessions`)}async function dl(e){return Qt(`/projects/${e}/relationships`)}async function _l(e){return Qt(`/projects/${e}/graph`)}async function hl(e,t){return hs(`/projects/${e}/issues`,t)}async function pl(e,t,r){return cl(`/projects/${e}/issues/${t}/resolve`,{resolution:r})}async function ml(e,t){return hs(`/projects/${e}/decisions`,t)}async function gl(e,t){return hs(`/projects/${e}/learnings`,t)}var bl=E('<div class="card error-card svelte-bqunow"><p> </p></div>'),yl=E('<div class="fragile-item svelte-bqunow"><div class="fragile-bar svelte-bqunow"></div> <div class="fragile-info svelte-bqunow"><span class="mono"> </span> <span class="fragile-score svelte-bqunow"> </span></div></div>'),wl=E('<div class="card section svelte-bqunow"><h3 class="svelte-bqunow">Fragile Files</h3> <div class="fragile-grid svelte-bqunow"></div></div>'),xl=E('<span class="badge badge-hot" style="background: rgba(16, 185, 129, 0.2); color: #10b981">success</span>'),kl=E('<span class="badge badge-warm">partial</span>'),El=E('<span class="badge badge-hot">failed</span>'),Sl=E('<span class="badge badge-cold">active</span>'),Tl=E('<tr><td class="mono"> </td><td> </td><td class="text-muted svelte-bqunow"> </td><td><!></td></tr>'),Il=E('<div class="card section svelte-bqunow"><h3 class="svelte-bqunow">Recent Sessions</h3> <table><thead><tr><th>#</th><th>Goal</th><th>Outcome</th><th>Status</th></tr></thead><tbody></tbody></table></div>'),Al=E('<div class="page-header svelte-bqunow"><h1> </h1> <span> </span></div> <div class="grid grid-4 stats-grid svelte-bqunow"><button class="card stat-card clickable svelte-bqunow"><div class="stat-value svelte-bqunow"> </div> <div class="stat-label svelte-bqunow">Files</div></button> <button class="card stat-card clickable svelte-bqunow"><div class="stat-value svelte-bqunow"> </div> <div class="stat-label svelte-bqunow">Open Issues</div></button> <button class="card stat-card clickable svelte-bqunow"><div class="stat-value svelte-bqunow"> </div> <div class="stat-label svelte-bqunow">Decisions</div></button> <button class="card stat-card clickable svelte-bqunow"><div class="stat-value svelte-bqunow"> </div> <div class="stat-label svelte-bqunow">Debt Score</div></button></div> <!> <!>',1),Cl=E('<div class="loading svelte-bqunow">Loading...</div>'),jl=E('<div class="health-page svelte-bqunow"><!></div>');function Ls(e,t){Vr(t,!0);let r=P(null),s=P(null);Vt(()=>{t.projectId&&ul(t.projectId).then(h=>{w(r,h,!0),w(s,null)}).catch(h=>{w(s,h.message,!0)})});function a(h){return h>=8?"var(--danger)":h>=6?"var(--warning)":h>=4?"var(--accent-1)":"var(--accent-4)"}function n(h){window.location.hash=h}var l=jl(),o=c(l);{var v=h=>{var u=bl(),_=c(u),g=c(_);$(()=>T(g,`Failed to load health data: ${i(s)??""}`)),x(h,u)},m=h=>{var u=Me(),_=Ie(u);{var g=k=>{var y=Al(),S=Ie(y),C=c(S),ee=c(C),te=f(C,2),re=c(te),me=f(S,2),le=c(me);le.__click=()=>n("/memory?tab=files");var oe=c(le),nt=c(oe),Fe=f(le,2);Fe.__click=()=>n("/memory?tab=issues");var F=c(Fe),ge=c(F),be=f(Fe,2);be.__click=()=>n("/memory?tab=decisions");var ke=c(be),Ee=c(ke),fe=f(be,2);fe.__click=()=>n("/memory?tab=issues&type=tech-debt");var Ae=c(fe),st=c(Ae),L=f(me,2);{var ae=Ce=>{var Qe=wl(),je=f(c(Qe),2);yt(je,21,()=>i(r).fragileFiles,wr,(ye,Le)=>{var de=yl(),it=c(de),at=f(it,2),Oe=c(at),Ct=c(Oe),or=f(Oe,2),Zt=c(or);$(I=>{bt(it,`width: ${i(Le).fragility*10}%; background: ${I??""}`),T(Ct,i(Le).path),T(Zt,`${i(Le).fragility??""}/10`)},[()=>a(i(Le).fragility)]),x(ye,de)}),x(Ce,Qe)};q(L,Ce=>{i(r).fragileFiles.length>0&&Ce(ae)})}var Se=f(L,2);{var Ye=Ce=>{var Qe=Il(),je=f(c(Qe),2),ye=f(c(je));yt(ye,21,()=>i(r).recentSessions,wr,(Le,de)=>{var it=Tl(),at=c(it),Oe=c(at),Ct=f(at),or=c(Ct),Zt=f(Ct),I=c(Zt),D=f(Zt),ve=c(D);{var _e=ce=>{var Y=xl();x(ce,Y)},we=ce=>{var Y=Me(),jt=Ie(Y);{var Ft=d=>{var j=kl();x(d,j)},Lt=d=>{var j=Me(),se=Ie(j);{var xe=U=>{var ue=El();x(U,ue)},B=U=>{var ue=Sl();x(U,ue)};q(se,U=>{i(de).success===0?U(xe):U(B,!1)},!0)}x(d,j)};q(jt,d=>{i(de).success===1?d(Ft):d(Lt,!1)},!0)}x(ce,Y)};q(ve,ce=>{i(de).success===2?ce(_e):ce(we,!1)})}$(()=>{T(Oe,i(de).session_number??i(de).id),T(or,i(de).goal??"—"),T(I,i(de).outcome??"—")}),x(Le,it)}),x(Ce,Qe)};q(Se,Ce=>{i(r).recentSessions.length>0&&Ce(Ye)})}$(()=>{T(ee,i(r).project.name),Te(te,1,`badge badge-${i(r).project.mode??""}`,"svelte-bqunow"),T(re,i(r).project.mode),T(nt,i(r).fileCount),bt(F,`color: ${i(r).openIssues>0?"var(--warning)":"var(--accent-4)"}`),T(ge,i(r).openIssues),T(Ee,i(r).activeDecisions),bt(Ae,`color: ${i(r).techDebtScore>50?"var(--danger)":"var(--accent-4)"}`),T(st,i(r).techDebtScore)}),x(k,y)},b=k=>{var y=Cl();x(k,y)};q(_,k=>{i(r)?k(g):k(b,!1)},!0)}x(h,u)};q(o,h=>{i(s)?h(v):h(m,!1)})}x(e,l),Wr()}vn(["click"]);const ql="modulepreload",Ol=function(e){return"/"+e},Ns={},Pl=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){let l=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),v=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=l(r.map(m=>{if(m=Ol(m),m in Ns)return;Ns[m]=!0;const h=m.endsWith(".css"),u=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${u}`))return;const _=document.createElement("link");if(_.rel=h?"stylesheet":ql,h||(_.as="script"),_.crossOrigin="",_.href=m,v&&_.setAttribute("nonce",v),document.head.appendChild(_),h)return new Promise((g,b)=>{_.addEventListener("load",g),_.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function n(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&n(o.reason);return t().catch(n)})};var Dl=E('<div class="card error-card svelte-ywtowa"><p> </p></div>'),Rl=E('<div class="empty svelte-ywtowa">No graph data available. Add files, decisions, and relationships to see the knowledge graph.</div>'),Fl=E('<div class="empty svelte-ywtowa">No nodes match the current filters. Try adjusting filters or disabling "Hide disconnected".</div>'),Ll=E("<span> </span>"),Nl=E('<div class="rel-item svelte-ywtowa"><span class="rel-type svelte-ywtowa"> </span> <span class="rel-arrow svelte-ywtowa">→</span> <span class="rel-label svelte-ywtowa"> </span></div>'),$l=E('<div class="rel-group svelte-ywtowa"><h4 class="svelte-ywtowa">Incoming</h4> <!></div>'),Ml=E('<div class="rel-item svelte-ywtowa"><span class="rel-label svelte-ywtowa"> </span> <span class="rel-arrow svelte-ywtowa">→</span> <span class="rel-type svelte-ywtowa"> </span></div>'),Hl=E('<div class="rel-group svelte-ywtowa"><h4 class="svelte-ywtowa">Outgoing</h4> <!></div>'),Bl=E('<div class="relationships-section svelte-ywtowa"><!> <!></div>'),Ul=E('<p class="no-relationships svelte-ywtowa">No relationships recorded</p>'),zl=E('<div class="detail-panel card svelte-ywtowa"><div class="detail-header svelte-ywtowa"><span class="detail-type svelte-ywtowa"> </span> <button class="btn">Close</button></div> <h3> </h3> <!> <!></div>'),Vl=E('<div class="legend-item svelte-ywtowa"><span class="legend-dot svelte-ywtowa"></span> <span> </span></div>'),Wl=E('<div class="graph-page svelte-ywtowa"><!> <div class="filter-panel card svelte-ywtowa"><div class="filter-row svelte-ywtowa"><input type="text" class="search-input svelte-ywtowa" placeholder="Search nodes..."/></div> <div class="filter-row svelte-ywtowa"><label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Files</label> <label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Decisions</label> <label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Learnings</label> <label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Issues</label> <label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Sessions</label> <label class="filter-checkbox hide-disconnected svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> Hide disconnected</label></div></div> <div class="graph-container svelte-ywtowa"><!></div> <!> <div class="legend card svelte-ywtowa"></div></div>');function Gl(e,t){Vr(t,!0);let r,s=P(null),a=P(qe([])),n=P(null),l=P(null),o=P(""),v=P(qe(new Set)),m=P(!0),h=P(!0),u=P(!0),_=P(!0),g=P(!0),b=P(!0);const k={file:"#06b6d4",decision:"#8b5cf6",learning:"#10b981",issue:"#ef4444",session:"#f59e0b"};function y(I){const D={file:i(m),decision:i(h),learning:i(u),issue:i(_),session:i(g)};let ve=I.nodes.filter(Y=>D[Y.type]??!0);const _e=new Set;for(const Y of I.edges)_e.add(Y.source),_e.add(Y.target);i(b)&&(ve=ve.filter(Y=>_e.has(Y.id)));const we=new Set(ve.map(Y=>Y.id)),ce=I.edges.filter(Y=>we.has(Y.source)&&we.has(Y.target));return{nodes:ve,edges:ce}}function S(I){const[D,ve]=I.split(":"),_e=parseInt(ve,10),we=i(a).filter(Y=>Y.target_type===D&&Y.target_id===_e),ce=i(a).filter(Y=>Y.source_type===D&&Y.source_id===_e);return{incoming:we,outgoing:ce}}function C(){if(!i(o)||!i(s)){w(v,new Set,!0);return}const I=i(o).toLowerCase();w(v,new Set(i(s).nodes.filter(D=>D.label.toLowerCase().includes(I)).map(D=>D.id)),!0)}Vt(()=>{C()}),Vt(()=>{t.projectId&&Promise.all([_l(t.projectId),dl(t.projectId)]).then(([I,D])=>{w(s,I,!0),w(a,D,!0),w(l,null),ee(y(I))}).catch(I=>{w(l,I.message,!0)})}),Vt(()=>{i(s)&&(i(m),i(h),i(u),i(_),i(g),i(b),ee(y(i(s))))});async function ee(I){if(!r||!I||I.nodes.length===0)return;const D=await Pl(()=>import("./index-6PKoUFgn.js"),[]),ve=r.clientWidth,_e=r.clientHeight;D.select(r).selectAll("svg").remove();const we=D.select(r).append("svg").attr("width",ve).attr("height",_e).attr("viewBox",[0,0,ve,_e]),ce=we.append("g");we.call(D.zoom().scaleExtent([.1,4]).on("zoom",d=>{ce.attr("transform",d.transform)}));const Y=D.forceSimulation(I.nodes).force("link",D.forceLink(I.edges).id(d=>d.id).distance(80)).force("charge",D.forceManyBody().strength(-200)).force("center",D.forceCenter(ve/2,_e/2)).force("collision",D.forceCollide().radius(25)),jt=ce.append("g").selectAll("line").data(I.edges).join("line").attr("stroke","#1e3a5f").attr("stroke-opacity",.6).attr("stroke-width",d=>Math.max(1,d.strength/3)),Ft=ce.append("g").selectAll("circle").data(I.nodes).join("circle").attr("r",d=>Math.max(6,d.size)).attr("fill",d=>k[d.type]||"#64748b").attr("stroke",d=>i(v).has(d.id)?"#fff":"#0a0e1a").attr("stroke-width",d=>i(v).has(d.id)?3:1.5).attr("cursor","pointer").style("filter",d=>i(v).size>0&&!i(v).has(d.id)?"opacity(0.3)":"none").on("click",(d,j)=>{w(n,j,!0)}).call(D.drag().on("start",(d,j)=>{d.active||Y.alphaTarget(.3).restart(),j.fx=j.x,j.fy=j.y}).on("drag",(d,j)=>{j.fx=d.x,j.fy=d.y}).on("end",(d,j)=>{d.active||Y.alphaTarget(0),j.fx=null,j.fy=null})),Lt=ce.append("g").selectAll("text").data(I.nodes).join("text").text(d=>d.label.length>20?d.label.substring(0,20)+"...":d.label).attr("font-size","10px").attr("fill","#94a3b8").attr("dx",12).attr("dy",4);Y.on("tick",()=>{jt.attr("x1",d=>d.source.x).attr("y1",d=>d.source.y).attr("x2",d=>d.target.x).attr("y2",d=>d.target.y),Ft.attr("cx",d=>d.x).attr("cy",d=>d.y),Lt.attr("x",d=>d.x).attr("y",d=>d.y)})}var te=Wl(),re=c(te);{var me=I=>{var D=Dl(),ve=c(D),_e=c(ve);$(()=>T(_e,`Failed to load graph: ${i(l)??""}`)),x(I,D)};q(re,I=>{i(l)&&I(me)})}var le=f(re,2),oe=c(le),nt=c(oe),Fe=f(oe,2),F=c(Fe),ge=c(F),be=f(ge,2),ke=f(F,2),Ee=c(ke),fe=f(Ee,2),Ae=f(ke,2),st=c(Ae),L=f(st,2),ae=f(Ae,2),Se=c(ae),Ye=f(Se,2),Ce=f(ae,2),Qe=c(Ce),je=f(Qe,2),ye=f(Ce,2),Le=c(ye),de=f(le,2),it=c(de);{var at=I=>{var D=Rl();x(I,D)},Oe=I=>{var D=Me(),ve=Ie(D);{var _e=we=>{var ce=Fl();x(we,ce)};q(ve,we=>{y(i(s)).nodes.length===0&&we(_e)},!0)}x(I,D)};q(it,I=>{!i(s)||i(s).nodes.length===0?I(at):I(Oe,!1)})}ll(de,I=>r=I,()=>r);var Ct=f(de,2);{var or=I=>{const D=yn(()=>S(i(n).id));var ve=zl(),_e=c(ve),we=c(_e),ce=c(we),Y=f(we,2);Y.__click=()=>w(n,null);var jt=f(_e,2),Ft=c(jt),Lt=f(jt,2);{var d=B=>{var U=Ll(),ue=c(U);$(()=>{Te(U,1,`badge badge-${i(n).temperature??""}`,"svelte-ywtowa"),T(ue,i(n).temperature)}),x(B,U)};q(Lt,B=>{i(n).temperature&&B(d)})}var j=f(Lt,2);{var se=B=>{var U=Bl(),ue=c(U);{var Ue=J=>{var he=$l(),K=f(c(he),2);yt(K,17,()=>i(D).incoming,wr,(ie,z)=>{var ne=Nl(),Q=c(ne),R=c(Q),N=f(Q,4),O=c(N);$(()=>{T(R,`${i(z).source_type??""}:${i(z).source_id??""}`),T(O,i(z).relationship)}),x(ie,ne)}),x(J,he)};q(ue,J=>{i(D).incoming.length>0&&J(Ue)})}var ze=f(ue,2);{var Pe=J=>{var he=Hl(),K=f(c(he),2);yt(K,17,()=>i(D).outgoing,wr,(ie,z)=>{var ne=Ml(),Q=c(ne),R=c(Q),N=f(Q,4),O=c(N);$(()=>{T(R,i(z).relationship),T(O,`${i(z).target_type??""}:${i(z).target_id??""}`)}),x(ie,ne)}),x(J,he)};q(ze,J=>{i(D).outgoing.length>0&&J(Pe)})}x(B,U)},xe=B=>{var U=Ul();x(B,U)};q(j,B=>{i(D).incoming.length>0||i(D).outgoing.length>0?B(se):B(xe,!1)})}$(()=>{bt(we,`color: ${k[i(n).type]??""}`),T(ce,i(n).type),T(Ft,i(n).label)}),x(I,ve)};q(Ct,I=>{i(n)&&I(or)})}var Zt=f(Ct,2);yt(Zt,21,()=>Object.entries(k),wr,(I,D)=>{var ve=yn(()=>$i(i(D),2));let _e=()=>i(ve)[0],we=()=>i(ve)[1];var ce=Vl(),Y=c(ce),jt=f(Y,2),Ft=c(jt);$(()=>{bt(Y,`background: ${we()??""}`),T(Ft,_e())}),x(I,ce)}),$(()=>{bt(be,`background: ${k.file}`),bt(fe,`background: ${k.decision}`),bt(L,`background: ${k.learning}`),bt(Ye,`background: ${k.issue}`),bt(je,`background: ${k.session}`)}),vt(nt,()=>i(o),I=>w(o,I)),Cr(ge,()=>i(m),I=>w(m,I)),Cr(Ee,()=>i(h),I=>w(h,I)),Cr(st,()=>i(u),I=>w(u,I)),Cr(Se,()=>i(_),I=>w(_,I)),Cr(Qe,()=>i(g),I=>w(g,I)),Cr(Le,()=>i(b),I=>w(b,I)),x(e,te),Wr()}vn(["click"]);var Yl=E('<button class="btn btn-primary svelte-mdsmin"> </button>'),Jl=E('<span class="badge badge-hot"> </span>'),Kl=E('<span class="badge badge-archived">archived</span>'),Ql=E('<div><div class="item-title mono svelte-mdsmin"> </div> <div class="item-meta svelte-mdsmin"><span> </span> <!> <!></div></div>'),Zl=E('<div><div class="item-title svelte-mdsmin"> </div> <div class="item-meta svelte-mdsmin"><span> </span> <span class="text-muted svelte-mdsmin"> </span></div></div>'),Xl=E('<div><div class="item-title svelte-mdsmin"> </div> <div class="item-meta svelte-mdsmin"><span> </span> <span class="text-muted svelte-mdsmin"> </span></div></div>'),eo=E('<div><div class="item-title svelte-mdsmin"> </div> <div class="item-meta svelte-mdsmin"><span> </span> <span class="text-muted svelte-mdsmin"> </span></div></div>'),to=E('<div class="detail-section svelte-mdsmin"><h4 class="svelte-mdsmin">Purpose</h4> <p class="svelte-mdsmin"> </p></div>'),ro=E('<div class="detail-section svelte-mdsmin"><h4 class="svelte-mdsmin">Decision</h4> <p class="svelte-mdsmin"> </p></div>'),no=E('<div class="detail-section svelte-mdsmin"><h4 class="svelte-mdsmin">Content</h4> <p class="svelte-mdsmin"> </p></div>'),so=E('<div class="detail-section svelte-mdsmin"><h4 class="svelte-mdsmin">Description</h4> <p class="svelte-mdsmin"> </p></div>'),io=E('<span class="text-muted svelte-mdsmin"> </span>'),ao=E('<div class="detail-actions svelte-mdsmin"><button class="btn btn-success svelte-mdsmin">Resolve Issue</button></div>'),lo=E('<h3> </h3> <div class="detail-type svelte-mdsmin"> </div> <!> <!> <!> <!> <div class="detail-meta svelte-mdsmin"><!></div> <!>',1),oo=E('<div class="empty svelte-mdsmin">Select an item to view details</div>'),co=E('<div class="error-message svelte-mdsmin"> </div>'),vo=E('<form><div class="form-group svelte-mdsmin"><label for="issue-title" class="svelte-mdsmin">Title *</label> <input id="issue-title" type="text" required class="svelte-mdsmin"/></div> <div class="form-group svelte-mdsmin"><label for="issue-desc" class="svelte-mdsmin">Description</label> <textarea id="issue-desc" rows="3" class="svelte-mdsmin"></textarea></div> <div class="form-row svelte-mdsmin"><div class="form-group svelte-mdsmin"><label for="issue-type" class="svelte-mdsmin">Type</label> <select id="issue-type" class="svelte-mdsmin"><option>Bug</option><option>Tech Debt</option><option>Enhancement</option><option>Question</option><option>Potential</option></select></div> <div class="form-group svelte-mdsmin"><label for="issue-severity" class="svelte-mdsmin">Severity (1-10)</label> <input id="issue-severity" type="number" min="1" max="10" class="svelte-mdsmin"/></div></div> <div class="form-group svelte-mdsmin"><label for="issue-workaround" class="svelte-mdsmin">Workaround</label> <textarea id="issue-workaround" rows="2" class="svelte-mdsmin"></textarea></div> <div class="modal-footer svelte-mdsmin"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary svelte-mdsmin"> </button></div></form>'),uo=E('<form><div class="form-group svelte-mdsmin"><label for="decision-title" class="svelte-mdsmin">Title *</label> <input id="decision-title" type="text" required class="svelte-mdsmin"/></div> <div class="form-group svelte-mdsmin"><label for="decision-text" class="svelte-mdsmin">Decision *</label> <textarea id="decision-text" rows="3" required class="svelte-mdsmin"></textarea></div> <div class="form-group svelte-mdsmin"><label for="decision-reasoning" class="svelte-mdsmin">Reasoning</label> <textarea id="decision-reasoning" rows="3" class="svelte-mdsmin"></textarea></div> <div class="modal-footer svelte-mdsmin"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary svelte-mdsmin"> </button></div></form>'),fo=E('<form><div class="form-group svelte-mdsmin"><label for="learning-title" class="svelte-mdsmin">Title *</label> <input id="learning-title" type="text" required class="svelte-mdsmin"/></div> <div class="form-group svelte-mdsmin"><label for="learning-content" class="svelte-mdsmin">Content *</label> <textarea id="learning-content" rows="4" required class="svelte-mdsmin"></textarea></div> <div class="form-group svelte-mdsmin"><label for="learning-category" class="svelte-mdsmin">Category</label> <select id="learning-category" class="svelte-mdsmin"><option>Pattern</option><option>Gotcha</option><option>Preference</option><option>Convention</option><option>Architecture</option></select></div> <div class="form-group svelte-mdsmin"><label for="learning-context" class="svelte-mdsmin">Context</label> <textarea id="learning-context" rows="2" class="svelte-mdsmin"></textarea></div> <div class="modal-footer svelte-mdsmin"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary svelte-mdsmin"> </button></div></form>'),_o=E('<div class="modal-overlay svelte-mdsmin"><div class="modal card svelte-mdsmin"><div class="modal-header svelte-mdsmin"><h3 class="svelte-mdsmin"> </h3> <button class="btn">×</button></div> <!> <!></div></div>'),ho=E('<div class="error-message svelte-mdsmin"> </div>'),po=E('<div class="modal-overlay svelte-mdsmin"><div class="modal card svelte-mdsmin"><div class="modal-header svelte-mdsmin"><h3 class="svelte-mdsmin">Resolve Issue</h3> <button class="btn">×</button></div> <!> <p class="modal-context svelte-mdsmin">Resolving: <strong> </strong></p> <form><div class="form-group svelte-mdsmin"><label for="resolution" class="svelte-mdsmin">Resolution *</label> <textarea id="resolution" rows="4" required placeholder="How was this issue resolved?" class="svelte-mdsmin"></textarea></div> <div class="modal-footer svelte-mdsmin"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-success svelte-mdsmin"> </button></div></form></div></div>'),mo=E('<div class="memory-page svelte-mdsmin"><div class="toolbar svelte-mdsmin"><div class="tabs svelte-mdsmin"><button> </button> <button> </button> <button> </button> <button> </button></div> <!> <input class="search-input svelte-mdsmin" type="text" placeholder="Search memories..."/></div> <div class="content-layout svelte-mdsmin"><div class="list-panel svelte-mdsmin"><!></div> <div class="detail-panel card svelte-mdsmin"><!></div></div> <!> <!></div>');function go(e,t){var Lt;Vr(t,!0);let r=P(!1),s=P(!1),a=P(!1),n=P(null),l=P(qe({title:"",severity:5,type:"bug"})),o=P(qe({title:"",decision:""})),v=P(qe({title:"",content:"",category:"pattern"})),m=P("");function h(){var j;const d=(j=t.routeParams)==null?void 0:j.get("tab");return d==="files"||d==="decisions"||d==="learnings"||d==="issues"?d:"files"}let u=P(qe(h())),_=P(qe(((Lt=t.routeParams)==null?void 0:Lt.get("type"))??null)),g=P("");Vt(()=>{var j,se;const d=(j=t.routeParams)==null?void 0:j.get("tab");(d==="files"||d==="decisions"||d==="learnings"||d==="issues")&&w(u,d,!0),w(_,((se=t.routeParams)==null?void 0:se.get("type"))??null,!0)});let b=P(qe([])),k=P(qe([])),y=P(qe([])),S=P(qe([])),C=P(null);Vt(()=>{t.projectId&&(Ps(t.projectId).then(d=>w(b,d,!0)).catch(()=>{}),Ds(t.projectId).then(d=>w(k,d,!0)).catch(()=>{}),Fs(t.projectId).then(d=>w(y,d,!0)).catch(()=>{}),Rs(t.projectId).then(d=>w(S,d,!0)).catch(()=>{}))});function ee(d,j=!1){let se=d;if(j&&i(_)&&(se=se.filter(xe=>xe.type===i(_))),i(g)){const xe=i(g).toLowerCase();se=se.filter(B=>`${B.title??""} ${B.path??""} ${B.content??""} ${B.purpose??""}`.toLowerCase().includes(xe))}return se}function te(d){return d||"cold"}function re(){Ps(t.projectId).then(d=>w(b,d,!0)).catch(()=>{}),Ds(t.projectId).then(d=>w(k,d,!0)).catch(()=>{}),Fs(t.projectId).then(d=>w(y,d,!0)).catch(()=>{}),Rs(t.projectId).then(d=>w(S,d,!0)).catch(()=>{})}async function me(){if(i(l).title.trim()){w(a,!0),w(n,null);try{await hl(t.projectId,i(l)),w(r,!1),w(l,{title:"",severity:5,type:"bug"},!0),re()}catch(d){w(n,d instanceof Error?d.message:"Failed to create issue",!0)}finally{w(a,!1)}}}async function le(){if(!(!i(o).title.trim()||!i(o).decision.trim())){w(a,!0),w(n,null);try{await ml(t.projectId,i(o)),w(r,!1),w(o,{title:"",decision:""},!0),re()}catch(d){w(n,d instanceof Error?d.message:"Failed to create decision",!0)}finally{w(a,!1)}}}async function oe(){if(!(!i(v).title.trim()||!i(v).content.trim())){w(a,!0),w(n,null);try{await gl(t.projectId,i(v)),w(r,!1),w(v,{title:"",content:"",category:"pattern"},!0),re()}catch(d){w(n,d instanceof Error?d.message:"Failed to create learning",!0)}finally{w(a,!1)}}}async function nt(){if(!(!i(C)||!i(m).trim())){w(a,!0),w(n,null);try{await pl(t.projectId,i(C).id,i(m)),w(s,!1),w(m,""),w(C,null),re()}catch(d){w(n,d instanceof Error?d.message:"Failed to resolve issue",!0)}finally{w(a,!1)}}}function Fe(){w(n,null),w(r,!0)}function F(){w(r,!1),w(n,null)}function ge(){w(m,""),w(n,null),w(s,!0)}var be=mo(),ke=c(be),Ee=c(ke),fe=c(Ee);fe.__click=()=>w(u,"files");let Ae;var st=c(fe),L=f(fe,2);L.__click=()=>w(u,"decisions");let ae;var Se=c(L),Ye=f(L,2);Ye.__click=()=>w(u,"learnings");let Ce;var Qe=c(Ye),je=f(Ye,2);je.__click=()=>w(u,"issues");let ye;var Le=c(je),de=f(Ee,2);{var it=d=>{var j=Yl();j.__click=Fe;var se=c(j);$(()=>T(se,`+ Add ${i(u)==="decisions"?"Decision":i(u)==="learnings"?"Learning":"Issue"}`)),x(d,j)};q(de,d=>{i(u)!=="files"&&d(it)})}var at=f(de,2),Oe=f(ke,2),Ct=c(Oe),or=c(Ct);{var Zt=d=>{var j=Me(),se=Ie(j);yt(se,17,()=>ee(i(b)),xe=>xe.id,(xe,B)=>{var U=Ql();let ue;U.__click=()=>w(C,{...i(B),type:"file"},!0);var Ue=c(U),ze=c(Ue),Pe=f(Ue,2),J=c(Pe),he=c(J),K=f(J,2);{var ie=Q=>{var R=Jl(),N=c(R);$(()=>T(N,`fragile:${i(B).fragility??""}`)),x(Q,R)};q(K,Q=>{i(B).fragility>=7&&Q(ie)})}var z=f(K,2);{var ne=Q=>{var R=Kl();x(Q,R)};q(z,Q=>{i(B).archived_at&&Q(ne)})}$(Q=>{var R,N;ue=Te(U,1,"list-item svelte-mdsmin",null,ue,{selected:((R=i(C))==null?void 0:R.id)===i(B).id&&((N=i(C))==null?void 0:N.type)==="file"}),T(ze,i(B).path),Te(J,1,`badge badge-${Q??""}`,"svelte-mdsmin"),T(he,i(B).temperature??"cold")},[()=>te(i(B).temperature)]),x(xe,U)}),x(d,j)},I=d=>{var j=Me(),se=Ie(j);{var xe=U=>{var ue=Me(),Ue=Ie(ue);yt(Ue,17,()=>ee(i(k)),ze=>ze.id,(ze,Pe)=>{var J=Zl();let he;J.__click=()=>w(C,{...i(Pe),type:"decision"},!0);var K=c(J),ie=c(K),z=f(K,2),ne=c(z),Q=c(ne),R=f(ne,2),N=c(R);$(O=>{var W,Z;he=Te(J,1,"list-item svelte-mdsmin",null,he,{selected:((W=i(C))==null?void 0:W.id)===i(Pe).id&&((Z=i(C))==null?void 0:Z.type)==="decision"}),T(ie,i(Pe).title),Te(ne,1,`badge badge-${O??""}`,"svelte-mdsmin"),T(Q,i(Pe).temperature??"cold"),T(N,i(Pe).status)},[()=>te(i(Pe).temperature)]),x(ze,J)}),x(U,ue)},B=U=>{var ue=Me(),Ue=Ie(ue);{var ze=J=>{var he=Me(),K=Ie(he);yt(K,17,()=>ee(i(y)),ie=>ie.id,(ie,z)=>{var ne=Xl();let Q;ne.__click=()=>w(C,{...i(z),type:"learning"},!0);var R=c(ne),N=c(R),O=f(R,2),W=c(O),Z=c(W),pe=f(W,2),lt=c(pe);$(ot=>{var ct,kt;Q=Te(ne,1,"list-item svelte-mdsmin",null,Q,{selected:((ct=i(C))==null?void 0:ct.id)===i(z).id&&((kt=i(C))==null?void 0:kt.type)==="learning"}),T(N,i(z).title),Te(W,1,`badge badge-${ot??""}`,"svelte-mdsmin"),T(Z,i(z).temperature??"cold"),T(lt,i(z).category)},[()=>te(i(z).temperature)]),x(ie,ne)}),x(J,he)},Pe=J=>{var he=Me(),K=Ie(he);{var ie=z=>{var ne=Me(),Q=Ie(ne);yt(Q,17,()=>ee(i(S),!0),R=>R.id,(R,N)=>{var O=eo();let W;O.__click=()=>w(C,{...i(N),type:"issue"},!0);var Z=c(O),pe=c(Z),lt=f(Z,2),ot=c(lt);let ct;var kt=c(ot),Nt=f(ot,2),$t=c(Nt);$(()=>{var Ve,Xt;W=Te(O,1,"list-item svelte-mdsmin",null,W,{selected:((Ve=i(C))==null?void 0:Ve.id)===i(N).id&&((Xt=i(C))==null?void 0:Xt.type)==="issue"}),T(pe,i(N).title),ct=Te(ot,1,"badge",null,ct,{"badge-hot":i(N).severity>=7,"badge-warm":i(N).severity>=4&&i(N).severity<7,"badge-cold":i(N).severity<4}),T(kt,`sev:${i(N).severity??""}`),T($t,i(N).status)}),x(R,O)}),x(z,ne)};q(K,z=>{i(u)==="issues"&&z(ie)},!0)}x(J,he)};q(Ue,J=>{i(u)==="learnings"?J(ze):J(Pe,!1)},!0)}x(U,ue)};q(se,U=>{i(u)==="decisions"?U(xe):U(B,!1)},!0)}x(d,j)};q(or,d=>{i(u)==="files"?d(Zt):d(I,!1)})}var D=f(Ct,2),ve=c(D);{var _e=d=>{var j=lo(),se=Ie(j),xe=c(se),B=f(se,2),U=c(B),ue=f(B,2);{var Ue=O=>{var W=to(),Z=f(c(W),2),pe=c(Z);$(()=>T(pe,i(C).purpose)),x(O,W)};q(ue,O=>{i(C).purpose&&O(Ue)})}var ze=f(ue,2);{var Pe=O=>{var W=ro(),Z=f(c(W),2),pe=c(Z);$(()=>T(pe,i(C).decision)),x(O,W)};q(ze,O=>{i(C).decision&&O(Pe)})}var J=f(ze,2);{var he=O=>{var W=no(),Z=f(c(W),2),pe=c(Z);$(()=>T(pe,i(C).content)),x(O,W)};q(J,O=>{i(C).content&&O(he)})}var K=f(J,2);{var ie=O=>{var W=so(),Z=f(c(W),2),pe=c(Z);$(()=>T(pe,i(C).description)),x(O,W)};q(K,O=>{i(C).description&&O(ie)})}var z=f(K,2),ne=c(z);{var Q=O=>{var W=io(),Z=c(W);$(pe=>T(Z,`Created: ${pe??""}`),[()=>new Date(i(C).created_at).toLocaleDateString()]),x(O,W)};q(ne,O=>{i(C).created_at&&O(Q)})}var R=f(z,2);{var N=O=>{var W=ao(),Z=c(W);Z.__click=ge,x(O,W)};q(R,O=>{i(C).type==="issue"&&i(C).status==="open"&&O(N)})}$(()=>{T(xe,i(C).title||i(C).path),T(U,i(C).type)}),x(d,j)},we=d=>{var j=oo();x(d,j)};q(ve,d=>{i(C)?d(_e):d(we,!1)})}var ce=f(Oe,2);{var Y=d=>{var j=_o();j.__click=F;var se=c(j);se.__click=K=>K.stopPropagation();var xe=c(se),B=c(xe),U=c(B),ue=f(B,2);ue.__click=F;var Ue=f(xe,2);{var ze=K=>{var ie=co(),z=c(ie);$(()=>T(z,i(n))),x(K,ie)};q(Ue,K=>{i(n)&&K(ze)})}var Pe=f(Ue,2);{var J=K=>{var ie=vo(),z=c(ie),ne=f(c(z),2),Q=f(z,2),R=f(c(Q),2),N=f(Q,2),O=c(N),W=f(c(O),2),Z=c(W);Z.value=Z.__value="bug";var pe=f(Z);pe.value=pe.__value="tech-debt";var lt=f(pe);lt.value=lt.__value="enhancement";var ot=f(lt);ot.value=ot.__value="question";var ct=f(ot);ct.value=ct.__value="potential";var kt=f(O,2),Nt=f(c(kt),2),$t=f(N,2),Ve=f(c($t),2),Xt=f($t,2),Tr=c(Xt);Tr.__click=F;var Ir=f(Tr,2),un=c(Ir);$(()=>{Ir.disabled=i(a),T(un,i(a)?"Creating...":"Create Issue")}),dn("submit",ie,Ze=>{Ze.preventDefault(),me()}),vt(ne,()=>i(l).title,Ze=>i(l).title=Ze),vt(R,()=>i(l).description,Ze=>i(l).description=Ze),Qn(W,()=>i(l).type,Ze=>i(l).type=Ze),vt(Nt,()=>i(l).severity,Ze=>i(l).severity=Ze),vt(Ve,()=>i(l).workaround,Ze=>i(l).workaround=Ze),x(K,ie)},he=K=>{var ie=Me(),z=Ie(ie);{var ne=R=>{var N=uo(),O=c(N),W=f(c(O),2),Z=f(O,2),pe=f(c(Z),2),lt=f(Z,2),ot=f(c(lt),2),ct=f(lt,2),kt=c(ct);kt.__click=F;var Nt=f(kt,2),$t=c(Nt);$(()=>{Nt.disabled=i(a),T($t,i(a)?"Creating...":"Create Decision")}),dn("submit",N,Ve=>{Ve.preventDefault(),le()}),vt(W,()=>i(o).title,Ve=>i(o).title=Ve),vt(pe,()=>i(o).decision,Ve=>i(o).decision=Ve),vt(ot,()=>i(o).reasoning,Ve=>i(o).reasoning=Ve),x(R,N)},Q=R=>{var N=Me(),O=Ie(N);{var W=Z=>{var pe=fo(),lt=c(pe),ot=f(c(lt),2),ct=f(lt,2),kt=f(c(ct),2),Nt=f(ct,2),$t=f(c(Nt),2),Ve=c($t);Ve.value=Ve.__value="pattern";var Xt=f(Ve);Xt.value=Xt.__value="gotcha";var Tr=f(Xt);Tr.value=Tr.__value="preference";var Ir=f(Tr);Ir.value=Ir.__value="convention";var un=f(Ir);un.value=un.__value="architecture";var Ze=f(Nt,2),Ci=f(c(Ze),2),ji=f(Ze,2),ps=c(ji);ps.__click=F;var ms=f(ps,2),qi=c(ms);$(()=>{ms.disabled=i(a),T(qi,i(a)?"Creating...":"Create Learning")}),dn("submit",pe,Mt=>{Mt.preventDefault(),oe()}),vt(ot,()=>i(v).title,Mt=>i(v).title=Mt),vt(kt,()=>i(v).content,Mt=>i(v).content=Mt),Qn($t,()=>i(v).category,Mt=>i(v).category=Mt),vt(Ci,()=>i(v).context,Mt=>i(v).context=Mt),x(Z,pe)};q(O,Z=>{i(u)==="learnings"&&Z(W)},!0)}x(R,N)};q(z,R=>{i(u)==="decisions"?R(ne):R(Q,!1)},!0)}x(K,ie)};q(Pe,K=>{i(u)==="issues"?K(J):K(he,!1)})}$(()=>T(U,`Add ${i(u)==="decisions"?"Decision":i(u)==="learnings"?"Learning":"Issue"}`)),x(d,j)};q(ce,d=>{i(r)&&d(Y)})}var jt=f(ce,2);{var Ft=d=>{var j=po();j.__click=()=>w(s,!1);var se=c(j);se.__click=R=>R.stopPropagation();var xe=c(se),B=f(c(xe),2);B.__click=()=>w(s,!1);var U=f(xe,2);{var ue=R=>{var N=ho(),O=c(N);$(()=>T(O,i(n))),x(R,N)};q(U,R=>{i(n)&&R(ue)})}var Ue=f(U,2),ze=f(c(Ue)),Pe=c(ze),J=f(Ue,2),he=c(J),K=f(c(he),2),ie=f(he,2),z=c(ie);z.__click=()=>w(s,!1);var ne=f(z,2),Q=c(ne);$(()=>{T(Pe,i(C).title),ne.disabled=i(a),T(Q,i(a)?"Resolving...":"Mark Resolved")}),dn("submit",J,R=>{R.preventDefault(),nt()}),vt(K,()=>i(m),R=>w(m,R)),x(d,j)};q(jt,d=>{i(s)&&i(C)&&d(Ft)})}$(()=>{Ae=Te(fe,1,"svelte-mdsmin",null,Ae,{active:i(u)==="files"}),T(st,`Files (${i(b).length??""})`),ae=Te(L,1,"svelte-mdsmin",null,ae,{active:i(u)==="decisions"}),T(Se,`Decisions (${i(k).length??""})`),Ce=Te(Ye,1,"svelte-mdsmin",null,Ce,{active:i(u)==="learnings"}),T(Qe,`Learnings (${i(y).length??""})`),ye=Te(je,1,"svelte-mdsmin",null,ye,{active:i(u)==="issues"}),T(Le,`Issues (${i(S).length??""})`)}),vt(at,()=>i(g),d=>w(g,d)),x(e,be),Wr()}vn(["click"]);var bo=E('<div class="empty card svelte-l9yiin">No sessions recorded yet.</div>'),yo=E('<div class="line svelte-l9yiin"></div>'),wo=E("<span> </span>"),xo=E('<span class="badge badge-cold">active</span>'),ko=E('<div class="detail-row svelte-l9yiin"><span class="detail-label svelte-l9yiin">Outcome</span> <span> </span></div>'),Eo=E('<span class="mono file-tag svelte-l9yiin"> </span>'),So=E('<div class="detail-row svelte-l9yiin"><span class="detail-label svelte-l9yiin">Files Touched</span> <div class="file-list svelte-l9yiin"></div></div>'),To=E('<div class="session-details svelte-l9yiin"><!> <!></div>'),Io=E('<div class="timeline-item svelte-l9yiin"><div class="connector svelte-l9yiin"><div class="dot svelte-l9yiin"></div> <!></div> <div><div class="session-header svelte-l9yiin"><span class="session-number mono svelte-l9yiin"> </span> <span class="session-date svelte-l9yiin"> </span> <!></div> <div class="session-goal svelte-l9yiin"> </div> <!></div></div>'),Ao=E('<div class="timeline svelte-l9yiin"></div>'),Co=E('<div class="timeline-page svelte-l9yiin"><h2 class="svelte-l9yiin">Session Timeline</h2> <!></div>');function jo(e,t){Vr(t,!0);let r=P(qe([])),s=P(null);Vt(()=>{t.projectId&&fl(t.projectId).then(u=>w(r,u,!0)).catch(()=>{})});function a(u){return u===2?"var(--accent-4)":u===1?"var(--warning)":u===0?"var(--danger)":"var(--accent-1)"}function n(u){return new Date(u).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function l(u){if(!u.files_touched)return[];try{return JSON.parse(u.files_touched)}catch{return[]}}var o=Co(),v=f(c(o),2);{var m=u=>{var _=bo();x(u,_)},h=u=>{var _=Ao();yt(_,23,()=>i(r),g=>g.id,(g,b,k)=>{var y=Io();y.__click=()=>w(s,i(s)===i(b).id?null:i(b).id,!0);var S=c(y),C=c(S),ee=f(C,2);{var te=L=>{var ae=yo();x(L,ae)};q(ee,L=>{i(k)<i(r).length-1&&L(te)})}var re=f(S,2);let me;var le=c(re),oe=c(le),nt=c(oe),Fe=f(oe,2),F=c(Fe),ge=f(Fe,2);{var be=L=>{var ae=wo(),Se=c(ae);$((Ye,Ce)=>{Te(ae,1,`badge badge-${i(b).success===2?"hot":i(b).success===1?"warm":"cold"}`),bt(ae,`background: ${Ye??""}20; color: ${Ce??""}`),T(Se,i(b).success===2?"success":i(b).success===1?"partial":i(b).success===0?"failed":"active")},[()=>a(i(b).success),()=>a(i(b).success)]),x(L,ae)},ke=L=>{var ae=xo();x(L,ae)};q(ge,L=>{i(b).ended_at?L(be):L(ke,!1)})}var Ee=f(le,2),fe=c(Ee),Ae=f(Ee,2);{var st=L=>{var ae=To(),Se=c(ae);{var Ye=je=>{var ye=ko(),Le=f(c(ye),2),de=c(Le);$(()=>T(de,i(b).outcome)),x(je,ye)};q(Se,je=>{i(b).outcome&&je(Ye)})}var Ce=f(Se,2);{var Qe=je=>{var ye=So(),Le=f(c(ye),2);yt(Le,21,()=>l(i(b)),wr,(de,it)=>{var at=Eo(),Oe=c(at);$(()=>T(Oe,i(it))),x(de,at)}),x(je,ye)};q(Ce,je=>{l(i(b)).length>0&&je(Qe)})}x(L,ae)};q(Ae,L=>{i(s)===i(b).id&&L(st)})}$((L,ae,Se)=>{bt(C,`background: ${L??""}; box-shadow: 0 0 8px ${ae??""}40`),me=Te(re,1,"timeline-content card svelte-l9yiin",null,me,{expanded:i(s)===i(b).id}),T(nt,`#${i(b).session_number??i(b).id??""}`),T(F,Se),T(fe,i(b).goal??"No goal set")},[()=>a(i(b).success),()=>a(i(b).success),()=>n(i(b).started_at)]),x(g,y)}),x(u,_)};q(v,u=>{i(r).length===0?u(m):u(h,!1)})}x(e,o),Wr()}vn(["click"]);var qo=E("<option> </option>"),Oo=E('<select class="svelte-1n46o8q"></select>'),Po=E('<div class="empty-state svelte-1n46o8q"><p>No projects found. Add a project with <code class="svelte-1n46o8q">muninn file add</code> to get started.</p></div>'),Do=E('<nav><div class="nav-brand svelte-1n46o8q"><span class="logo svelte-1n46o8q">&#9670;</span> <span class="brand-text svelte-1n46o8q">Muninn</span></div> <div class="nav-links svelte-1n46o8q"><a href="#/">Health</a> <a href="#/graph">Graph</a> <a href="#/memory">Memory</a> <a href="#/timeline">Timeline</a></div> <div class="nav-project svelte-1n46o8q"><!></div></nav> <main class="svelte-1n46o8q"><!></main>',1);function Ro(e,t){Vr(t,!0);function r(F){const ge=F.slice(1)||"/",[be,ke]=ge.split("?");return{path:be,params:new URLSearchParams(ke||"")}}let s=P(qe(r(window.location.hash))),a=P(qe([])),n=P(null);Vt(()=>{const F=()=>{w(s,r(window.location.hash),!0)};return window.addEventListener("hashchange",F),()=>window.removeEventListener("hashchange",F)}),Vt(()=>{vl().then(F=>{w(a,F,!0),F.length>0&&!i(n)&&w(n,F[0].id,!0)})});function l(F){window.location.hash=F}let o=yn(()=>i(s).path),v=yn(()=>i(s).params);var m=Do(),h=Ie(m),u=f(c(h),2),_=c(u);_.__click=()=>l("/");let g;var b=f(_,2);b.__click=()=>l("/graph");let k;var y=f(b,2);y.__click=()=>l("/memory");let S;var C=f(y,2);C.__click=()=>l("/timeline");let ee;var te=f(u,2),re=c(te);{var me=F=>{var ge=Oo();yt(ge,21,()=>i(a),wr,(be,ke)=>{var Ee=qo(),fe=c(Ee),Ae={};$(()=>{T(fe,i(ke).name),Ae!==(Ae=i(ke).id)&&(Ee.value=(Ee.__value=i(ke).id)??"")}),x(be,Ee)}),Qn(ge,()=>i(n),be=>w(n,be)),x(F,ge)};q(re,F=>{i(a).length>0&&F(me)})}var le=f(h,2),oe=c(le);{var nt=F=>{var ge=Me(),be=Ie(ge);{var ke=fe=>{Ls(fe,{get projectId(){return i(n)}})},Ee=fe=>{var Ae=Me(),st=Ie(Ae);{var L=Se=>{Gl(Se,{get projectId(){return i(n)}})},ae=Se=>{var Ye=Me(),Ce=Ie(Ye);{var Qe=ye=>{go(ye,{get projectId(){return i(n)},get routeParams(){return i(v)}})},je=ye=>{var Le=Me(),de=Ie(Le);{var it=Oe=>{jo(Oe,{get projectId(){return i(n)}})},at=Oe=>{Ls(Oe,{get projectId(){return i(n)}})};q(de,Oe=>{i(o)==="/timeline"?Oe(it):Oe(at,!1)},!0)}x(ye,Le)};q(Ce,ye=>{i(o)==="/memory"?ye(Qe):ye(je,!1)},!0)}x(Se,Ye)};q(st,Se=>{i(o)==="/graph"?Se(L):Se(ae,!1)},!0)}x(fe,Ae)};q(be,fe=>{i(o)==="/"?fe(ke):fe(Ee,!1)})}x(F,ge)},Fe=F=>{var ge=Po();x(F,ge)};q(oe,F=>{i(n)?F(nt):F(Fe,!1)})}$(()=>{g=Te(_,1,"",null,g,{active:i(o)==="/"}),k=Te(b,1,"",null,k,{active:i(o)==="/graph"}),S=Te(y,1,"",null,S,{active:i(o)==="/memory"}),ee=Te(C,1,"",null,ee,{active:i(o)==="/timeline"})}),x(e,m),Wr()}vn(["click"]);Qa(Ro,{target:document.getElementById("app")});
