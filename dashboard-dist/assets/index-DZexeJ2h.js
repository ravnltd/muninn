var Ua=Object.defineProperty;var Ts=e=>{throw TypeError(e)};var Ba=(e,t,r)=>t in e?Ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var jt=(e,t,r)=>Ba(e,typeof t!="symbol"?t+"":t,r),Un=(e,t,r)=>t.has(e)||Ts("Cannot "+r);var _=(e,t,r)=>(Un(e,t,"read from private field"),r?r.call(e):t.get(e)),z=(e,t,r)=>t.has(e)?Ts("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),B=(e,t,r,n)=>(Un(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Be=(e,t,r)=>(Un(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ys,Js;const As=(Js=(Ys=globalThis.process)==null?void 0:Ys.env)==null?void 0:Js.NODE_ENV,C=As&&!As.toLowerCase().startsWith("prod");var ls=Array.isArray,Va=Array.prototype.indexOf,Pn=Array.from,Ir=Object.defineProperty,Nr=Object.getOwnPropertyDescriptor,za=Object.prototype,Wa=Array.prototype,Ga=Object.getPrototypeOf,$s=Object.isExtensible;function Ya(e){for(var t=0;t<e.length;t++)e[t]()}function Qs(){var e,t,r=new Promise((n,i)=>{e=n,t=i});return{promise:r,resolve:e,reject:t}}function Ja(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const r=[];for(const n of e)if(r.push(n),r.length===t)break;return r}const Ye=2,Sn=4,Ln=8,Xs=1<<24,tr=16,rr=32,Or=64,os=128,$t=512,Ze=1024,st=2048,nr=4096,yt=8192,vr=16384,cs=32768,Yr=65536,Tn=1<<17,Zs=1<<18,Zr=1<<19,Ka=1<<20,Qt=1<<25,pr=32768,Gn=1<<21,Dn=1<<22,fr=1<<23,Hr=Symbol("$state"),ea=Symbol("proxy path"),Fr=new class extends Error{constructor(){super(...arguments);jt(this,"name","StaleReactionError");jt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Qa(){if(C){const e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function Cs(){if(C){const e=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/bind_invalid_checkbox_value")}function Xa(){if(C){const e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function Za(e){if(C){const t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function ei(){if(C){const e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ti(e){if(C){const t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function ri(){if(C){const e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ni(e){if(C){const t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function si(){if(C){const e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ai(){if(C){const e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ii(){if(C){const e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function li(){if(C){const e=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const oi=1,ci=2,ta=4,ui=8,vi=16,fi=1,di=2,Ve=Symbol(),_i=Symbol("filename"),pi="http://www.w3.org/1999/xhtml";var us="font-weight: bold",vs="font-weight: normal";function hi(){C?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",us,vs):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Bn(e){C?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,us,vs):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function mi(){C?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",us,vs):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ra(e){return e===this.v}function gi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function na(e){return!gi(e,this.v)}let yi=!1;function Nt(e,t){return e.label=t,sa(e.v,t),e}function sa(e,t){var r;return(r=e==null?void 0:e[ea])==null||r.call(e,t),e}function bi(e){const t=new Error,r=wi();return r.length===0?null:(r.unshift(`
`),Ir(t,"stack",{value:r.join(`
`)}),Ir(t,"name",{value:e}),t)}function wi(){const e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const t=new Error().stack;if(Error.stackTraceLimit=e,!t)return[];const r=t.split(`
`),n=[];for(let i=0;i<r.length;i++){const a=r[i],l=a.replaceAll("\\","/");if(a.trim()!=="Error"){if(a.includes("validate_each_keys"))return[];l.includes("svelte/src/internal")||l.includes("node_modules/.vite")||n.push(a)}}return n}let Xe=null;function Jr(e){Xe=e}let vn=null;function An(e){vn=e}let hn=null;function Is(e){hn=e}function en(e,t=!1,r){Xe={p:Xe,i:!1,c:null,e:null,s:e,x:null,l:null},C&&(Xe.function=r,hn=r)}function tn(e){var t=Xe,r=t.e;if(r!==null){t.e=null;for(var n of r)xa(n)}return t.i=!0,Xe=t.p,C&&(hn=(Xe==null?void 0:Xe.function)??null),{}}function aa(){return!0}let gr=[];function ia(){var e=gr;gr=[],Ya(e)}function rn(e){if(gr.length===0&&!ln){var t=gr;queueMicrotask(()=>{t===gr&&ia()})}gr.push(e)}function xi(){for(;gr.length>0;)ia()}const Yn=new WeakMap;function la(e){var t=ee;if(t===null)return H.f|=fr,e;if(C&&e instanceof Error&&!Yn.has(e)&&Yn.set(e,Ei(e,t)),(t.f&cs)===0){if((t.f&os)===0)throw C&&!t.parent&&e instanceof Error&&oa(e),e;t.b.error(e)}else Kr(e,t)}function Kr(e,t){for(;t!==null;){if((t.f&os)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw C&&e instanceof Error&&oa(e),e}function Ei(e,t){var l,o,u;const r=Nr(e,"message");if(!(r&&!r.configurable)){for(var n=hs?"  ":"	",i=`
${n}in ${((l=t.fn)==null?void 0:l.name)||"<unknown>"}`,a=t.ctx;a!==null;)i+=`
${n}in ${(o=a.function)==null?void 0:o[_i].split("/").pop()}`,a=a.p;return{message:e.message+`
${i}
`,stack:(u=e.stack)==null?void 0:u.split(`
`).filter(g=>!g.includes("svelte/src/internal")).join(`
`)}}}function oa(e){const t=Yn.get(e);t&&(Ir(e,"message",{value:t.message}),Ir(e,"stack",{value:t.stack}))}const ki=-7169;function Fe(e,t){e.f=e.f&ki|t}function fs(e){(e.f&$t)!==0||e.deps===null?Fe(e,Ze):Fe(e,nr)}function ca(e){if(e!==null)for(const t of e)(t.f&Ye)===0||(t.f&pr)===0||(t.f^=pr,ca(t.deps))}function ua(e,t,r){(e.f&st)!==0?t.add(e):(e.f&nr)!==0&&r.add(e),ca(e.deps),Fe(e,Ze)}const wn=new Set;let N=null,an=null,We=null,kt=[],Mn=null,Jn=!1,ln=!1;var Ur,Br,br,wr,dn,Vr,zr,Ct,Kn,Qn,va,fa;const Rn=class Rn{constructor(){z(this,Ct);jt(this,"committed",!1);jt(this,"current",new Map);jt(this,"previous",new Map);z(this,Ur,new Set);z(this,Br,new Set);z(this,br,0);z(this,wr,0);z(this,dn,null);z(this,Vr,new Set);z(this,zr,new Set);jt(this,"skipped_effects",new Set);jt(this,"is_fork",!1)}is_deferred(){return this.is_fork||_(this,wr)>0}process(t){var i;kt=[],an=null,this.apply();var r=[],n=[];for(const a of t)Be(this,Ct,Kn).call(this,a,r,n);this.is_fork||Be(this,Ct,va).call(this),this.is_deferred()?(Be(this,Ct,Qn).call(this,n),Be(this,Ct,Qn).call(this,r)):(an=this,N=null,qs(n),qs(r),an=null,(i=_(this,dn))==null||i.resolve()),We=null}capture(t,r){r!==Ve&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&fr)===0&&(this.current.set(t,t.v),We==null||We.set(t,t.v))}activate(){N=this,this.apply()}deactivate(){N===this&&(N=null,We=null)}flush(){if(this.activate(),kt.length>0){if(da(),N!==null&&N!==this)return}else _(this,br)===0&&this.process([]);this.deactivate()}discard(){for(const t of _(this,Br))t(this);_(this,Br).clear()}increment(t){B(this,br,_(this,br)+1),t&&B(this,wr,_(this,wr)+1)}decrement(t){B(this,br,_(this,br)-1),t&&B(this,wr,_(this,wr)-1),this.revive()}revive(){for(const t of _(this,Vr))_(this,zr).delete(t),Fe(t,st),er(t);for(const t of _(this,zr))Fe(t,nr),er(t);this.flush()}oncommit(t){_(this,Ur).add(t)}ondiscard(t){_(this,Br).add(t)}settled(){return(_(this,dn)??B(this,dn,Qs())).promise}static ensure(){if(N===null){const t=N=new Rn;wn.add(N),ln||Rn.enqueue(()=>{N===t&&t.flush()})}return N}static enqueue(t){rn(t)}apply(){}};Ur=new WeakMap,Br=new WeakMap,br=new WeakMap,wr=new WeakMap,dn=new WeakMap,Vr=new WeakMap,zr=new WeakMap,Ct=new WeakSet,Kn=function(t,r,n){t.f^=Ze;for(var i=t.first,a=null;i!==null;){var l=i.f,o=(l&(rr|Or))!==0,u=o&&(l&Ze)!==0,g=u||(l&yt)!==0||this.skipped_effects.has(i);if(!g&&i.fn!==null){o?i.f^=Ze:a!==null&&(l&(Sn|Ln|Xs))!==0?a.b.defer_effect(i):(l&Sn)!==0?r.push(i):gn(i)&&((l&tr)!==0&&_(this,Vr).add(i),fn(i));var h=i.first;if(h!==null){i=h;continue}}var d=i.parent;for(i=i.next;i===null&&d!==null;)d===a&&(a=null),i=d.next,d=d.parent}},Qn=function(t){for(var r=0;r<t.length;r+=1)ua(t[r],_(this,Vr),_(this,zr))},va=function(){if(_(this,wr)===0){for(const t of _(this,Ur))t();_(this,Ur).clear()}_(this,br)===0&&Be(this,Ct,fa).call(this)},fa=function(){var i;if(wn.size>1){this.previous.clear();var t=We,r=!0;for(const a of wn){if(a===this){r=!1;continue}const l=[];for(const[u,g]of this.current){if(a.current.has(u))if(r&&g!==a.current.get(u))a.current.set(u,g);else continue;l.push(u)}if(l.length===0)continue;const o=[...a.current.keys()].filter(u=>!this.current.has(u));if(o.length>0){var n=kt;kt=[];const u=new Set,g=new Map;for(const h of l)_a(h,o,u,g);if(kt.length>0){N=a,a.apply();for(const h of kt)Be(i=a,Ct,Kn).call(i,h,[],[]);a.deactivate()}kt=n}}N=null,We=t}this.committed=!0,wn.delete(this)};let Xt=Rn;function Si(e){var t=ln;ln=!0;try{for(var r;;){if(xi(),kt.length===0&&(N==null||N.flush(),kt.length===0))return Mn=null,r;da()}}finally{ln=t}}function da(){var e=Ar;Jn=!0;var t=C?new Set:null;try{var r=0;for(In(!0);kt.length>0;){var n=Xt.ensure();if(r++>1e3){if(C){var i=new Map;for(const l of n.current.keys())for(const[o,u]of l.updated??[]){var a=i.get(o);a||(a={error:u.error,count:0},i.set(o,a)),a.count+=u.count}for(const l of i.values())l.error&&console.error(l.error)}Ti()}if(n.process(kt),dr.clear(),C)for(const l of n.current.keys())t.add(l)}}finally{if(Jn=!1,In(e),Mn=null,C)for(const l of t)l.updated=null}}function Ti(){try{ri()}catch(e){C&&Ir(e,"stack",{value:""}),Kr(e,Mn)}}let Ot=null;function qs(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&(vr|yt))===0&&gn(n)&&(Ot=new Set,fn(n),n.deps===null&&n.first===null&&n.nodes===null&&(n.teardown===null&&n.ac===null?Ta(n):n.fn=null),(Ot==null?void 0:Ot.size)>0)){dr.clear();for(const i of Ot){if((i.f&(vr|yt))!==0)continue;const a=[i];let l=i.parent;for(;l!==null;)Ot.has(l)&&(Ot.delete(l),a.push(l)),l=l.parent;for(let o=a.length-1;o>=0;o--){const u=a[o];(u.f&(vr|yt))===0&&fn(u)}}Ot.clear()}}Ot=null}}function _a(e,t,r,n){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const i of e.reactions){const a=i.f;(a&Ye)!==0?_a(i,t,r,n):(a&(Dn|tr))!==0&&(a&st)===0&&pa(i,t,n)&&(Fe(i,st),er(i))}}function pa(e,t,r){const n=r.get(e);if(n!==void 0)return n;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&Ye)!==0&&pa(i,t,r))return r.set(i,!0),!0}return r.set(e,!1),!1}function er(e){for(var t=Mn=e;t.parent!==null;){t=t.parent;var r=t.f;if(Jn&&t===ee&&(r&tr)!==0&&(r&Zs)===0)return;if((r&(Or|rr))!==0){if((r&Ze)===0)return;t.f^=Ze}}kt.push(t)}function Ai(e){let t=0,r=Rr(0),n;return C&&Nt(r,"createSubscriber version"),()=>{gs()&&(s(r),Nn(()=>(t===0&&(n=Hn(()=>e(()=>on(r)))),t+=1,()=>{rn(()=>{t-=1,t===0&&(n==null||n(),n=void 0,on(r))})})))}}var $i=Yr|Zr|os;function Ci(e,t,r){new Ii(e,t,r)}var xt,is,Ht,xr,Ut,Et,lt,Bt,Jt,cr,Er,ur,kr,Wr,Gr,Kt,jn,Me,qi,Ri,Xn,En,kn,Zn;class Ii{constructor(t,r,n){z(this,Me);jt(this,"parent");jt(this,"is_pending",!1);z(this,xt);z(this,is,null);z(this,Ht);z(this,xr);z(this,Ut);z(this,Et,null);z(this,lt,null);z(this,Bt,null);z(this,Jt,null);z(this,cr,null);z(this,Er,0);z(this,ur,0);z(this,kr,!1);z(this,Wr,new Set);z(this,Gr,new Set);z(this,Kt,null);z(this,jn,Ai(()=>(B(this,Kt,Rr(_(this,Er))),C&&Nt(_(this,Kt),"$effect.pending()"),()=>{B(this,Kt,null)})));B(this,xt,t),B(this,Ht,r),B(this,xr,n),this.parent=ee.b,this.is_pending=!!_(this,Ht).pending,B(this,Ut,bs(()=>{ee.b=this;{var i=Be(this,Me,Xn).call(this);try{B(this,Et,St(()=>n(i)))}catch(a){this.error(a)}_(this,ur)>0?Be(this,Me,kn).call(this):this.is_pending=!1}return()=>{var a;(a=_(this,cr))==null||a.remove()}},$i))}defer_effect(t){ua(t,_(this,Wr),_(this,Gr))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!_(this,Ht).pending}update_pending_count(t){Be(this,Me,Zn).call(this,t),B(this,Er,_(this,Er)+t),_(this,Kt)&&Xr(_(this,Kt),_(this,Er))}get_effect_pending(){return _(this,jn).call(this),s(_(this,Kt))}error(t){var r=_(this,Ht).onerror;let n=_(this,Ht).failed;if(_(this,kr)||!r&&!n)throw t;_(this,Et)&&(ut(_(this,Et)),B(this,Et,null)),_(this,lt)&&(ut(_(this,lt)),B(this,lt,null)),_(this,Bt)&&(ut(_(this,Bt)),B(this,Bt,null));var i=!1,a=!1;const l=()=>{if(i){mi();return}i=!0,a&&li(),Xt.ensure(),B(this,Er,0),_(this,Bt)!==null&&Tr(_(this,Bt),()=>{B(this,Bt,null)}),this.is_pending=this.has_pending_snippet(),B(this,Et,Be(this,Me,En).call(this,()=>(B(this,kr,!1),St(()=>_(this,xr).call(this,_(this,xt)))))),_(this,ur)>0?Be(this,Me,kn).call(this):this.is_pending=!1};var o=H;try{ct(null),a=!0,r==null||r(t,l),a=!1}catch(u){Kr(u,_(this,Ut)&&_(this,Ut).parent)}finally{ct(o)}n&&rn(()=>{B(this,Bt,Be(this,Me,En).call(this,()=>{Xt.ensure(),B(this,kr,!0);try{return St(()=>{n(_(this,xt),()=>t,()=>l)})}catch(u){return Kr(u,_(this,Ut).parent),null}finally{B(this,kr,!1)}}))})}}xt=new WeakMap,is=new WeakMap,Ht=new WeakMap,xr=new WeakMap,Ut=new WeakMap,Et=new WeakMap,lt=new WeakMap,Bt=new WeakMap,Jt=new WeakMap,cr=new WeakMap,Er=new WeakMap,ur=new WeakMap,kr=new WeakMap,Wr=new WeakMap,Gr=new WeakMap,Kt=new WeakMap,jn=new WeakMap,Me=new WeakSet,qi=function(){try{B(this,Et,St(()=>_(this,xr).call(this,_(this,xt))))}catch(t){this.error(t)}},Ri=function(){const t=_(this,Ht).pending;t&&(B(this,lt,St(()=>t(_(this,xt)))),Xt.enqueue(()=>{var r=Be(this,Me,Xn).call(this);B(this,Et,Be(this,Me,En).call(this,()=>(Xt.ensure(),St(()=>_(this,xr).call(this,r))))),_(this,ur)>0?Be(this,Me,kn).call(this):(Tr(_(this,lt),()=>{B(this,lt,null)}),this.is_pending=!1)}))},Xn=function(){var t=_(this,xt);return this.is_pending&&(B(this,cr,_r()),_(this,xt).before(_(this,cr)),t=_(this,cr)),t},En=function(t){var r=ee,n=H,i=Xe;Dt(_(this,Ut)),ct(_(this,Ut)),Jr(_(this,Ut).ctx);try{return t()}catch(a){return la(a),null}finally{Dt(r),ct(n),Jr(i)}},kn=function(){const t=_(this,Ht).pending;_(this,Et)!==null&&(B(this,Jt,document.createDocumentFragment()),_(this,Jt).append(_(this,cr)),Ca(_(this,Et),_(this,Jt))),_(this,lt)===null&&B(this,lt,St(()=>t(_(this,xt))))},Zn=function(t){var r;if(!this.has_pending_snippet()){this.parent&&Be(r=this.parent,Me,Zn).call(r,t);return}if(B(this,ur,_(this,ur)+t),_(this,ur)===0){this.is_pending=!1;for(const n of _(this,Wr))Fe(n,st),er(n);for(const n of _(this,Gr))Fe(n,nr),er(n);_(this,Wr).clear(),_(this,Gr).clear(),_(this,lt)&&Tr(_(this,lt),()=>{B(this,lt,null)}),_(this,Jt)&&(_(this,xt).before(_(this,Jt)),B(this,Jt,null))}};function ji(e,t,r,n){const i=ds;if(r.length===0&&e.length===0){n(t.map(i));return}var a=N,l=ee,o=Oi();function u(){Promise.all(r.map(g=>Li(g))).then(g=>{o();try{n([...t.map(i),...g])}catch(h){(l.f&vr)===0&&Kr(h,l)}a==null||a.deactivate(),$n()}).catch(g=>{Kr(g,l)})}e.length>0?Promise.all(e).then(()=>{o();try{return u()}finally{a==null||a.deactivate(),$n()}}):u()}function Oi(){var e=ee,t=H,r=Xe,n=N;if(C)var i=vn;return function(l=!0){Dt(e),ct(t),Jr(r),l&&(n==null||n.activate()),C&&An(i)}}function $n(){Dt(null),ct(null),Jr(null),C&&An(null)}const Pi=new Set;function ds(e){var t=Ye|st,r=H!==null&&(H.f&Ye)!==0?H:null;return ee!==null&&(ee.f|=Zr),{ctx:Xe,deps:null,effects:null,equals:ra,f:t,fn:e,reactions:null,rv:0,v:Ve,wv:0,parent:r??ee,ac:null}}function Li(e,t,r){let n=ee;n===null&&Qa();var i=n.b,a=void 0,l=Rr(Ve);C&&(l.label=t);var o=!H,u=new Map;return Xi(()=>{var p;var g=Qs();a=g.promise;try{Promise.resolve(e()).then(g.resolve,g.reject).then(()=>{h===N&&h.committed&&h.deactivate(),$n()})}catch(k){g.reject(k),$n()}var h=N;if(o){var d=i.is_rendered();i.update_pending_count(1),h.increment(d),(p=u.get(h))==null||p.reject(Fr),u.delete(h),u.set(h,g)}const v=(k,w=void 0)=>{if(h.activate(),w)w!==Fr&&(l.f|=fr,Xr(l,w));else{(l.f&fr)!==0&&(l.f^=fr),Xr(l,k);for(const[b,T]of u){if(u.delete(b),b===h)break;T.reject(Fr)}}o&&(i.update_pending_count(-1),h.decrement(d))};g.promise.then(v,k=>v(null,k||"unknown"))}),ys(()=>{for(const g of u.values())g.reject(Fr)}),C&&(l.f|=Dn),new Promise(g=>{function h(d){function v(){d===a?g(l):h(a)}d.then(v,v)}h(a)})}function qr(e){const t=ds(e);return Ia(t),t}function Di(e){const t=ds(e);return t.equals=na,t}function es(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ut(t[r])}}let Vn=[];function Mi(e){for(var t=e.parent;t!==null;){if((t.f&Ye)===0)return(t.f&vr)===0?t:null;t=t.parent}return null}function _s(e){var t,r=ee;if(Dt(Mi(e)),C){let n=Qr;Rs(new Set);try{Vn.includes(e)&&Xa(),Vn.push(e),e.f&=~pr,es(e),t=ts(e)}finally{Dt(r),Rs(n),Vn.pop()}}else try{e.f&=~pr,es(e),t=ts(e)}finally{Dt(r)}return t}function ha(e){var t=_s(e);if(!e.equals(t)&&(e.wv=Ra(),(!(N!=null&&N.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){Fe(e,Ze);return}jr||(We!==null?(gs()||N!=null&&N.is_fork)&&We.set(e,t):fs(e))}let Qr=new Set;const dr=new Map;function Rs(e){Qr=e}let ps=!1;function Fi(){ps=!0}function Rr(e,t){var r={f:0,v:e,reactions:null,equals:ra,rv:0,wv:0};return r}function O(e,t){const r=Rr(e);return Ia(r),r}function Ni(e,t=!1,r=!0){const n=Rr(e);return t||(n.equals=na),n}function y(e,t,r=!1){H!==null&&(!Lt||(H.f&Tn)!==0)&&aa()&&(H.f&(Ye|tr|Dn|Tn))!==0&&!(nt!=null&&nt.includes(e))&&ii();let n=r?Ge(t):t;return C&&sa(n,e.label),Xr(e,n)}function Xr(e,t){var i;if(!e.equals(t)){var r=e.v;jr?dr.set(e,t):dr.set(e,r),e.v=t;var n=Xt.ensure();if(n.capture(e,r),C){if(ee!==null){e.updated??(e.updated=new Map);const a=(((i=e.updated.get(""))==null?void 0:i.count)??0)+1;if(e.updated.set("",{error:null,count:a}),a>5){const l=bi("updated at");if(l!==null){let o=e.updated.get(l.stack);o||(o={error:l,count:0},e.updated.set(l.stack,o)),o.count++}}}ee!==null&&(e.set_during_effect=!0)}if((e.f&Ye)!==0){const a=e;(e.f&st)!==0&&_s(a),fs(a)}e.wv=Ra(),ga(e,st),ee!==null&&(ee.f&Ze)!==0&&(ee.f&(rr|Or))===0&&(wt===null?tl([e]):wt.push(e)),!n.is_fork&&Qr.size>0&&!ps&&ma()}return t}function ma(){ps=!1;var e=Ar;In(!0);const t=Array.from(Qr);try{for(const r of t)(r.f&Ze)!==0&&Fe(r,nr),gn(r)&&fn(r)}finally{In(e)}Qr.clear()}function on(e){y(e,e.v+1)}function ga(e,t){var r=e.reactions;if(r!==null)for(var n=r.length,i=0;i<n;i++){var a=r[i],l=a.f;if(C&&(l&Tn)!==0){Qr.add(a);continue}var o=(l&st)===0;if(o&&Fe(a,t),(l&Ye)!==0){var u=a;We==null||We.delete(u),(l&pr)===0&&(l&$t&&(a.f|=pr),ga(u,nr))}else o&&((l&tr)!==0&&Ot!==null&&Ot.add(a),er(a))}}const Hi=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function Ge(e){if(typeof e!="object"||e===null||Hr in e)return e;const t=Ga(e);if(t!==za&&t!==Wa)return e;var r=new Map,n=ls(e),i=O(0),a=$r,l=h=>{if($r===a)return h();var d=H,v=$r;ct(null),Ls(a);var p=h();return ct(d),Ls(v),p};n&&(r.set("length",O(e.length)),C&&(e=Vi(e)));var o="";let u=!1;function g(h){if(!u){u=!0,o=h,Nt(i,`${o} version`);for(const[d,v]of r)Nt(v,mr(o,d));u=!1}}return new Proxy(e,{defineProperty(h,d,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&si();var p=r.get(d);return p===void 0?p=l(()=>{var k=O(v.value);return r.set(d,k),C&&typeof d=="string"&&Nt(k,mr(o,d)),k}):y(p,v.value,!0),!0},deleteProperty(h,d){var v=r.get(d);if(v===void 0){if(d in h){const p=l(()=>O(Ve));r.set(d,p),on(i),C&&Nt(p,mr(o,d))}}else y(v,Ve),on(i);return!0},get(h,d,v){var b;if(d===Hr)return e;if(C&&d===ea)return g;var p=r.get(d),k=d in h;if(p===void 0&&(!k||(b=Nr(h,d))!=null&&b.writable)&&(p=l(()=>{var T=Ge(k?h[d]:Ve),ie=O(T);return C&&Nt(ie,mr(o,d)),ie}),r.set(d,p)),p!==void 0){var w=s(p);return w===Ve?void 0:w}return Reflect.get(h,d,v)},getOwnPropertyDescriptor(h,d){var v=Reflect.getOwnPropertyDescriptor(h,d);if(v&&"value"in v){var p=r.get(d);p&&(v.value=s(p))}else if(v===void 0){var k=r.get(d),w=k==null?void 0:k.v;if(k!==void 0&&w!==Ve)return{enumerable:!0,configurable:!0,value:w,writable:!0}}return v},has(h,d){var w;if(d===Hr)return!0;var v=r.get(d),p=v!==void 0&&v.v!==Ve||Reflect.has(h,d);if(v!==void 0||ee!==null&&(!p||(w=Nr(h,d))!=null&&w.writable)){v===void 0&&(v=l(()=>{var b=p?Ge(h[d]):Ve,T=O(b);return C&&Nt(T,mr(o,d)),T}),r.set(d,v));var k=s(v);if(k===Ve)return!1}return p},set(h,d,v,p){var le;var k=r.get(d),w=d in h;if(n&&d==="length")for(var b=v;b<k.v;b+=1){var T=r.get(b+"");T!==void 0?y(T,Ve):b in h&&(T=l(()=>O(Ve)),r.set(b+"",T),C&&Nt(T,mr(o,b)))}if(k===void 0)(!w||(le=Nr(h,d))!=null&&le.writable)&&(k=l(()=>O(void 0)),C&&Nt(k,mr(o,d)),y(k,Ge(v)),r.set(d,k));else{w=k.v!==Ve;var ie=l(()=>Ge(v));y(k,ie)}var Q=Reflect.getOwnPropertyDescriptor(h,d);if(Q!=null&&Q.set&&Q.set.call(p,v),!w){if(n&&typeof d=="string"){var te=r.get("length"),ne=Number(d);Number.isInteger(ne)&&ne>=te.v&&y(te,ne+1)}on(i)}return!0},ownKeys(h){s(i);var d=Reflect.ownKeys(h).filter(k=>{var w=r.get(k);return w===void 0||w.v!==Ve});for(var[v,p]of r)p.v!==Ve&&!(v in h)&&d.push(v);return d},setPrototypeOf(){ai()}})}function mr(e,t){return typeof t=="symbol"?`${e}[Symbol(${t.description??""})]`:Hi.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function cn(e){try{if(e!==null&&typeof e=="object"&&Hr in e)return e[Hr]}catch{}return e}function Ui(e,t){return Object.is(cn(e),cn(t))}const Bi=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function Vi(e){return new Proxy(e,{get(t,r,n){var i=Reflect.get(t,r,n);return Bi.has(r)?function(...a){Fi();var l=i.apply(this,a);return ma(),l}:i}})}function zi(){const e=Array.prototype,t=Array.__svelte_cleanup;t&&t();const{indexOf:r,lastIndexOf:n,includes:i}=e;e.indexOf=function(a,l){const o=r.call(this,a,l);if(o===-1){for(let u=l??0;u<this.length;u+=1)if(cn(this[u])===a){Bn("array.indexOf(...)");break}}return o},e.lastIndexOf=function(a,l){const o=n.call(this,a,l??this.length-1);if(o===-1){for(let u=0;u<=(l??this.length-1);u+=1)if(cn(this[u])===a){Bn("array.lastIndexOf(...)");break}}return o},e.includes=function(a,l){const o=i.call(this,a,l);if(!o){for(let u=0;u<this.length;u+=1)if(cn(this[u])===a){Bn("array.includes(...)");break}}return o},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=i}}var js,hs,ya,ba;function Wi(){if(js===void 0){js=window,hs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;ya=Nr(t,"firstChild").get,ba=Nr(t,"nextSibling").get,$s(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),$s(r)&&(r.__t=void 0),C&&(e.__svelte_meta=null,zi())}}function _r(e=""){return document.createTextNode(e)}function Cn(e){return ya.call(e)}function mn(e){return ba.call(e)}function c(e,t){return Cn(e)}function Re(e,t=!1){{var r=Cn(e);return r instanceof Comment&&r.data===""?mn(r):r}}function f(e,t=1,r=!1){let n=e;for(;t--;)n=mn(n);return n}function Gi(e){e.textContent=""}function wa(){return!1}let Os=!1;function Yi(){Os||(Os=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Fn(e){var t=H,r=ee;ct(null),Dt(null);try{return e()}finally{ct(t),Dt(r)}}function ms(e,t,r,n=r){e.addEventListener(t,()=>Fn(r));const i=e.__on_r;i?e.__on_r=()=>{i(),n(!0)}:e.__on_r=()=>n(!0),Yi()}function Ji(e){ee===null&&(H===null&&ti(e),ei()),jr&&Za(e)}function Ki(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function sr(e,t,r){var n=ee;if(C)for(;n!==null&&(n.f&Tn)!==0;)n=n.parent;n!==null&&(n.f&yt)!==0&&(e|=yt);var i={ctx:Xe,deps:null,nodes:null,f:e|st|$t,first:null,fn:t,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(C&&(i.component_function=hn),r)try{fn(i),i.f|=cs}catch(o){throw ut(i),o}else t!==null&&er(i);var a=i;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&Zr)===0&&(a=a.first,(e&tr)!==0&&(e&Yr)!==0&&a!==null&&(a.f|=Yr)),a!==null&&(a.parent=n,n!==null&&Ki(a,n),H!==null&&(H.f&Ye)!==0&&(e&Or)===0)){var l=H;(l.effects??(l.effects=[])).push(a)}return i}function gs(){return H!==null&&!Lt}function ys(e){const t=sr(Ln,null,!1);return Fe(t,Ze),t.teardown=e,t}function Zt(e){Ji("$effect"),C&&Ir(e,"name",{value:"$effect"});var t=ee.f,r=!H&&(t&rr)!==0&&(t&cs)===0;if(r){var n=Xe;(n.e??(n.e=[])).push(e)}else return xa(e)}function xa(e){return sr(Sn|Ka,e,!1)}function Qi(e){Xt.ensure();const t=sr(Or|Zr,e,!0);return(r={})=>new Promise(n=>{r.outro?Tr(t,()=>{ut(t),n(void 0)}):(ut(t),n(void 0))})}function Ea(e){return sr(Sn,e,!1)}function Xi(e){return sr(Dn|Zr,e,!0)}function Nn(e,t=0){return sr(Ln|t,e,!0)}function L(e,t=[],r=[],n=[]){ji(n,t,r,i=>{sr(Ln,()=>e(...i.map(s)),!0)})}function bs(e,t=0){var r=sr(tr|t,e,!0);return C&&(r.dev_stack=vn),r}function St(e){return sr(rr|Zr,e,!0)}function ka(e){var t=e.teardown;if(t!==null){const r=jr,n=H;Ps(!0),ct(null);try{t.call(null)}finally{Ps(r),ct(n)}}}function Sa(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const i=r.ac;i!==null&&Fn(()=>{i.abort(Fr)});var n=r.next;(r.f&Or)!==0?r.parent=null:ut(r,t),r=n}}function Zi(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&rr)===0&&ut(t),t=r}}function ut(e,t=!0){var r=!1;(t||(e.f&Zs)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(el(e.nodes.start,e.nodes.end),r=!0),Sa(e,t&&!r),qn(e,0),Fe(e,vr);var n=e.nodes&&e.nodes.t;if(n!==null)for(const a of n)a.stop();ka(e);var i=e.parent;i!==null&&i.first!==null&&Ta(e),C&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function el(e,t){for(;e!==null;){var r=e===t?null:mn(e);e.remove(),e=r}}function Ta(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Tr(e,t,r=!0){var n=[];Aa(e,n,!0);var i=()=>{r&&ut(e),t&&t()},a=n.length;if(a>0){var l=()=>--a||i();for(var o of n)o.out(l)}else i()}function Aa(e,t,r){if((e.f&yt)===0){e.f^=yt;var n=e.nodes&&e.nodes.t;if(n!==null)for(const o of n)(o.is_global||r)&&t.push(o);for(var i=e.first;i!==null;){var a=i.next,l=(i.f&Yr)!==0||(i.f&rr)!==0&&(e.f&tr)!==0;Aa(i,t,l?r:!1),i=a}}}function ws(e){$a(e,!0)}function $a(e,t){if((e.f&yt)!==0){e.f^=yt,(e.f&Ze)===0&&(Fe(e,st),er(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&Yr)!==0||(r.f&rr)!==0;$a(r,i?t:!1),r=n}var a=e.nodes&&e.nodes.t;if(a!==null)for(const l of a)(l.is_global||t)&&l.in()}}function Ca(e,t){if(e.nodes)for(var r=e.nodes.start,n=e.nodes.end;r!==null;){var i=r===n?null:mn(r);t.append(r),r=i}}let Ar=!1;function In(e){Ar=e}let jr=!1;function Ps(e){jr=e}let H=null,Lt=!1;function ct(e){H=e}let ee=null;function Dt(e){ee=e}let nt=null;function Ia(e){H!==null&&(nt===null?nt=[e]:nt.push(e))}let ot=null,mt=0,wt=null;function tl(e){wt=e}let qa=1,yr=0,$r=yr;function Ls(e){$r=e}function Ra(){return++qa}function gn(e){var t=e.f;if((t&st)!==0)return!0;if(t&Ye&&(e.f&=~pr),(t&nr)!==0){for(var r=e.deps,n=r.length,i=0;i<n;i++){var a=r[i];if(gn(a)&&ha(a),a.wv>e.wv)return!0}(t&$t)!==0&&We===null&&Fe(e,Ze)}return!1}function ja(e,t,r=!0){var n=e.reactions;if(n!==null&&!(nt!=null&&nt.includes(e)))for(var i=0;i<n.length;i++){var a=n[i];(a.f&Ye)!==0?ja(a,t,!1):t===a&&(r?Fe(a,st):(a.f&Ze)!==0&&Fe(a,nr),er(a))}}function ts(e){var k;var t=ot,r=mt,n=wt,i=H,a=nt,l=Xe,o=Lt,u=$r,g=e.f;ot=null,mt=0,wt=null,H=(g&(rr|Or))===0?e:null,nt=null,Jr(e.ctx),Lt=!1,$r=++yr,e.ac!==null&&(Fn(()=>{e.ac.abort(Fr)}),e.ac=null);try{e.f|=Gn;var h=e.fn,d=h(),v=e.deps;if(ot!==null){var p;if(qn(e,mt),v!==null&&mt>0)for(v.length=mt+ot.length,p=0;p<ot.length;p++)v[mt+p]=ot[p];else e.deps=v=ot;if(gs()&&(e.f&$t)!==0)for(p=mt;p<v.length;p++)((k=v[p]).reactions??(k.reactions=[])).push(e)}else v!==null&&mt<v.length&&(qn(e,mt),v.length=mt);if(aa()&&wt!==null&&!Lt&&v!==null&&(e.f&(Ye|nr|st))===0)for(p=0;p<wt.length;p++)ja(wt[p],e);if(i!==null&&i!==e){if(yr++,i.deps!==null)for(let w=0;w<r;w+=1)i.deps[w].rv=yr;if(t!==null)for(const w of t)w.rv=yr;wt!==null&&(n===null?n=wt:n.push(...wt))}return(e.f&fr)!==0&&(e.f^=fr),d}catch(w){return la(w)}finally{e.f^=Gn,ot=t,mt=r,wt=n,H=i,nt=a,Jr(l),Lt=o,$r=u}}function rl(e,t){let r=t.reactions;if(r!==null){var n=Va.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}if(r===null&&(t.f&Ye)!==0&&(ot===null||!ot.includes(t))){var a=t;(a.f&$t)!==0&&(a.f^=$t,a.f&=~pr),fs(a),es(a),qn(a,0)}}function qn(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)rl(e,r[n])}function fn(e){var t=e.f;if((t&vr)===0){Fe(e,Ze);var r=ee,n=Ar;if(ee=e,Ar=!0,C){var i=hn;Is(e.component_function);var a=vn;An(e.dev_stack??vn)}try{(t&(tr|Xs))!==0?Zi(e):Sa(e),ka(e);var l=ts(e);e.teardown=typeof l=="function"?l:null,e.wv=qa;var o;C&&yi&&(e.f&st)!==0&&e.deps}finally{Ar=n,ee=r,C&&(Is(i),An(a))}}}async function nl(){await Promise.resolve(),Si()}function s(e){var t=e.f,r=(t&Ye)!==0;if(H!==null&&!Lt){var n=ee!==null&&(ee.f&vr)!==0;if(!n&&!(nt!=null&&nt.includes(e))){var i=H.deps;if((H.f&Gn)!==0)e.rv<yr&&(e.rv=yr,ot===null&&i!==null&&i[mt]===e?mt++:ot===null?ot=[e]:ot.push(e));else{(H.deps??(H.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[H]:a.includes(H)||a.push(H)}}}if(C&&Pi.delete(e),jr&&dr.has(e))return dr.get(e);if(r){var l=e;if(jr){var o=l.v;return((l.f&Ze)===0&&l.reactions!==null||Pa(l))&&(o=_s(l)),dr.set(l,o),o}var u=(l.f&$t)===0&&!Lt&&H!==null&&(Ar||(H.f&$t)!==0),g=l.deps===null;gn(l)&&(u&&(l.f|=$t),ha(l)),u&&!g&&Oa(l)}if(We!=null&&We.has(e))return We.get(e);if((e.f&fr)!==0)throw e.v;return e.v}function Oa(e){if(e.deps!==null){e.f|=$t;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&Ye)!==0&&(t.f&$t)===0&&Oa(t)}}function Pa(e){if(e.v===Ve)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(dr.has(t)||(t.f&Ye)!==0&&Pa(t))return!0;return!1}function Hn(e){var t=Lt;try{return Lt=!0,e()}finally{Lt=t}}const sl=["touchstart","touchmove"];function al(e){return sl.includes(e)}const La=new Set,rs=new Set;function il(e,t,r,n={}){function i(a){if(n.capture||nn.call(t,a),!a.cancelBubble)return Fn(()=>r==null?void 0:r.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?rn(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function xn(e,t,r,n,i){var a={capture:n,passive:i},l=il(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ys(()=>{t.removeEventListener(e,l,a)})}function yn(e){for(var t=0;t<e.length;t++)La.add(e[t]);for(var r of rs)r(e)}let Ds=null;function nn(e){var b;var t=this,r=t.ownerDocument,n=e.type,i=((b=e.composedPath)==null?void 0:b.call(e))||[],a=i[0]||e.target;Ds=e;var l=0,o=Ds===e&&e.__root;if(o){var u=i.indexOf(o);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var g=i.indexOf(t);if(g===-1)return;u<=g&&(l=u)}if(a=i[l]||e.target,a!==t){Ir(e,"currentTarget",{configurable:!0,get(){return a||r}});var h=H,d=ee;ct(null),Dt(null);try{for(var v,p=[];a!==null;){var k=a.assignedSlot||a.parentNode||a.host||null;try{var w=a["__"+n];w!=null&&(!a.disabled||e.target===a)&&w.call(a,e)}catch(T){v?p.push(T):v=T}if(e.cancelBubble||k===t||k===null)break;a=k}if(v){for(let T of p)queueMicrotask(()=>{throw T});throw v}}finally{e.__root=t,delete e.currentTarget,ct(h),Dt(d)}}}function ll(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ns(e,t){var r=ee;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function S(e,t){var r=(t&fi)!==0,n=(t&di)!==0,i,a=!e.startsWith("<!>");return()=>{i===void 0&&(i=ll(a?e:"<!>"+e),r||(i=Cn(i)));var l=n||hs?document.importNode(i,!0):i.cloneNode(!0);if(r){var o=Cn(l),u=l.lastChild;ns(o,u)}else ns(l,l);return l}}function ze(){var e=document.createDocumentFragment(),t=document.createComment(""),r=_r();return e.append(t,r),ns(t,r),e}function x(e,t){e!==null&&e.before(t)}function $(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function ol(e,t){return cl(e,t)}const Dr=new Map;function cl(e,{target:t,anchor:r,props:n={},events:i,context:a,intro:l=!0}){Wi();var o=new Set,u=d=>{for(var v=0;v<d.length;v++){var p=d[v];if(!o.has(p)){o.add(p);var k=al(p);t.addEventListener(p,nn,{passive:k});var w=Dr.get(p);w===void 0?(document.addEventListener(p,nn,{passive:k}),Dr.set(p,1)):Dr.set(p,w+1)}}};u(Pn(La)),rs.add(u);var g=void 0,h=Qi(()=>{var d=r??t.appendChild(_r());return Ci(d,{pending:()=>{}},v=>{if(a){en({});var p=Xe;p.c=a}i&&(n.$$events=i),g=e(v,n)||{},a&&tn()}),()=>{var k;for(var v of o){t.removeEventListener(v,nn);var p=Dr.get(v);--p===0?(document.removeEventListener(v,nn),Dr.delete(v)):Dr.set(v,p)}rs.delete(u),d!==r&&((k=d.parentNode)==null||k.removeChild(d))}});return ul.set(g,h),g}let ul=new WeakMap;var Pt,Vt,gt,Sr,_n,pn,On;class vl{constructor(t,r=!0){jt(this,"anchor");z(this,Pt,new Map);z(this,Vt,new Map);z(this,gt,new Map);z(this,Sr,new Set);z(this,_n,!0);z(this,pn,()=>{var t=N;if(_(this,Pt).has(t)){var r=_(this,Pt).get(t),n=_(this,Vt).get(r);if(n)ws(n),_(this,Sr).delete(r);else{var i=_(this,gt).get(r);i&&(_(this,Vt).set(r,i.effect),_(this,gt).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),n=i.effect)}for(const[a,l]of _(this,Pt)){if(_(this,Pt).delete(a),a===t)break;const o=_(this,gt).get(l);o&&(ut(o.effect),_(this,gt).delete(l))}for(const[a,l]of _(this,Vt)){if(a===r||_(this,Sr).has(a))continue;const o=()=>{if(Array.from(_(this,Pt).values()).includes(a)){var g=document.createDocumentFragment();Ca(l,g),g.append(_r()),_(this,gt).set(a,{effect:l,fragment:g})}else ut(l);_(this,Sr).delete(a),_(this,Vt).delete(a)};_(this,_n)||!n?(_(this,Sr).add(a),Tr(l,o,!1)):o()}}});z(this,On,t=>{_(this,Pt).delete(t);const r=Array.from(_(this,Pt).values());for(const[n,i]of _(this,gt))r.includes(n)||(ut(i.effect),_(this,gt).delete(n))});this.anchor=t,B(this,_n,r)}ensure(t,r){var n=N,i=wa();if(r&&!_(this,Vt).has(t)&&!_(this,gt).has(t))if(i){var a=document.createDocumentFragment(),l=_r();a.append(l),_(this,gt).set(t,{effect:St(()=>r(l)),fragment:a})}else _(this,Vt).set(t,St(()=>r(this.anchor)));if(_(this,Pt).set(n,t),i){for(const[o,u]of _(this,Vt))o===t?n.skipped_effects.delete(u):n.skipped_effects.add(u);for(const[o,u]of _(this,gt))o===t?n.skipped_effects.delete(u.effect):n.skipped_effects.add(u.effect);n.oncommit(_(this,pn)),n.ondiscard(_(this,On))}else _(this,pn).call(this)}}Pt=new WeakMap,Vt=new WeakMap,gt=new WeakMap,Sr=new WeakMap,_n=new WeakMap,pn=new WeakMap,On=new WeakMap;function R(e,t,r=!1){var n=new vl(e),i=r?Yr:0;function a(l,o){n.ensure(l,o)}bs(()=>{var l=!1;t((o,u=!0)=>{l=!0,a(u,o)}),l||a(!1,null)},i)}function Cr(e,t){return t}function fl(e,t,r){for(var n=[],i=t.length,a,l=t.length,o=0;o<i;o++){let d=t[o];Tr(d,()=>{if(a){if(a.pending.delete(d),a.done.add(d),a.pending.size===0){var v=e.outrogroups;ss(Pn(a.done)),v.delete(a),v.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var u=n.length===0&&r!==null;if(u){var g=r,h=g.parentNode;Gi(h),h.append(g),e.items.clear()}ss(t,!u)}else a={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(a)}function ss(e,t=!0){for(var r=0;r<e.length;r++)ut(e[r],t)}var Ms;function At(e,t,r,n,i,a=null){var l=e,o=new Map,u=(t&ta)!==0;if(u){var g=e;l=g.appendChild(_r())}var h=null,d=Di(()=>{var T=r();return ls(T)?T:T==null?[]:Pn(T)}),v,p=!0;function k(){b.fallback=h,dl(b,v,l,t,n),h!==null&&(v.length===0?(h.f&Qt)===0?ws(h):(h.f^=Qt,sn(h,null,l)):Tr(h,()=>{h=null}))}var w=bs(()=>{v=s(d);for(var T=v.length,ie=new Set,Q=N,te=wa(),ne=0;ne<T;ne+=1){var le=v[ne],I=n(le,ne),re=p?null:o.get(I);re?(re.v&&Xr(re.v,le),re.i&&Xr(re.i,ne),te&&Q.skipped_effects.delete(re.e)):(re=_l(o,p?l:Ms??(Ms=_r()),le,I,ne,i,t,r),p||(re.e.f|=Qt),o.set(I,re)),ie.add(I)}if(T===0&&a&&!h&&(p?h=St(()=>a(l)):(h=St(()=>a(Ms??(Ms=_r()))),h.f|=Qt)),!p)if(te){for(const[Ne,je]of o)ie.has(Ne)||Q.skipped_effects.add(je.e);Q.oncommit(k),Q.ondiscard(()=>{})}else k();s(d)}),b={effect:w,items:o,outrogroups:null,fallback:h};p=!1}function dl(e,t,r,n,i){var je,et,M,ue,ve,Te,fe,we,Ae;var a=(n&ui)!==0,l=t.length,o=e.items,u=e.effect.first,g,h=null,d,v=[],p=[],k,w,b,T;if(a)for(T=0;T<l;T+=1)k=t[T],w=i(k,T),b=o.get(w).e,(b.f&Qt)===0&&((et=(je=b.nodes)==null?void 0:je.a)==null||et.measure(),(d??(d=new Set)).add(b));for(T=0;T<l;T+=1){if(k=t[T],w=i(k,T),b=o.get(w).e,e.outrogroups!==null)for(const xe of e.outrogroups)xe.pending.delete(b),xe.done.delete(b);if((b.f&Qt)!==0)if(b.f^=Qt,b===u)sn(b,null,r);else{var ie=h?h.next:u;b===e.effect.last&&(e.effect.last=b.prev),b.prev&&(b.prev.next=b.next),b.next&&(b.next.prev=b.prev),or(e,h,b),or(e,b,ie),sn(b,ie,r),h=b,v=[],p=[],u=h.next;continue}if((b.f&yt)!==0&&(ws(b),a&&((ue=(M=b.nodes)==null?void 0:M.a)==null||ue.unfix(),(d??(d=new Set)).delete(b))),b!==u){if(g!==void 0&&g.has(b)){if(v.length<p.length){var Q=p[0],te;h=Q.prev;var ne=v[0],le=v[v.length-1];for(te=0;te<v.length;te+=1)sn(v[te],Q,r);for(te=0;te<p.length;te+=1)g.delete(p[te]);or(e,ne.prev,le.next),or(e,h,ne),or(e,le,Q),u=Q,h=le,T-=1,v=[],p=[]}else g.delete(b),sn(b,u,r),or(e,b.prev,b.next),or(e,b,h===null?e.effect.first:h.next),or(e,h,b),h=b;continue}for(v=[],p=[];u!==null&&u!==b;)(g??(g=new Set)).add(u),p.push(u),u=u.next;if(u===null)continue}(b.f&Qt)===0&&v.push(b),h=b,u=b.next}if(e.outrogroups!==null){for(const xe of e.outrogroups)xe.pending.size===0&&(ss(Pn(xe.done)),(ve=e.outrogroups)==null||ve.delete(xe));e.outrogroups.size===0&&(e.outrogroups=null)}if(u!==null||g!==void 0){var I=[];if(g!==void 0)for(b of g)(b.f&yt)===0&&I.push(b);for(;u!==null;)(u.f&yt)===0&&u!==e.fallback&&I.push(u),u=u.next;var re=I.length;if(re>0){var Ne=(n&ta)!==0&&l===0?r:null;if(a){for(T=0;T<re;T+=1)(fe=(Te=I[T].nodes)==null?void 0:Te.a)==null||fe.measure();for(T=0;T<re;T+=1)(Ae=(we=I[T].nodes)==null?void 0:we.a)==null||Ae.fix()}fl(e,I,Ne)}}a&&rn(()=>{var xe,X;if(d!==void 0)for(b of d)(X=(xe=b.nodes)==null?void 0:xe.a)==null||X.apply()})}function _l(e,t,r,n,i,a,l,o){var u=(l&oi)!==0?(l&vi)===0?Ni(r,!1,!1):Rr(r):null,g=(l&ci)!==0?Rr(i):null;return C&&u&&(u.trace=()=>{o()[(g==null?void 0:g.v)??i]}),{v:u,i:g,e:St(()=>(a(t,u??r,g??i,o),()=>{e.delete(n)}))}}function sn(e,t,r){if(e.nodes)for(var n=e.nodes.start,i=e.nodes.end,a=t&&(t.f&Qt)===0?t.nodes.start:r;n!==null;){var l=mn(n);if(a.before(n),n===i)return;n=l}}function or(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const Fs=[...` 	
\r\fÂ \v\uFEFF`];function pl(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var i in r)if(r[i])n=n?n+" "+i:i;else if(n.length)for(var a=i.length,l=0;(l=n.indexOf(i,l))>=0;){var o=l+a;(l===0||Fs.includes(n[l-1]))&&(o===n.length||Fs.includes(n[o]))?n=(l===0?"":n.substring(0,l))+n.substring(o+1):l=o}}return n===""?null:n}function hl(e,t){return e==null?null:String(e)}function qe(e,t,r,n,i,a){var l=e.__className;if(l!==r||l===void 0){var o=pl(r,n,a);o==null?e.removeAttribute("class"):e.className=o,e.__className=r}else if(a&&i!==a)for(var u in a){var g=!!a[u];(i==null||g!==!!i[u])&&e.classList.toggle(u,g)}return a}function Tt(e,t,r,n){var i=e.__style;if(i!==t){var a=hl(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return n}function Da(e,t,r=!1){if(e.multiple){if(t==null)return;if(!ls(t))return hi();for(var n of e.options)n.selected=t.includes(un(n));return}for(n of e.options){var i=un(n);if(Ui(i,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function ml(e){var t=new MutationObserver(()=>{Da(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ys(()=>{t.disconnect()})}function as(e,t,r=t){var n=new WeakSet,i=!0;ms(e,"change",a=>{var l=a?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(l),un);else{var u=e.querySelector(l)??e.querySelector("option:not([disabled])");o=u&&un(u)}r(o),N!==null&&n.add(N)}),Ea(()=>{var a=t();if(e===document.activeElement){var l=an??N;if(n.has(l))return}if(Da(e,a,i),i&&a===void 0){var o=e.querySelector(":checked");o!==null&&(a=un(o),r(a))}e.__value=a,i=!1}),ml(e)}function un(e){return"__value"in e?e.__value:e.value}const gl=Symbol("is custom element"),yl=Symbol("is html");function bl(e,t){var r=wl(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function wl(e){return e.__attributes??(e.__attributes={[gl]:e.nodeName.includes("-"),[yl]:e.namespaceURI===pi})}function bt(e,t,r=t){var n=new WeakSet;ms(e,"input",async i=>{C&&e.type==="checkbox"&&Cs();var a=i?e.defaultValue:e.value;if(a=zn(e)?Wn(a):a,r(a),N!==null&&n.add(N),await nl(),a!==(a=t())){var l=e.selectionStart,o=e.selectionEnd,u=e.value.length;if(e.value=a??"",o!==null){var g=e.value.length;l===o&&o===u&&g>u?(e.selectionStart=g,e.selectionEnd=g):(e.selectionStart=l,e.selectionEnd=Math.min(o,g))}}}),Hn(t)==null&&e.value&&(r(zn(e)?Wn(e.value):e.value),N!==null&&n.add(N)),Nn(()=>{C&&e.type==="checkbox"&&Cs();var i=t();if(e===document.activeElement){var a=an??N;if(n.has(a))return}zn(e)&&i===Wn(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Mr(e,t,r=t){ms(e,"change",n=>{var i=n?e.defaultChecked:e.checked;r(i)}),Hn(t)==null&&r(e.checked),Nn(()=>{var n=t();e.checked=!!n})}function zn(e){var t=e.type;return t==="number"||t==="range"}function Wn(e){return e===""?null:+e}function Ns(e,t){return e===t||(e==null?void 0:e[Hr])===t}function xl(e={},t,r,n){return Ea(()=>{var i,a;return Nn(()=>{i=a,a=[],Hn(()=>{e!==r(...a)&&(t(e,...a),i&&Ns(r(...i),e)&&t(null,...i))})}),()=>{rn(()=>{a&&Ns(r(...a),e)&&t(null,...a)})}}),e}if(C){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;ni(t)},set:n=>{r=n}})}};var ec=e;e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}const El="5";var Ks;typeof window<"u"&&((Ks=window.__svelte??(window.__svelte={})).v??(Ks.v=new Set)).add(El);const xs="/api";async function ar(e){const t=`${xs}${e}`;let r;try{r=await fetch(t)}catch(n){throw new Error(`Network error fetching ${t}: ${n instanceof Error?n.message:String(n)}`)}if(!r.ok){const n=await r.text().catch(()=>"");throw new Error(`API error ${r.status}: ${n||r.statusText}`)}return r.json()}async function Es(e,t){const r=await fetch(`${xs}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json().catch(()=>({error:r.statusText}));throw new Error(n.error||`API error: ${r.status}`)}return r.json()}async function kl(e,t){const r=await fetch(`${xs}${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json().catch(()=>({error:r.statusText}));throw new Error(n.error||`API error: ${r.status}`)}return r.json()}async function Sl(){return ar("/projects")}async function Tl(e){return ar(`/projects/${e}/health`)}async function Hs(e){return ar(`/projects/${e}/files`)}async function Us(e){return ar(`/projects/${e}/decisions`)}async function Bs(e){return ar(`/projects/${e}/issues`)}async function Vs(e){return ar(`/projects/${e}/learnings`)}async function Al(e){return ar(`/projects/${e}/sessions`)}async function $l(e){return ar(`/projects/${e}/relationships`)}async function Cl(e){return ar(`/projects/${e}/graph`)}async function Il(e,t){return Es(`/projects/${e}/issues`,t)}async function ql(e,t,r){return kl(`/projects/${e}/issues/${t}/resolve`,{resolution:r})}async function Rl(e,t){return Es(`/projects/${e}/decisions`,t)}async function jl(e,t){return Es(`/projects/${e}/learnings`,t)}var Ol=S('<div class="card error-card svelte-bqunow"><p> </p></div>'),Pl=S('<div class="fragile-item svelte-bqunow"><div class="fragile-bar svelte-bqunow"></div> <div class="fragile-info svelte-bqunow"><span class="mono"> </span> <span class="fragile-score svelte-bqunow"> </span></div></div>'),Ll=S('<div class="card section svelte-bqunow"><h3 class="svelte-bqunow">Fragile Files</h3> <div class="fragile-grid svelte-bqunow"></div></div>'),Dl=S('<span class="badge badge-hot" style="background: rgba(16, 185, 129, 0.2); color: #10b981">success</span>'),Ml=S('<span class="badge badge-warm">partial</span>'),Fl=S('<span class="badge badge-hot">failed</span>'),Nl=S('<span class="badge badge-cold">active</span>'),Hl=S('<tr><td class="mono"> </td><td> </td><td class="text-muted svelte-bqunow"> </td><td><!></td></tr>'),Ul=S('<div class="card section svelte-bqunow"><h3 class="svelte-bqunow">Recent Sessions</h3> <table><thead><tr><th>#</th><th>Goal</th><th>Outcome</th><th>Status</th></tr></thead><tbody></tbody></table></div>'),Bl=S('<div class="page-header svelte-bqunow"><h1> </h1> <span> </span></div> <div class="grid grid-4 stats-grid svelte-bqunow"><button class="card stat-card clickable svelte-bqunow"><div class="stat-value svelte-bqunow"> </div> <div class="stat-label svelte-bqunow">Files</div></button> <button class="card stat-card clickable svelte-bqunow"><div class="stat-value svelte-bqunow"> </div> <div class="stat-label svelte-bqunow">Open Issues</div></button> <button class="card stat-card clickable svelte-bqunow"><div class="stat-value svelte-bqunow"> </div> <div class="stat-label svelte-bqunow">Decisions</div></button> <button class="card stat-card clickable svelte-bqunow"><div class="stat-value svelte-bqunow"> </div> <div class="stat-label svelte-bqunow">Debt Score</div></button></div> <!> <!>',1),Vl=S('<div class="loading svelte-bqunow">Loading...</div>'),zl=S('<div class="health-page svelte-bqunow"><!></div>');function zs(e,t){en(t,!0);let r=qr(()=>t.projectId),n=O(null),i=O(null);Zt(()=>{s(r)&&Tl(s(r)).then(d=>{y(n,d,!0),y(i,null)}).catch(d=>{y(i,d.message,!0)})});function a(d){return d>=8?"var(--danger)":d>=6?"var(--warning)":d>=4?"var(--accent-1)":"var(--accent-4)"}function l(d){window.location.hash=d}var o=zl(),u=c(o);{var g=d=>{var v=Ol(),p=c(v),k=c(p);L(()=>$(k,`Failed to load health data: ${s(i)??""}`)),x(d,v)},h=d=>{var v=ze(),p=Re(v);{var k=b=>{var T=Bl(),ie=Re(T),Q=c(ie),te=c(Q),ne=f(Q,2),le=c(ne),I=f(ie,2),re=c(I);re.__click=()=>l("/memory?tab=files");var Ne=c(re),je=c(Ne),et=f(re,2);et.__click=()=>l("/memory?tab=issues");var M=c(et),ue=c(M),ve=f(et,2);ve.__click=()=>l("/memory?tab=decisions");var Te=c(ve),fe=c(Te),we=f(ve,2);we.__click=()=>l("/memory?tab=issues&type=tech-debt");var Ae=c(we),xe=c(Ae),X=f(I,2);{var ce=$e=>{var tt=Ll(),Le=f(c(tt),2);At(Le,21,()=>s(n).fragileFiles,Cr,(de,De)=>{var Ce=Pl(),He=c(Ce),at=f(He,2),Ue=c(at),ft=c(Ue),zt=f(Ue,2),It=c(zt);L(A=>{Tt(He,`width: ${s(De).fragility*10}%; background: ${A??""}`),$(ft,s(De).path),$(It,`${s(De).fragility??""}/10`)},[()=>a(s(De).fragility)]),x(de,Ce)}),x($e,tt)};R(X,$e=>{s(n).fragileFiles.length>0&&$e(ce)})}var Ee=f(X,2);{var vt=$e=>{var tt=Ul(),Le=f(c(tt),2),de=f(c(Le));At(de,21,()=>s(n).recentSessions,Cr,(De,Ce)=>{var He=Hl(),at=c(He),Ue=c(at),ft=f(at),zt=c(ft),It=f(ft),A=c(It),q=f(It),W=c(q);{var ke=Oe=>{var me=Dl();x(Oe,me)},Je=Oe=>{var me=ze(),dt=Re(me);{var Mt=rt=>{var Ft=Ml();x(rt,Ft)},qt=rt=>{var Ft=ze(),hr=Re(Ft);{var ir=m=>{var Y=Fl();x(m,Y)},Ke=m=>{var Y=Nl();x(m,Y)};R(hr,m=>{s(Ce).success===0?m(ir):m(Ke,!1)},!0)}x(rt,Ft)};R(dt,rt=>{s(Ce).success===1?rt(Mt):rt(qt,!1)},!0)}x(Oe,me)};R(W,Oe=>{s(Ce).success===2?Oe(ke):Oe(Je,!1)})}L(()=>{$(Ue,s(Ce).session_number??s(Ce).id),$(zt,s(Ce).goal??"â"),$(A,s(Ce).outcome??"â")}),x(De,He)}),x($e,tt)};R(Ee,$e=>{s(n).recentSessions.length>0&&$e(vt)})}L(()=>{$(te,s(n).project.name),qe(ne,1,`badge badge-${s(n).project.mode??""}`,"svelte-bqunow"),$(le,s(n).project.mode),$(je,s(n).fileCount),Tt(M,`color: ${s(n).openIssues>0?"var(--warning)":"var(--accent-4)"}`),$(ue,s(n).openIssues),$(fe,s(n).activeDecisions),Tt(Ae,`color: ${s(n).techDebtScore>50?"var(--danger)":"var(--accent-4)"}`),$(xe,s(n).techDebtScore)}),x(b,T)},w=b=>{var T=Vl();x(b,T)};R(p,b=>{s(n)?b(k):b(w,!1)},!0)}x(d,v)};R(u,d=>{s(i)?d(g):d(h,!1)})}x(e,o),tn()}yn(["click"]);const Wl="modulepreload",Gl=function(e){return"/"+e},Ws={},Gs=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(g){return Promise.all(g.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=l(r.map(g=>{if(g=Gl(g),g in Ws)return;Ws[g]=!0;const h=g.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${d}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":Wl,h||(v.as="script"),v.crossOrigin="",v.href=g,u&&v.setAttribute("nonce",u),document.head.appendChild(v),h)return new Promise((p,k)=>{v.addEventListener("load",p),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};var Yl=S('<div class="card error-card svelte-ywtowa"><p> </p></div>'),Jl=S('<div class="empty svelte-ywtowa">No graph data available. Add files, decisions, and relationships to see the knowledge graph.</div>'),Kl=S("<span> </span>"),Ql=S('<div class="rel-item svelte-ywtowa"><span class="rel-type svelte-ywtowa"> </span> <span class="rel-arrow svelte-ywtowa">â</span> <span class="rel-label svelte-ywtowa"> </span></div>'),Xl=S('<div class="rel-group svelte-ywtowa"><h4 class="svelte-ywtowa">Incoming</h4> <!></div>'),Zl=S('<div class="rel-item svelte-ywtowa"><span class="rel-label svelte-ywtowa"> </span> <span class="rel-arrow svelte-ywtowa">â</span> <span class="rel-type svelte-ywtowa"> </span></div>'),eo=S('<div class="rel-group svelte-ywtowa"><h4 class="svelte-ywtowa">Outgoing</h4> <!></div>'),to=S('<div class="relationships-section svelte-ywtowa"><!> <!></div>'),ro=S('<p class="no-relationships svelte-ywtowa">No relationships recorded</p>'),no=S('<div class="detail-panel card svelte-ywtowa"><div class="detail-header svelte-ywtowa"><span class="detail-type svelte-ywtowa"> </span> <button class="btn">Close</button></div> <h3> </h3> <!> <!></div>'),so=S('<div class="legend-item svelte-ywtowa"><span class="legend-dot svelte-ywtowa"></span> <span> </span></div>'),ao=S('<div class="graph-page svelte-ywtowa"><!> <div class="filter-panel card svelte-ywtowa"><div class="filter-row svelte-ywtowa"><input type="text" class="search-input svelte-ywtowa" placeholder="Search nodes..."/></div> <div class="filter-row svelte-ywtowa"><label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Files</label> <label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Decisions</label> <label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Learnings</label> <label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Issues</label> <label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Sessions</label> <label class="filter-checkbox connect-orphans svelte-ywtowa" title="Connect isolated nodes to the main graph"><input type="checkbox" class="svelte-ywtowa"/> Connect orphans</label></div></div> <div class="graph-container svelte-ywtowa"><!></div> <!> <div class="legend card svelte-ywtowa"></div></div>');function io(e,t){en(t,!0);let r,n=O(null),i=O(Ge([])),a=O(null),l=O(null),o=O(""),u=O(Ge(new Set)),g=O(!0),h=O(!0),d=O(!0),v=O(!0),p=O(!0),k=O(!0);const w={file:"#06b6d4",decision:"#8b5cf6",learning:"#10b981",issue:"#ef4444",session:"#f59e0b"};function b(A){const[q,W]=A.split(":"),ke=parseInt(W,10),Je=s(i).filter(me=>me.target_type===q&&me.target_id===ke),Oe=s(i).filter(me=>me.source_type===q&&me.source_id===ke);return{incoming:Je,outgoing:Oe}}function T(){if(!s(o)||!s(n)){y(u,new Set,!0);return}const A=s(o).toLowerCase();y(u,new Set(s(n).nodes.filter(q=>q.label.toLowerCase().includes(A)).map(q=>q.id)),!0)}Zt(()=>{T()});let ie=!1;Zt(()=>{t.projectId&&Promise.all([Cl(t.projectId),$l(t.projectId)]).then(([A,q])=>{y(n,A,!0),y(i,q,!0),y(l,null),ie=!1,t.projectId,ne(A)}).catch(A=>{y(l,A.message,!0)})}),Zt(()=>{s(n)&&ie&&(s(g),s(h),s(d),s(v),s(p),s(k),te())});function Q(){const A=new Set;return s(g)&&A.add("file"),s(h)&&A.add("decision"),s(d)&&A.add("learning"),s(v)&&A.add("issue"),s(p)&&A.add("session"),A}async function te(){if(!r||!s(n))return;const A=await Gs(()=>import("./index-6PKoUFgn.js"),[]),q=Q();A.select(r).selectAll("circle").style("display",W=>q.has(W.type)?"block":"none"),A.select(r).selectAll("text").style("display",W=>q.has(W.type)?"block":"none"),A.select(r).selectAll("line").style("display",W=>{const ke=typeof W.source=="string"?W.source.split(":")[0]:W.source.type,Je=typeof W.target=="string"?W.target.split(":")[0]:W.target.type;return q.has(ke)&&q.has(Je)?"block":"none"})}async function ne(A){if(!r||!A||A.nodes.length===0)return;const q=await Gs(()=>import("./index-6PKoUFgn.js"),[]),W=s(k)?Je(A):A,ke=new Map;for(const m of W.edges){const Y=typeof m.source=="string"?m.source:m.source.id,E=typeof m.target=="string"?m.target:m.target.id;ke.set(Y,(ke.get(Y)||0)+1),ke.set(E,(ke.get(E)||0)+1)}function Je(m){const Y=[...m.edges],E=new Set;for(const j of Y){const U=typeof j.source=="string"?j.source:j.source.id,D=typeof j.target=="string"?j.target:j.target.id;E.add(U),E.add(D)}for(const j of m.nodes.filter(U=>!E.has(U.id))){const U=m.nodes.find(D=>D.type===j.type&&E.has(D.id))||m.nodes.find(D=>E.has(D.id));U&&(Y.push({source:j.id,target:U.id,type:"virtual",strength:1}),E.add(j.id))}return{nodes:m.nodes,edges:Y}}const Oe=m=>{const Y=ke.get(m)||0;return Math.min(35,6+Math.sqrt(Y)*2)},me=r.clientWidth,dt=r.clientHeight;q.select(r).selectAll("svg").remove();const Mt=q.select(r).append("svg").attr("width",me).attr("height",dt).attr("viewBox",[0,0,me,dt]),qt=Mt.append("g");Mt.call(q.zoom().scaleExtent([.1,4]).on("zoom",m=>{qt.attr("transform",m.transform)}));const rt=q.forceSimulation(W.nodes).force("link",q.forceLink(W.edges).id(m=>m.id).distance(m=>m.type==="virtual"?900:450).strength(m=>m.type==="virtual"?.02:.1)).force("charge",q.forceManyBody().strength(-600)).force("center",q.forceCenter(me/2,dt/2)).force("collision",q.forceCollide().radius(m=>Oe(m.id)+150).strength(1)).force("x",q.forceX(me/2).strength(.008)).force("y",q.forceY(dt/2).strength(.008)).stop(),Ft=Math.min(300,Math.ceil(Math.log(W.nodes.length)*50));for(let m=0;m<Ft;m++)rt.tick();const hr=qt.append("g").selectAll("line").data(W.edges).join("line").attr("stroke",m=>m.type==="virtual"?"#334155":"#4a90a4").attr("stroke-opacity",m=>m.type==="virtual"?.3:.6).attr("stroke-width",m=>m.type==="virtual"?1:Math.max(1,m.strength/3)).attr("stroke-dasharray",m=>m.type==="virtual"?"3,3":"none").attr("x1",m=>m.source.x).attr("y1",m=>m.source.y).attr("x2",m=>m.target.x).attr("y2",m=>m.target.y),ir=qt.append("g").selectAll("circle").data(W.nodes).join("circle").attr("r",m=>Oe(m.id)).attr("fill",m=>w[m.type]||"#64748b").attr("stroke",m=>s(u).has(m.id)?"#fff":"#0a0e1a").attr("stroke-width",m=>s(u).has(m.id)?3:1.5).attr("cursor","pointer").style("filter",m=>s(u).size>0&&!s(u).has(m.id)?"opacity(0.3)":"none").attr("cx",m=>m.x).attr("cy",m=>m.y).on("click",(m,Y)=>{y(a,Y,!0)}).call(q.drag().on("start",(m,Y)=>{m.active||rt.alphaTarget(.3).restart(),Y.fx=Y.x,Y.fy=Y.y}).on("drag",(m,Y)=>{Y.fx=m.x,Y.fy=m.y}).on("end",(m,Y)=>{m.active||rt.alphaTarget(0),Y.fx=null,Y.fy=null})),Ke=qt.append("g").selectAll("text").data(W.nodes).join("text").text(m=>m.label.length>30?m.label.substring(0,30)+"...":m.label).attr("font-size","14px").attr("font-weight","500").attr("fill","#e2e8f0").attr("dx",16).attr("dy",5).attr("x",m=>m.x).attr("y",m=>m.y);rt.on("tick",()=>{hr.attr("x1",m=>m.source.x).attr("y1",m=>m.source.y).attr("x2",m=>m.target.x).attr("y2",m=>m.target.y),ir.attr("cx",m=>m.x).attr("cy",m=>m.y),Ke.attr("x",m=>m.x).attr("y",m=>m.y)}),ie=!0,te()}var le=ao(),I=c(le);{var re=A=>{var q=Yl(),W=c(q),ke=c(W);L(()=>$(ke,`Failed to load graph: ${s(l)??""}`)),x(A,q)};R(I,A=>{s(l)&&A(re)})}var Ne=f(I,2),je=c(Ne),et=c(je),M=f(je,2),ue=c(M),ve=c(ue),Te=f(ve,2),fe=f(ue,2),we=c(fe),Ae=f(we,2),xe=f(fe,2),X=c(xe),ce=f(X,2),Ee=f(xe,2),vt=c(Ee),$e=f(vt,2),tt=f(Ee,2),Le=c(tt),de=f(Le,2),De=f(tt,2),Ce=c(De),He=f(Ne,2),at=c(He);{var Ue=A=>{var q=Jl();x(A,q)};R(at,A=>{(!s(n)||s(n).nodes.length===0)&&A(Ue)})}xl(He,A=>r=A,()=>r);var ft=f(He,2);{var zt=A=>{const q=qr(()=>b(s(a).id));var W=no(),ke=c(W),Je=c(ke),Oe=c(Je),me=f(Je,2);me.__click=()=>y(a,null);var dt=f(ke,2),Mt=c(dt),qt=f(dt,2);{var rt=Ke=>{var m=Kl(),Y=c(m);L(()=>{qe(m,1,`badge badge-${s(a).temperature??""}`,"svelte-ywtowa"),$(Y,s(a).temperature)}),x(Ke,m)};R(qt,Ke=>{s(a).temperature&&Ke(rt)})}var Ft=f(qt,2);{var hr=Ke=>{var m=to(),Y=c(m);{var E=D=>{var J=Xl(),_e=f(c(J),2);At(_e,17,()=>s(q).incoming,Cr,(Pe,ge)=>{var Ie=Ql(),ye=c(Ie),se=c(ye),Se=f(ye,4),K=c(Se);L(()=>{$(se,`${s(ge).source_type??""}:${s(ge).source_id??""}`),$(K,s(ge).relationship)}),x(Pe,Ie)}),x(D,J)};R(Y,D=>{s(q).incoming.length>0&&D(E)})}var j=f(Y,2);{var U=D=>{var J=eo(),_e=f(c(J),2);At(_e,17,()=>s(q).outgoing,Cr,(Pe,ge)=>{var Ie=Zl(),ye=c(Ie),se=c(ye),Se=f(ye,4),K=c(Se);L(()=>{$(se,s(ge).relationship),$(K,`${s(ge).target_type??""}:${s(ge).target_id??""}`)}),x(Pe,Ie)}),x(D,J)};R(j,D=>{s(q).outgoing.length>0&&D(U)})}x(Ke,m)},ir=Ke=>{var m=ro();x(Ke,m)};R(Ft,Ke=>{s(q).incoming.length>0||s(q).outgoing.length>0?Ke(hr):Ke(ir,!1)})}L(()=>{Tt(Je,`color: ${w[s(a).type]??""}`),$(Oe,s(a).type),$(Mt,s(a).label)}),x(A,W)};R(ft,A=>{s(a)&&A(zt)})}var It=f(ft,2);At(It,21,()=>Object.entries(w),Cr,(A,q)=>{var W=qr(()=>Ja(s(q),2));let ke=()=>s(W)[0],Je=()=>s(W)[1];var Oe=so(),me=c(Oe),dt=f(me,2),Mt=c(dt);L(()=>{Tt(me,`background: ${Je()??""}`),$(Mt,ke())}),x(A,Oe)}),L(()=>{Tt(Te,`background: ${w.file}`),Tt(Ae,`background: ${w.decision}`),Tt(ce,`background: ${w.learning}`),Tt($e,`background: ${w.issue}`),Tt(de,`background: ${w.session}`)}),bt(et,()=>s(o),A=>y(o,A)),Mr(ve,()=>s(g),A=>y(g,A)),Mr(we,()=>s(h),A=>y(h,A)),Mr(X,()=>s(d),A=>y(d,A)),Mr(vt,()=>s(v),A=>y(v,A)),Mr(Le,()=>s(p),A=>y(p,A)),Mr(Ce,()=>s(k),A=>y(k,A)),x(e,le),tn()}yn(["click"]);var lo=S('<button class="btn btn-primary svelte-mdsmin"> </button>'),oo=S('<div class="error-banner svelte-mdsmin"><span> </span> <button class="btn">Retry</button></div>'),co=S('<div class="loading-banner svelte-mdsmin">Loading memory data...</div>'),uo=S('<span class="badge badge-hot"> </span>'),vo=S('<span class="badge badge-archived">archived</span>'),fo=S('<div><div class="item-title mono svelte-mdsmin"> </div> <div class="item-meta svelte-mdsmin"><span> </span> <!> <!></div></div>'),_o=S('<div><div class="item-title svelte-mdsmin"> </div> <div class="item-meta svelte-mdsmin"><span> </span> <span class="text-muted svelte-mdsmin"> </span></div></div>'),po=S('<div><div class="item-title svelte-mdsmin"> </div> <div class="item-meta svelte-mdsmin"><span> </span> <span class="text-muted svelte-mdsmin"> </span></div></div>'),ho=S('<div><div class="item-title svelte-mdsmin"> </div> <div class="item-meta svelte-mdsmin"><span> </span> <span class="text-muted svelte-mdsmin"> </span></div></div>'),mo=S('<div class="detail-section svelte-mdsmin"><h4 class="svelte-mdsmin">Purpose</h4> <p class="svelte-mdsmin"> </p></div>'),go=S('<div class="detail-section svelte-mdsmin"><h4 class="svelte-mdsmin">Decision</h4> <p class="svelte-mdsmin"> </p></div>'),yo=S('<div class="detail-section svelte-mdsmin"><h4 class="svelte-mdsmin">Content</h4> <p class="svelte-mdsmin"> </p></div>'),bo=S('<div class="detail-section svelte-mdsmin"><h4 class="svelte-mdsmin">Description</h4> <p class="svelte-mdsmin"> </p></div>'),wo=S('<span class="text-muted svelte-mdsmin"> </span>'),xo=S('<div class="detail-actions svelte-mdsmin"><button class="btn btn-success svelte-mdsmin">Resolve Issue</button></div>'),Eo=S('<h3> </h3> <div class="detail-type svelte-mdsmin"> </div> <!> <!> <!> <!> <div class="detail-meta svelte-mdsmin"><!></div> <!>',1),ko=S('<div class="empty svelte-mdsmin">Select an item to view details</div>'),So=S('<div class="error-message svelte-mdsmin"> </div>'),To=S('<form><div class="form-group svelte-mdsmin"><label for="issue-title" class="svelte-mdsmin">Title *</label> <input id="issue-title" type="text" required class="svelte-mdsmin"/></div> <div class="form-group svelte-mdsmin"><label for="issue-desc" class="svelte-mdsmin">Description</label> <textarea id="issue-desc" rows="3" class="svelte-mdsmin"></textarea></div> <div class="form-row svelte-mdsmin"><div class="form-group svelte-mdsmin"><label for="issue-type" class="svelte-mdsmin">Type</label> <select id="issue-type" class="svelte-mdsmin"><option>Bug</option><option>Tech Debt</option><option>Enhancement</option><option>Question</option><option>Potential</option></select></div> <div class="form-group svelte-mdsmin"><label for="issue-severity" class="svelte-mdsmin">Severity (1-10)</label> <input id="issue-severity" type="number" min="1" max="10" class="svelte-mdsmin"/></div></div> <div class="form-group svelte-mdsmin"><label for="issue-workaround" class="svelte-mdsmin">Workaround</label> <textarea id="issue-workaround" rows="2" class="svelte-mdsmin"></textarea></div> <div class="modal-footer svelte-mdsmin"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary svelte-mdsmin"> </button></div></form>'),Ao=S('<form><div class="form-group svelte-mdsmin"><label for="decision-title" class="svelte-mdsmin">Title *</label> <input id="decision-title" type="text" required class="svelte-mdsmin"/></div> <div class="form-group svelte-mdsmin"><label for="decision-text" class="svelte-mdsmin">Decision *</label> <textarea id="decision-text" rows="3" required class="svelte-mdsmin"></textarea></div> <div class="form-group svelte-mdsmin"><label for="decision-reasoning" class="svelte-mdsmin">Reasoning</label> <textarea id="decision-reasoning" rows="3" class="svelte-mdsmin"></textarea></div> <div class="modal-footer svelte-mdsmin"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary svelte-mdsmin"> </button></div></form>'),$o=S('<form><div class="form-group svelte-mdsmin"><label for="learning-title" class="svelte-mdsmin">Title *</label> <input id="learning-title" type="text" required class="svelte-mdsmin"/></div> <div class="form-group svelte-mdsmin"><label for="learning-content" class="svelte-mdsmin">Content *</label> <textarea id="learning-content" rows="4" required class="svelte-mdsmin"></textarea></div> <div class="form-group svelte-mdsmin"><label for="learning-category" class="svelte-mdsmin">Category</label> <select id="learning-category" class="svelte-mdsmin"><option>Pattern</option><option>Gotcha</option><option>Preference</option><option>Convention</option><option>Architecture</option></select></div> <div class="form-group svelte-mdsmin"><label for="learning-context" class="svelte-mdsmin">Context</label> <textarea id="learning-context" rows="2" class="svelte-mdsmin"></textarea></div> <div class="modal-footer svelte-mdsmin"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary svelte-mdsmin"> </button></div></form>'),Co=S('<div class="modal-overlay svelte-mdsmin"><div class="modal card svelte-mdsmin"><div class="modal-header svelte-mdsmin"><h3 class="svelte-mdsmin"> </h3> <button class="btn">Ã</button></div> <!> <!></div></div>'),Io=S('<div class="error-message svelte-mdsmin"> </div>'),qo=S('<div class="modal-overlay svelte-mdsmin"><div class="modal card svelte-mdsmin"><div class="modal-header svelte-mdsmin"><h3 class="svelte-mdsmin">Resolve Issue</h3> <button class="btn">Ã</button></div> <!> <p class="modal-context svelte-mdsmin">Resolving: <strong> </strong></p> <form><div class="form-group svelte-mdsmin"><label for="resolution" class="svelte-mdsmin">Resolution *</label> <textarea id="resolution" rows="4" required placeholder="How was this issue resolved?" class="svelte-mdsmin"></textarea></div> <div class="modal-footer svelte-mdsmin"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-success svelte-mdsmin"> </button></div></form></div></div>'),Ro=S('<div class="memory-page svelte-mdsmin"><div class="toolbar svelte-mdsmin"><div class="tabs svelte-mdsmin"><button> </button> <button> </button> <button> </button> <button> </button></div> <!> <input class="search-input svelte-mdsmin" type="text" placeholder="Search memories..."/></div> <!> <!> <div class="content-layout svelte-mdsmin"><div class="list-panel svelte-mdsmin"><!></div> <div class="detail-panel card svelte-mdsmin"><!></div></div> <!> <!></div>');function jo(e,t){en(t,!0);let r=qr(()=>t.projectId),n=O(!1),i=O(null),a=O(!1),l=O(!1),o=O(!1),u=O(null),g=O(Ge({title:"",severity:5,type:"bug"})),h=O(Ge({title:"",decision:""})),d=O(Ge({title:"",content:"",category:"pattern"})),v=O(""),p=O("files"),k=O(null),w=O("");Zt(()=>{if(t.routeParams){const E=t.routeParams.get("tab");(E==="files"||E==="decisions"||E==="learnings"||E==="issues")&&y(p,E,!0),y(k,t.routeParams.get("type")??null,!0)}});let b=O(""),T=null;function ie(E){const j=E.target.value;y(b,j,!0),T&&clearTimeout(T),T=setTimeout(()=>{y(w,j,!0)},300)}let Q=O(Ge([])),te=O(Ge([])),ne=O(Ge([])),le=O(Ge([])),I=O(null);Zt(()=>{s(r)&&typeof s(r)=="number"&&(y(n,!0),y(i,null),Promise.all([Hs(s(r)),Us(s(r)),Vs(s(r)),Bs(s(r))]).then(([E,j,U,D])=>{y(Q,E,!0),y(te,j,!0),y(ne,U,!0),y(le,D,!0)}).catch(E=>{y(i,E instanceof Error?E.message:"Failed to load memory data",!0)}).finally(()=>{y(n,!1)}))});function re(E,j=!1){let U=E;if(j&&s(k)&&(U=U.filter(D=>D.type===s(k))),s(w)){const D=s(w).toLowerCase();U=U.filter(J=>`${J.title??""} ${J.path??""} ${J.content??""} ${J.purpose??""}`.toLowerCase().includes(D))}return U}function Ne(E){return E||"cold"}function je(){!s(r)||typeof s(r)!="number"||Promise.all([Hs(s(r)),Us(s(r)),Vs(s(r)),Bs(s(r))]).then(([E,j,U,D])=>{y(Q,E,!0),y(te,j,!0),y(ne,U,!0),y(le,D,!0)}).catch(()=>{})}async function et(){if(s(g).title.trim()){y(o,!0),y(u,null);try{await Il(s(r),s(g)),y(a,!1),y(g,{title:"",severity:5,type:"bug"},!0),je()}catch(E){y(u,E instanceof Error?E.message:"Failed to create issue",!0)}finally{y(o,!1)}}}async function M(){if(!(!s(h).title.trim()||!s(h).decision.trim())){y(o,!0),y(u,null);try{await Rl(s(r),s(h)),y(a,!1),y(h,{title:"",decision:""},!0),je()}catch(E){y(u,E instanceof Error?E.message:"Failed to create decision",!0)}finally{y(o,!1)}}}async function ue(){if(!(!s(d).title.trim()||!s(d).content.trim())){y(o,!0),y(u,null);try{await jl(s(r),s(d)),y(a,!1),y(d,{title:"",content:"",category:"pattern"},!0),je()}catch(E){y(u,E instanceof Error?E.message:"Failed to create learning",!0)}finally{y(o,!1)}}}async function ve(){if(!(!s(I)||!s(v).trim())){y(o,!0),y(u,null);try{await ql(s(r),s(I).id,s(v)),y(l,!1),y(v,""),y(I,null),je()}catch(E){y(u,E instanceof Error?E.message:"Failed to resolve issue",!0)}finally{y(o,!1)}}}function Te(){y(u,null),y(a,!0)}function fe(){y(a,!1),y(u,null)}function we(){y(v,""),y(u,null),y(l,!0)}var Ae=Ro(),xe=c(Ae),X=c(xe),ce=c(X);ce.__click=()=>y(p,"files");let Ee;var vt=c(ce),$e=f(ce,2);$e.__click=()=>y(p,"decisions");let tt;var Le=c($e),de=f($e,2);de.__click=()=>y(p,"learnings");let De;var Ce=c(de),He=f(de,2);He.__click=()=>y(p,"issues");let at;var Ue=c(He),ft=f(X,2);{var zt=E=>{var j=lo();j.__click=Te;var U=c(j);L(()=>$(U,`+ Add ${s(p)==="decisions"?"Decision":s(p)==="learnings"?"Learning":"Issue"}`)),x(E,j)};R(ft,E=>{s(p)!=="files"&&E(zt)})}var It=f(ft,2);It.__input=ie;var A=f(xe,2);{var q=E=>{var j=oo(),U=c(j),D=c(U),J=f(U,2);J.__click=je,L(()=>$(D,`Failed to load data: ${s(i)??""}`)),x(E,j)};R(A,E=>{s(i)&&E(q)})}var W=f(A,2);{var ke=E=>{var j=co();x(E,j)};R(W,E=>{s(n)&&E(ke)})}var Je=f(W,2),Oe=c(Je),me=c(Oe);{var dt=E=>{var j=ze(),U=Re(j);At(U,17,()=>re(s(Q)),D=>D.id,(D,J)=>{var _e=fo();let Pe;_e.__click=()=>y(I,{...s(J),type:"file"},!0);var ge=c(_e),Ie=c(ge),ye=f(ge,2),se=c(ye),Se=c(se),K=f(se,2);{var pe=oe=>{var F=uo(),G=c(F);L(()=>$(G,`fragile:${s(J).fragility??""}`)),x(oe,F)};R(K,oe=>{s(J).fragility>=7&&oe(pe)})}var ae=f(K,2);{var be=oe=>{var F=vo();x(oe,F)};R(ae,oe=>{s(J).archived_at&&oe(be)})}L(oe=>{var F,G;Pe=qe(_e,1,"list-item svelte-mdsmin",null,Pe,{selected:((F=s(I))==null?void 0:F.id)===s(J).id&&((G=s(I))==null?void 0:G.type)==="file"}),$(Ie,s(J).path),qe(se,1,`badge badge-${oe??""}`,"svelte-mdsmin"),$(Se,s(J).temperature??"cold")},[()=>Ne(s(J).temperature)]),x(D,_e)}),x(E,j)},Mt=E=>{var j=ze(),U=Re(j);{var D=_e=>{var Pe=ze(),ge=Re(Pe);At(ge,17,()=>re(s(te)),Ie=>Ie.id,(Ie,ye)=>{var se=_o();let Se;se.__click=()=>y(I,{...s(ye),type:"decision"},!0);var K=c(se),pe=c(K),ae=f(K,2),be=c(ae),oe=c(be),F=f(be,2),G=c(F);L(P=>{var V,Z;Se=qe(se,1,"list-item svelte-mdsmin",null,Se,{selected:((V=s(I))==null?void 0:V.id)===s(ye).id&&((Z=s(I))==null?void 0:Z.type)==="decision"}),$(pe,s(ye).title),qe(be,1,`badge badge-${P??""}`,"svelte-mdsmin"),$(oe,s(ye).temperature??"cold"),$(G,s(ye).status)},[()=>Ne(s(ye).temperature)]),x(Ie,se)}),x(_e,Pe)},J=_e=>{var Pe=ze(),ge=Re(Pe);{var Ie=se=>{var Se=ze(),K=Re(Se);At(K,17,()=>re(s(ne)),pe=>pe.id,(pe,ae)=>{var be=po();let oe;be.__click=()=>y(I,{...s(ae),type:"learning"},!0);var F=c(be),G=c(F),P=f(F,2),V=c(P),Z=c(V),he=f(V,2),_t=c(he);L(pt=>{var ht,Rt;oe=qe(be,1,"list-item svelte-mdsmin",null,oe,{selected:((ht=s(I))==null?void 0:ht.id)===s(ae).id&&((Rt=s(I))==null?void 0:Rt.type)==="learning"}),$(G,s(ae).title),qe(V,1,`badge badge-${pt??""}`,"svelte-mdsmin"),$(Z,s(ae).temperature??"cold"),$(_t,s(ae).category)},[()=>Ne(s(ae).temperature)]),x(pe,be)}),x(se,Se)},ye=se=>{var Se=ze(),K=Re(Se);{var pe=ae=>{var be=ze(),oe=Re(be);At(oe,17,()=>re(s(le),!0),F=>F.id,(F,G)=>{var P=ho();let V;P.__click=()=>y(I,{...s(G),type:"issue"},!0);var Z=c(P),he=c(Z),_t=f(Z,2),pt=c(_t);let ht;var Rt=c(pt),Wt=f(pt,2),Gt=c(Wt);L(()=>{var Qe,lr;V=qe(P,1,"list-item svelte-mdsmin",null,V,{selected:((Qe=s(I))==null?void 0:Qe.id)===s(G).id&&((lr=s(I))==null?void 0:lr.type)==="issue"}),$(he,s(G).title),ht=qe(pt,1,"badge",null,ht,{"badge-hot":s(G).severity>=7,"badge-warm":s(G).severity>=4&&s(G).severity<7,"badge-cold":s(G).severity<4}),$(Rt,`sev:${s(G).severity??""}`),$(Gt,s(G).status)}),x(F,P)}),x(ae,be)};R(K,ae=>{s(p)==="issues"&&ae(pe)},!0)}x(se,Se)};R(ge,se=>{s(p)==="learnings"?se(Ie):se(ye,!1)},!0)}x(_e,Pe)};R(U,_e=>{s(p)==="decisions"?_e(D):_e(J,!1)},!0)}x(E,j)};R(me,E=>{s(p)==="files"?E(dt):E(Mt,!1)})}var qt=f(Oe,2),rt=c(qt);{var Ft=E=>{var j=Eo(),U=Re(j),D=c(U),J=f(U,2),_e=c(J),Pe=f(J,2);{var ge=P=>{var V=mo(),Z=f(c(V),2),he=c(Z);L(()=>$(he,s(I).purpose)),x(P,V)};R(Pe,P=>{s(I).purpose&&P(ge)})}var Ie=f(Pe,2);{var ye=P=>{var V=go(),Z=f(c(V),2),he=c(Z);L(()=>$(he,s(I).decision)),x(P,V)};R(Ie,P=>{s(I).decision&&P(ye)})}var se=f(Ie,2);{var Se=P=>{var V=yo(),Z=f(c(V),2),he=c(Z);L(()=>$(he,s(I).content)),x(P,V)};R(se,P=>{s(I).content&&P(Se)})}var K=f(se,2);{var pe=P=>{var V=bo(),Z=f(c(V),2),he=c(Z);L(()=>$(he,s(I).description)),x(P,V)};R(K,P=>{s(I).description&&P(pe)})}var ae=f(K,2),be=c(ae);{var oe=P=>{var V=wo(),Z=c(V);L(he=>$(Z,`Created: ${he??""}`),[()=>new Date(s(I).created_at).toLocaleDateString()]),x(P,V)};R(be,P=>{s(I).created_at&&P(oe)})}var F=f(ae,2);{var G=P=>{var V=xo(),Z=c(V);Z.__click=we,x(P,V)};R(F,P=>{s(I).type==="issue"&&s(I).status==="open"&&P(G)})}L(()=>{$(D,s(I).title||s(I).path),$(_e,s(I).type)}),x(E,j)},hr=E=>{var j=ko();x(E,j)};R(rt,E=>{s(I)?E(Ft):E(hr,!1)})}var ir=f(Je,2);{var Ke=E=>{var j=Co();j.__click=fe;var U=c(j);U.__click=K=>K.stopPropagation();var D=c(U),J=c(D),_e=c(J),Pe=f(J,2);Pe.__click=fe;var ge=f(D,2);{var Ie=K=>{var pe=So(),ae=c(pe);L(()=>$(ae,s(u))),x(K,pe)};R(ge,K=>{s(u)&&K(Ie)})}var ye=f(ge,2);{var se=K=>{var pe=To(),ae=c(pe),be=f(c(ae),2),oe=f(ae,2),F=f(c(oe),2),G=f(oe,2),P=c(G),V=f(c(P),2),Z=c(V);Z.value=Z.__value="bug";var he=f(Z);he.value=he.__value="tech-debt";var _t=f(he);_t.value=_t.__value="enhancement";var pt=f(_t);pt.value=pt.__value="question";var ht=f(pt);ht.value=ht.__value="potential";var Rt=f(P,2),Wt=f(c(Rt),2),Gt=f(G,2),Qe=f(c(Gt),2),lr=f(Gt,2),Pr=c(lr);Pr.__click=fe;var Lr=f(Pr,2),bn=c(Lr);L(()=>{Lr.disabled=s(o),$(bn,s(o)?"Creating...":"Create Issue")}),xn("submit",pe,it=>{it.preventDefault(),et()}),bt(be,()=>s(g).title,it=>s(g).title=it),bt(F,()=>s(g).description,it=>s(g).description=it),as(V,()=>s(g).type,it=>s(g).type=it),bt(Wt,()=>s(g).severity,it=>s(g).severity=it),bt(Qe,()=>s(g).workaround,it=>s(g).workaround=it),x(K,pe)},Se=K=>{var pe=ze(),ae=Re(pe);{var be=F=>{var G=Ao(),P=c(G),V=f(c(P),2),Z=f(P,2),he=f(c(Z),2),_t=f(Z,2),pt=f(c(_t),2),ht=f(_t,2),Rt=c(ht);Rt.__click=fe;var Wt=f(Rt,2),Gt=c(Wt);L(()=>{Wt.disabled=s(o),$(Gt,s(o)?"Creating...":"Create Decision")}),xn("submit",G,Qe=>{Qe.preventDefault(),M()}),bt(V,()=>s(h).title,Qe=>s(h).title=Qe),bt(he,()=>s(h).decision,Qe=>s(h).decision=Qe),bt(pt,()=>s(h).reasoning,Qe=>s(h).reasoning=Qe),x(F,G)},oe=F=>{var G=ze(),P=Re(G);{var V=Z=>{var he=$o(),_t=c(he),pt=f(c(_t),2),ht=f(_t,2),Rt=f(c(ht),2),Wt=f(ht,2),Gt=f(c(Wt),2),Qe=c(Gt);Qe.value=Qe.__value="pattern";var lr=f(Qe);lr.value=lr.__value="gotcha";var Pr=f(lr);Pr.value=Pr.__value="preference";var Lr=f(Pr);Lr.value=Lr.__value="convention";var bn=f(Lr);bn.value=bn.__value="architecture";var it=f(Wt,2),Fa=f(c(it),2),Na=f(it,2),ks=c(Na);ks.__click=fe;var Ss=f(ks,2),Ha=c(Ss);L(()=>{Ss.disabled=s(o),$(Ha,s(o)?"Creating...":"Create Learning")}),xn("submit",he,Yt=>{Yt.preventDefault(),ue()}),bt(pt,()=>s(d).title,Yt=>s(d).title=Yt),bt(Rt,()=>s(d).content,Yt=>s(d).content=Yt),as(Gt,()=>s(d).category,Yt=>s(d).category=Yt),bt(Fa,()=>s(d).context,Yt=>s(d).context=Yt),x(Z,he)};R(P,Z=>{s(p)==="learnings"&&Z(V)},!0)}x(F,G)};R(ae,F=>{s(p)==="decisions"?F(be):F(oe,!1)},!0)}x(K,pe)};R(ye,K=>{s(p)==="issues"?K(se):K(Se,!1)})}L(()=>$(_e,`Add ${s(p)==="decisions"?"Decision":s(p)==="learnings"?"Learning":"Issue"}`)),x(E,j)};R(ir,E=>{s(a)&&E(Ke)})}var m=f(ir,2);{var Y=E=>{var j=qo();j.__click=()=>y(l,!1);var U=c(j);U.__click=F=>F.stopPropagation();var D=c(U),J=f(c(D),2);J.__click=()=>y(l,!1);var _e=f(D,2);{var Pe=F=>{var G=Io(),P=c(G);L(()=>$(P,s(u))),x(F,G)};R(_e,F=>{s(u)&&F(Pe)})}var ge=f(_e,2),Ie=f(c(ge)),ye=c(Ie),se=f(ge,2),Se=c(se),K=f(c(Se),2),pe=f(Se,2),ae=c(pe);ae.__click=()=>y(l,!1);var be=f(ae,2),oe=c(be);L(()=>{$(ye,s(I).title),be.disabled=s(o),$(oe,s(o)?"Resolving...":"Mark Resolved")}),xn("submit",se,F=>{F.preventDefault(),ve()}),bt(K,()=>s(v),F=>y(v,F)),x(E,j)};R(m,E=>{s(l)&&s(I)&&E(Y)})}L(()=>{Ee=qe(ce,1,"svelte-mdsmin",null,Ee,{active:s(p)==="files"}),$(vt,`Files (${s(Q).length??""})`),tt=qe($e,1,"svelte-mdsmin",null,tt,{active:s(p)==="decisions"}),$(Le,`Decisions (${s(te).length??""})`),De=qe(de,1,"svelte-mdsmin",null,De,{active:s(p)==="learnings"}),$(Ce,`Learnings (${s(ne).length??""})`),at=qe(He,1,"svelte-mdsmin",null,at,{active:s(p)==="issues"}),$(Ue,`Issues (${s(le).length??""})`),bl(It,s(b))}),x(e,Ae),tn()}yn(["click","input"]);var Oo=S('<div class="empty card svelte-l9yiin">No sessions recorded yet.</div>'),Po=S('<div class="line svelte-l9yiin"></div>'),Lo=S("<span> </span>"),Do=S('<span class="badge badge-cold">active</span>'),Mo=S('<div class="detail-row svelte-l9yiin"><span class="detail-label svelte-l9yiin">Outcome</span> <span> </span></div>'),Fo=S('<span class="mono file-tag svelte-l9yiin"> </span>'),No=S('<div class="detail-row svelte-l9yiin"><span class="detail-label svelte-l9yiin">Files Touched</span> <div class="file-list svelte-l9yiin"></div></div>'),Ho=S('<div class="session-details svelte-l9yiin"><!> <!></div>'),Uo=S('<div class="timeline-item svelte-l9yiin"><div class="connector svelte-l9yiin"><div class="dot svelte-l9yiin"></div> <!></div> <div><div class="session-header svelte-l9yiin"><span class="session-number mono svelte-l9yiin"> </span> <span class="session-date svelte-l9yiin"> </span> <!></div> <div class="session-goal svelte-l9yiin"> </div> <!></div></div>'),Bo=S('<div class="timeline svelte-l9yiin"></div>'),Vo=S('<div class="timeline-page svelte-l9yiin"><h2 class="svelte-l9yiin">Session Timeline</h2> <!></div>');function zo(e,t){en(t,!0);let r=qr(()=>t.projectId),n=O(Ge([])),i=O(null);Zt(()=>{s(r)&&Al(s(r)).then(v=>y(n,v,!0)).catch(()=>{})});function a(v){return v===2?"var(--accent-4)":v===1?"var(--warning)":v===0?"var(--danger)":"var(--accent-1)"}function l(v){return new Date(v).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function o(v){if(!v.files_touched)return[];try{return JSON.parse(v.files_touched)}catch{return[]}}var u=Vo(),g=f(c(u),2);{var h=v=>{var p=Oo();x(v,p)},d=v=>{var p=Bo();At(p,23,()=>s(n),k=>k.id,(k,w,b)=>{var T=Uo();T.__click=()=>y(i,s(i)===s(w).id?null:s(w).id,!0);var ie=c(T),Q=c(ie),te=f(Q,2);{var ne=X=>{var ce=Po();x(X,ce)};R(te,X=>{s(b)<s(n).length-1&&X(ne)})}var le=f(ie,2);let I;var re=c(le),Ne=c(re),je=c(Ne),et=f(Ne,2),M=c(et),ue=f(et,2);{var ve=X=>{var ce=Lo(),Ee=c(ce);L((vt,$e)=>{qe(ce,1,`badge badge-${s(w).success===2?"hot":s(w).success===1?"warm":"cold"}`),Tt(ce,`background: ${vt??""}20; color: ${$e??""}`),$(Ee,s(w).success===2?"success":s(w).success===1?"partial":s(w).success===0?"failed":"active")},[()=>a(s(w).success),()=>a(s(w).success)]),x(X,ce)},Te=X=>{var ce=Do();x(X,ce)};R(ue,X=>{s(w).ended_at?X(ve):X(Te,!1)})}var fe=f(re,2),we=c(fe),Ae=f(fe,2);{var xe=X=>{var ce=Ho(),Ee=c(ce);{var vt=Le=>{var de=Mo(),De=f(c(de),2),Ce=c(De);L(()=>$(Ce,s(w).outcome)),x(Le,de)};R(Ee,Le=>{s(w).outcome&&Le(vt)})}var $e=f(Ee,2);{var tt=Le=>{var de=No(),De=f(c(de),2);At(De,21,()=>o(s(w)),Cr,(Ce,He)=>{var at=Fo(),Ue=c(at);L(()=>$(Ue,s(He))),x(Ce,at)}),x(Le,de)};R($e,Le=>{o(s(w)).length>0&&Le(tt)})}x(X,ce)};R(Ae,X=>{s(i)===s(w).id&&X(xe)})}L((X,ce,Ee)=>{Tt(Q,`background: ${X??""}; box-shadow: 0 0 8px ${ce??""}40`),I=qe(le,1,"timeline-content card svelte-l9yiin",null,I,{expanded:s(i)===s(w).id}),$(je,`#${s(w).session_number??s(w).id??""}`),$(M,Ee),$(we,s(w).goal??"No goal set")},[()=>a(s(w).success),()=>a(s(w).success),()=>l(s(w).started_at)]),x(k,T)}),x(v,p)};R(g,v=>{s(n).length===0?v(h):v(d,!1)})}x(e,u),tn()}yn(["click"]);var Wo=S("<option> </option>"),Go=S('<select class="svelte-1n46o8q"></select>'),Yo=S('<div class="error-state svelte-1n46o8q"><p> </p></div>'),Jo=S('<div class="empty-state svelte-1n46o8q"><p>No projects found. Add a project with <code class="svelte-1n46o8q">muninn file add</code> to get started.</p></div>'),Ko=S('<nav><div class="nav-brand svelte-1n46o8q"><span class="logo svelte-1n46o8q">&#9670;</span> <span class="brand-text svelte-1n46o8q">Muninn</span></div> <div class="nav-links svelte-1n46o8q"><a href="#/">Health</a> <a href="#/graph">Graph</a> <a href="#/memory">Memory</a> <a href="#/timeline">Timeline</a></div> <div class="nav-project svelte-1n46o8q"><!></div></nav> <main class="svelte-1n46o8q"><!></main>',1);function Qo(e,t){en(t,!0);function r(M){const ue=M.slice(1)||"/",[ve,Te]=ue.split("?");return{path:ve,params:new URLSearchParams(Te||"")}}let n=O(Ge(r(window.location.hash))),i=O(Ge([])),a=O(null);Zt(()=>{const M=()=>{y(n,r(window.location.hash),!0)};return window.addEventListener("hashchange",M),()=>window.removeEventListener("hashchange",M)});let l=O(null);Zt(()=>{Sl().then(M=>{y(i,M,!0),M.length>0&&!s(a)&&y(a,M[0].id,!0)}).catch(M=>{y(l,M instanceof Error?M.message:String(M),!0)})});function o(M){window.location.hash=M}let u=qr(()=>s(n).path),g=qr(()=>s(n).params);var h=Ko(),d=Re(h),v=f(c(d),2),p=c(v);p.__click=()=>o("/");let k;var w=f(p,2);w.__click=()=>o("/graph");let b;var T=f(w,2);T.__click=()=>o("/memory");let ie;var Q=f(T,2);Q.__click=()=>o("/timeline");let te;var ne=f(v,2),le=c(ne);{var I=M=>{var ue=Go();At(ue,21,()=>s(i),Cr,(ve,Te)=>{var fe=Wo(),we=c(fe),Ae={};L(()=>{$(we,s(Te).name),Ae!==(Ae=s(Te).id)&&(fe.value=(fe.__value=s(Te).id)??"")}),x(ve,fe)}),as(ue,()=>s(a),ve=>y(a,ve)),x(M,ue)};R(le,M=>{s(i).length>0&&M(I)})}var re=f(d,2),Ne=c(re);{var je=M=>{var ue=Yo(),ve=c(ue),Te=c(ve);L(()=>$(Te,`Error loading projects: ${s(l)??""}`)),x(M,ue)},et=M=>{var ue=ze(),ve=Re(ue);{var Te=we=>{var Ae=ze(),xe=Re(Ae);{var X=Ee=>{zs(Ee,{get projectId(){return s(a)}})},ce=Ee=>{var vt=ze(),$e=Re(vt);{var tt=de=>{io(de,{get projectId(){return s(a)}})},Le=de=>{var De=ze(),Ce=Re(De);{var He=Ue=>{jo(Ue,{get projectId(){return s(a)},get routeParams(){return s(g)}})},at=Ue=>{var ft=ze(),zt=Re(ft);{var It=q=>{zo(q,{get projectId(){return s(a)}})},A=q=>{zs(q,{get projectId(){return s(a)}})};R(zt,q=>{s(u)==="/timeline"?q(It):q(A,!1)},!0)}x(Ue,ft)};R(Ce,Ue=>{s(u)==="/memory"?Ue(He):Ue(at,!1)},!0)}x(de,De)};R($e,de=>{s(u)==="/graph"?de(tt):de(Le,!1)},!0)}x(Ee,vt)};R(xe,Ee=>{s(u)==="/"?Ee(X):Ee(ce,!1)})}x(we,Ae)},fe=we=>{var Ae=Jo();x(we,Ae)};R(ve,we=>{s(a)?we(Te):we(fe,!1)},!0)}x(M,ue)};R(Ne,M=>{s(l)?M(je):M(et,!1)})}L(()=>{k=qe(p,1,"",null,k,{active:s(u)==="/"}),b=qe(w,1,"",null,b,{active:s(u)==="/graph"}),ie=qe(T,1,"",null,ie,{active:s(u)==="/memory"}),te=qe(Q,1,"",null,te,{active:s(u)==="/timeline"})}),x(e,h),tn()}yn(["click"]);const Ma=document.getElementById("app");if(!Ma)throw new Error("Missing #app element");ol(Qo,{target:Ma});
