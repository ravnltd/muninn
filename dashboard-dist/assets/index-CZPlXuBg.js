var Oi=Object.defineProperty;var gs=e=>{throw TypeError(e)};var Pi=(e,t,r)=>t in e?Oi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Tt=(e,t,r)=>Pi(e,typeof t!="symbol"?t+"":t,r),Rn=(e,t,r)=>t.has(e)||gs("Cannot "+r);var h=(e,t,r)=>(Rn(e,t,"read from private field"),r?r.call(e):t.get(e)),K=(e,t,r)=>t.has(e)?gs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Y=(e,t,r,s)=>(Rn(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Me=(e,t,r)=>(Rn(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=r(a);fetch(a.href,n)}})();var $s,Ms;const ys=(Ms=($s=globalThis.process)==null?void 0:$s.env)==null?void 0:Ms.NODE_ENV,C=ys&&!ys.toLowerCase().startsWith("prod");var Zn=Array.isArray,Ri=Array.prototype.indexOf,Tn=Array.from,xr=Object.defineProperty,qr=Object.getOwnPropertyDescriptor,Di=Object.prototype,Fi=Array.prototype,Li=Object.getPrototypeOf,bs=Object.isExtensible;function Ni(e){for(var t=0;t<e.length;t++)e[t]()}function Hs(){var e,t,r=new Promise((s,a)=>{e=s,t=a});return{promise:r,resolve:e,reject:t}}function $i(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const r=[];for(const s of e)if(r.push(s),r.length===t)break;return r}const Ve=2,pn=4,An=8,Us=1<<24,Gt=16,Yt=32,Sr=64,es=128,Et=512,Je=1024,Xe=2048,Jt=4096,pt=8192,nr=16384,ts=32768,$r=65536,mn=1<<17,Vs=1<<18,Vr=1<<19,Mi=1<<20,Ut=1<<25,lr=32768,$n=1<<21,Cn=1<<22,sr=1<<23,Or=Symbol("$state"),zs=Symbol("proxy path"),jr=new class extends Error{constructor(){super(...arguments);Tt(this,"name","StaleReactionError");Tt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Bi(){if(C){const e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function ws(){if(C){const e=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/bind_invalid_checkbox_value")}function Hi(){if(C){const e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function Ui(e){if(C){const t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Vi(){if(C){const e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function zi(e){if(C){const t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function Wi(){if(C){const e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Gi(e){if(C){const t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Yi(){if(C){const e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ji(){if(C){const e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ki(){if(C){const e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Qi(){if(C){const e=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Xi=1,Zi=2,Ws=4,ea=8,ta=16,ra=1,na=2,Be=Symbol(),sa=Symbol("filename");var rs="font-weight: bold",ns="font-weight: normal";function ia(){C?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",rs,ns):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Dn(e){C?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,rs,ns):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function aa(){C?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",rs,ns):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Gs(e){return e===this.v}function la(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ys(e){return!la(e,this.v)}let oa=!1;function Pt(e,t){return e.label=t,Js(e.v,t),e}function Js(e,t){var r;return(r=e==null?void 0:e[zs])==null||r.call(e,t),e}function ca(e){const t=new Error,r=va();return r.length===0?null:(r.unshift(`
`),xr(t,"stack",{value:r.join(`
`)}),xr(t,"name",{value:e}),t)}function va(){const e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const t=new Error().stack;if(Error.stackTraceLimit=e,!t)return[];const r=t.split(`
`),s=[];for(let a=0;a<r.length;a++){const n=r[a],l=n.replaceAll("\\","/");if(n.trim()!=="Error"){if(n.includes("validate_each_keys"))return[];l.includes("svelte/src/internal")||l.includes("node_modules/.vite")||s.push(n)}}return s}let Ye=null;function Mr(e){Ye=e}let tn=null;function gn(e){tn=e}let ln=null;function xs(e){ln=e}function zr(e,t=!1,r){Ye={p:Ye,i:!1,c:null,e:null,s:e,x:null,l:null},C&&(Ye.function=r,ln=r)}function Wr(e){var t=Ye,r=t.e;if(r!==null){t.e=null;for(var s of r)di(s)}return t.i=!0,Ye=t.p,C&&(ln=(Ye==null?void 0:Ye.function)??null),{}}function Ks(){return!0}let vr=[];function Qs(){var e=vr;vr=[],Ni(e)}function Gr(e){if(vr.length===0&&!Qr){var t=vr;queueMicrotask(()=>{t===vr&&Qs()})}vr.push(e)}function ua(){for(;vr.length>0;)Qs()}const Mn=new WeakMap;function Xs(e){var t=re;if(t===null)return z.f|=sr,e;if(C&&e instanceof Error&&!Mn.has(e)&&Mn.set(e,fa(e,t)),(t.f&ts)===0){if((t.f&es)===0)throw C&&!t.parent&&e instanceof Error&&Zs(e),e;t.b.error(e)}else Br(e,t)}function Br(e,t){for(;t!==null;){if((t.f&es)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw C&&e instanceof Error&&Zs(e),e}function fa(e,t){var l,o,v;const r=qr(e,"message");if(!(r&&!r.configurable)){for(var s=os?"  ":"	",a=`
${s}in ${((l=t.fn)==null?void 0:l.name)||"<unknown>"}`,n=t.ctx;n!==null;)a+=`
${s}in ${(o=n.function)==null?void 0:o[sa].split("/").pop()}`,n=n.p;return{message:e.message+`
${a}
`,stack:(v=e.stack)==null?void 0:v.split(`
`).filter(p=>!p.includes("svelte/src/internal")).join(`
`)}}}function Zs(e){const t=Mn.get(e);t&&(xr(e,"message",{value:t.message}),xr(e,"stack",{value:t.stack}))}const da=-7169;function Le(e,t){e.f=e.f&da|t}function ss(e){(e.f&Et)!==0||e.deps===null?Le(e,Je):Le(e,Jt)}function ei(e){if(e!==null)for(const t of e)(t.f&Ve)===0||(t.f&lr)===0||(t.f^=lr,ei(t.deps))}function ti(e,t,r){(e.f&Xe)!==0?t.add(e):(e.f&Jt)!==0&&r.add(e),ei(e.deps),Le(e,Je)}const fn=new Set;let V=null,Kr=null,Ue=null,bt=[],jn=null,Bn=!1,Qr=!1;var Pr,Rr,fr,dr,nn,Dr,Fr,St,Hn,Un,ri,ni;const En=class En{constructor(){K(this,St);Tt(this,"committed",!1);Tt(this,"current",new Map);Tt(this,"previous",new Map);K(this,Pr,new Set);K(this,Rr,new Set);K(this,fr,0);K(this,dr,0);K(this,nn,null);K(this,Dr,new Set);K(this,Fr,new Set);Tt(this,"skipped_effects",new Set);Tt(this,"is_fork",!1)}is_deferred(){return this.is_fork||h(this,dr)>0}process(t){var a;bt=[],Kr=null,this.apply();var r=[],s=[];for(const n of t)Me(this,St,Hn).call(this,n,r,s);this.is_fork||Me(this,St,ri).call(this),this.is_deferred()?(Me(this,St,Un).call(this,s),Me(this,St,Un).call(this,r)):(Kr=this,V=null,ks(s),ks(r),Kr=null,(a=h(this,nn))==null||a.resolve()),Ue=null}capture(t,r){r!==Be&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&sr)===0&&(this.current.set(t,t.v),Ue==null||Ue.set(t,t.v))}activate(){V=this,this.apply()}deactivate(){V===this&&(V=null,Ue=null)}flush(){if(this.activate(),bt.length>0){if(si(),V!==null&&V!==this)return}else h(this,fr)===0&&this.process([]);this.deactivate()}discard(){for(const t of h(this,Rr))t(this);h(this,Rr).clear()}increment(t){Y(this,fr,h(this,fr)+1),t&&Y(this,dr,h(this,dr)+1)}decrement(t){Y(this,fr,h(this,fr)-1),t&&Y(this,dr,h(this,dr)-1),this.revive()}revive(){for(const t of h(this,Dr))h(this,Fr).delete(t),Le(t,Xe),Wt(t);for(const t of h(this,Fr))Le(t,Jt),Wt(t);this.flush()}oncommit(t){h(this,Pr).add(t)}ondiscard(t){h(this,Rr).add(t)}settled(){return(h(this,nn)??Y(this,nn,Hs())).promise}static ensure(){if(V===null){const t=V=new En;fn.add(V),Qr||En.enqueue(()=>{V===t&&t.flush()})}return V}static enqueue(t){Gr(t)}apply(){}};Pr=new WeakMap,Rr=new WeakMap,fr=new WeakMap,dr=new WeakMap,nn=new WeakMap,Dr=new WeakMap,Fr=new WeakMap,St=new WeakSet,Hn=function(t,r,s){t.f^=Je;for(var a=t.first,n=null;a!==null;){var l=a.f,o=(l&(Yt|Sr))!==0,v=o&&(l&Je)!==0,p=v||(l&pt)!==0||this.skipped_effects.has(a);if(!p&&a.fn!==null){o?a.f^=Je:n!==null&&(l&(pn|An|Us))!==0?n.b.defer_effect(a):(l&pn)!==0?r.push(a):cn(a)&&((l&Gt)!==0&&h(this,Dr).add(a),rn(a));var _=a.first;if(_!==null){a=_;continue}}var u=a.parent;for(a=a.next;a===null&&u!==null;)u===n&&(n=null),a=u.next,u=u.parent}},Un=function(t){for(var r=0;r<t.length;r+=1)ti(t[r],h(this,Dr),h(this,Fr))},ri=function(){if(h(this,dr)===0){for(const t of h(this,Pr))t();h(this,Pr).clear()}h(this,fr)===0&&Me(this,St,ni).call(this)},ni=function(){var a;if(fn.size>1){this.previous.clear();var t=Ue,r=!0;for(const n of fn){if(n===this){r=!1;continue}const l=[];for(const[v,p]of this.current){if(n.current.has(v))if(r&&p!==n.current.get(v))n.current.set(v,p);else continue;l.push(v)}if(l.length===0)continue;const o=[...n.current.keys()].filter(v=>!this.current.has(v));if(o.length>0){var s=bt;bt=[];const v=new Set,p=new Map;for(const _ of l)ii(_,o,v,p);if(bt.length>0){V=n,n.apply();for(const _ of bt)Me(a=n,St,Hn).call(a,_,[],[]);n.deactivate()}bt=s}}V=null,Ue=t}this.committed=!0,fn.delete(this)};let Vt=En;function _a(e){var t=Qr;Qr=!0;try{for(var r;;){if(ua(),bt.length===0&&(V==null||V.flush(),bt.length===0))return jn=null,r;si()}}finally{Qr=t}}function si(){var e=yr;Bn=!0;var t=C?new Set:null;try{var r=0;for(xn(!0);bt.length>0;){var s=Vt.ensure();if(r++>1e3){if(C){var a=new Map;for(const l of s.current.keys())for(const[o,v]of l.updated??[]){var n=a.get(o);n||(n={error:v.error,count:0},a.set(o,n)),n.count+=v.count}for(const l of a.values())l.error&&console.error(l.error)}ha()}if(s.process(bt),ir.clear(),C)for(const l of s.current.keys())t.add(l)}}finally{if(Bn=!1,xn(e),jn=null,C)for(const l of t)l.updated=null}}function ha(){try{Wi()}catch(e){C&&xr(e,"stack",{value:""}),Br(e,jn)}}let At=null;function ks(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var s=e[r++];if((s.f&(nr|pt))===0&&cn(s)&&(At=new Set,rn(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?mi(s):s.fn=null),(At==null?void 0:At.size)>0)){ir.clear();for(const a of At){if((a.f&(nr|pt))!==0)continue;const n=[a];let l=a.parent;for(;l!==null;)At.has(l)&&(At.delete(l),n.push(l)),l=l.parent;for(let o=n.length-1;o>=0;o--){const v=n[o];(v.f&(nr|pt))===0&&rn(v)}}At.clear()}}At=null}}function ii(e,t,r,s){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const a of e.reactions){const n=a.f;(n&Ve)!==0?ii(a,t,r,s):(n&(Cn|Gt))!==0&&(n&Xe)===0&&ai(a,t,s)&&(Le(a,Xe),Wt(a))}}function ai(e,t,r){const s=r.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const a of e.deps){if(t.includes(a))return!0;if((a.f&Ve)!==0&&ai(a,t,r))return r.set(a,!0),!0}return r.set(e,!1),!1}function Wt(e){for(var t=jn=e;t.parent!==null;){t=t.parent;var r=t.f;if(Bn&&t===re&&(r&Gt)!==0&&(r&Vs)===0)return;if((r&(Sr|Yt))!==0){if((r&Je)===0)return;t.f^=Je}}bt.push(t)}function pa(e){let t=0,r=kr(0),s;return C&&Pt(r,"createSubscriber version"),()=>{vs()&&(i(r),On(()=>(t===0&&(s=Pn(()=>e(()=>Xr(r)))),t+=1,()=>{Gr(()=>{t-=1,t===0&&(s==null||s(),s=void 0,Xr(r))})})))}}var ma=$r|Vr|es;function ga(e,t,r){new ya(e,t,r)}var gt,Xn,Rt,_r,Dt,yt,rt,Ft,Bt,tr,hr,rr,pr,Lr,Nr,Ht,Sn,Fe,ba,wa,Vn,_n,hn,zn;class ya{constructor(t,r,s){K(this,Fe);Tt(this,"parent");Tt(this,"is_pending",!1);K(this,gt);K(this,Xn,null);K(this,Rt);K(this,_r);K(this,Dt);K(this,yt,null);K(this,rt,null);K(this,Ft,null);K(this,Bt,null);K(this,tr,null);K(this,hr,0);K(this,rr,0);K(this,pr,!1);K(this,Lr,new Set);K(this,Nr,new Set);K(this,Ht,null);K(this,Sn,pa(()=>(Y(this,Ht,kr(h(this,hr))),C&&Pt(h(this,Ht),"$effect.pending()"),()=>{Y(this,Ht,null)})));Y(this,gt,t),Y(this,Rt,r),Y(this,_r,s),this.parent=re.b,this.is_pending=!!h(this,Rt).pending,Y(this,Dt,fs(()=>{re.b=this;{var a=Me(this,Fe,Vn).call(this);try{Y(this,yt,wt(()=>s(a)))}catch(n){this.error(n)}h(this,rr)>0?Me(this,Fe,hn).call(this):this.is_pending=!1}return()=>{var n;(n=h(this,tr))==null||n.remove()}},ma))}defer_effect(t){ti(t,h(this,Lr),h(this,Nr))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!h(this,Rt).pending}update_pending_count(t){Me(this,Fe,zn).call(this,t),Y(this,hr,h(this,hr)+t),h(this,Ht)&&Ur(h(this,Ht),h(this,hr))}get_effect_pending(){return h(this,Sn).call(this),i(h(this,Ht))}error(t){var r=h(this,Rt).onerror;let s=h(this,Rt).failed;if(h(this,pr)||!r&&!s)throw t;h(this,yt)&&(it(h(this,yt)),Y(this,yt,null)),h(this,rt)&&(it(h(this,rt)),Y(this,rt,null)),h(this,Ft)&&(it(h(this,Ft)),Y(this,Ft,null));var a=!1,n=!1;const l=()=>{if(a){aa();return}a=!0,n&&Qi(),Vt.ensure(),Y(this,hr,0),h(this,Ft)!==null&&gr(h(this,Ft),()=>{Y(this,Ft,null)}),this.is_pending=this.has_pending_snippet(),Y(this,yt,Me(this,Fe,_n).call(this,()=>(Y(this,pr,!1),wt(()=>h(this,_r).call(this,h(this,gt)))))),h(this,rr)>0?Me(this,Fe,hn).call(this):this.is_pending=!1};var o=z;try{st(null),n=!0,r==null||r(t,l),n=!1}catch(v){Br(v,h(this,Dt)&&h(this,Dt).parent)}finally{st(o)}s&&Gr(()=>{Y(this,Ft,Me(this,Fe,_n).call(this,()=>{Vt.ensure(),Y(this,pr,!0);try{return wt(()=>{s(h(this,gt),()=>t,()=>l)})}catch(v){return Br(v,h(this,Dt).parent),null}finally{Y(this,pr,!1)}}))})}}gt=new WeakMap,Xn=new WeakMap,Rt=new WeakMap,_r=new WeakMap,Dt=new WeakMap,yt=new WeakMap,rt=new WeakMap,Ft=new WeakMap,Bt=new WeakMap,tr=new WeakMap,hr=new WeakMap,rr=new WeakMap,pr=new WeakMap,Lr=new WeakMap,Nr=new WeakMap,Ht=new WeakMap,Sn=new WeakMap,Fe=new WeakSet,ba=function(){try{Y(this,yt,wt(()=>h(this,_r).call(this,h(this,gt))))}catch(t){this.error(t)}},wa=function(){const t=h(this,Rt).pending;t&&(Y(this,rt,wt(()=>t(h(this,gt)))),Vt.enqueue(()=>{var r=Me(this,Fe,Vn).call(this);Y(this,yt,Me(this,Fe,_n).call(this,()=>(Vt.ensure(),wt(()=>h(this,_r).call(this,r))))),h(this,rr)>0?Me(this,Fe,hn).call(this):(gr(h(this,rt),()=>{Y(this,rt,null)}),this.is_pending=!1)}))},Vn=function(){var t=h(this,gt);return this.is_pending&&(Y(this,tr,ar()),h(this,gt).before(h(this,tr)),t=h(this,tr)),t},_n=function(t){var r=re,s=z,a=Ye;qt(h(this,Dt)),st(h(this,Dt)),Mr(h(this,Dt).ctx);try{return t()}catch(n){return Xs(n),null}finally{qt(r),st(s),Mr(a)}},hn=function(){const t=h(this,Rt).pending;h(this,yt)!==null&&(Y(this,Bt,document.createDocumentFragment()),h(this,Bt).append(h(this,tr)),bi(h(this,yt),h(this,Bt))),h(this,rt)===null&&Y(this,rt,wt(()=>t(h(this,gt))))},zn=function(t){var r;if(!this.has_pending_snippet()){this.parent&&Me(r=this.parent,Fe,zn).call(r,t);return}if(Y(this,rr,h(this,rr)+t),h(this,rr)===0){this.is_pending=!1;for(const s of h(this,Lr))Le(s,Xe),Wt(s);for(const s of h(this,Nr))Le(s,Jt),Wt(s);h(this,Lr).clear(),h(this,Nr).clear(),h(this,rt)&&gr(h(this,rt),()=>{Y(this,rt,null)}),h(this,Bt)&&(h(this,gt).before(h(this,Bt)),Y(this,Bt,null))}};function xa(e,t,r,s){const a=is;if(r.length===0&&e.length===0){s(t.map(a));return}var n=V,l=re,o=ka();function v(){Promise.all(r.map(p=>Sa(p))).then(p=>{o();try{s([...t.map(a),...p])}catch(_){(l.f&nr)===0&&Br(_,l)}n==null||n.deactivate(),yn()}).catch(p=>{Br(p,l)})}e.length>0?Promise.all(e).then(()=>{o();try{return v()}finally{n==null||n.deactivate(),yn()}}):v()}function ka(){var e=re,t=z,r=Ye,s=V;if(C)var a=tn;return function(l=!0){qt(e),st(t),Mr(r),l&&(s==null||s.activate()),C&&gn(a)}}function yn(){qt(null),st(null),Mr(null),C&&gn(null)}const Ea=new Set;function is(e){var t=Ve|Xe,r=z!==null&&(z.f&Ve)!==0?z:null;return re!==null&&(re.f|=Vr),{ctx:Ye,deps:null,effects:null,equals:Gs,f:t,fn:e,reactions:null,rv:0,v:Be,wv:0,parent:r??re,ac:null}}function Sa(e,t,r){let s=re;s===null&&Bi();var a=s.b,n=void 0,l=kr(Be);C&&(l.label=t);var o=!z,v=new Map;return Ba(()=>{var m;var p=Hs();n=p.promise;try{Promise.resolve(e()).then(p.resolve,p.reject).then(()=>{_===V&&_.committed&&_.deactivate(),yn()})}catch(y){p.reject(y),yn()}var _=V;if(o){var u=a.is_rendered();a.update_pending_count(1),_.increment(u),(m=v.get(_))==null||m.reject(jr),v.delete(_),v.set(_,p)}const d=(y,E=void 0)=>{if(_.activate(),E)E!==jr&&(l.f|=sr,Ur(l,E));else{(l.f&sr)!==0&&(l.f^=sr),Ur(l,y);for(const[b,I]of v){if(v.delete(b),b===_)break;I.reject(jr)}}o&&(a.update_pending_count(-1),_.decrement(u))};p.promise.then(d,y=>d(null,y||"unknown"))}),us(()=>{for(const p of v.values())p.reject(jr)}),C&&(l.f|=Cn),new Promise(p=>{function _(u){function d(){u===n?p(l):_(n)}u.then(d,d)}_(n)})}function bn(e){const t=is(e);return wi(t),t}function Ia(e){const t=is(e);return t.equals=Ys,t}function Wn(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)it(t[r])}}let Fn=[];function Ta(e){for(var t=e.parent;t!==null;){if((t.f&Ve)===0)return(t.f&nr)===0?t:null;t=t.parent}return null}function as(e){var t,r=re;if(qt(Ta(e)),C){let s=Hr;Es(new Set);try{Fn.includes(e)&&Hi(),Fn.push(e),e.f&=~lr,Wn(e),t=Gn(e)}finally{qt(r),Es(s),Fn.pop()}}else try{e.f&=~lr,Wn(e),t=Gn(e)}finally{qt(r)}return t}function li(e){var t=as(e);if(!e.equals(t)&&(e.wv=ki(),(!(V!=null&&V.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){Le(e,Je);return}Er||(Ue!==null?(vs()||V!=null&&V.is_fork)&&Ue.set(e,t):ss(e))}let Hr=new Set;const ir=new Map;function Es(e){Hr=e}let ls=!1;function Aa(){ls=!0}function kr(e,t){var r={f:0,v:e,reactions:null,equals:Gs,rv:0,wv:0};return r}function R(e,t){const r=kr(e);return wi(r),r}function Ca(e,t=!1,r=!0){const s=kr(e);return t||(s.equals=Ys),s}function w(e,t,r=!1){z!==null&&(!jt||(z.f&mn)!==0)&&Ks()&&(z.f&(Ve|Gt|Cn|mn))!==0&&!(Qe!=null&&Qe.includes(e))&&Ki();let s=r?Pe(t):t;return C&&Js(s,e.label),Ur(e,s)}function Ur(e,t){var a;if(!e.equals(t)){var r=e.v;Er?ir.set(e,t):ir.set(e,r),e.v=t;var s=Vt.ensure();if(s.capture(e,r),C){if(re!==null){e.updated??(e.updated=new Map);const n=(((a=e.updated.get(""))==null?void 0:a.count)??0)+1;if(e.updated.set("",{error:null,count:n}),n>5){const l=ca("updated at");if(l!==null){let o=e.updated.get(l.stack);o||(o={error:l,count:0},e.updated.set(l.stack,o)),o.count++}}}re!==null&&(e.set_during_effect=!0)}if((e.f&Ve)!==0){const n=e;(e.f&Xe)!==0&&as(n),ss(n)}e.wv=ki(),ci(e,Xe),re!==null&&(re.f&Je)!==0&&(re.f&(Yt|Sr))===0&&(mt===null?Va([e]):mt.push(e)),!s.is_fork&&Hr.size>0&&!ls&&oi()}return t}function oi(){ls=!1;var e=yr;xn(!0);const t=Array.from(Hr);try{for(const r of t)(r.f&Je)!==0&&Le(r,Jt),cn(r)&&rn(r)}finally{xn(e)}Hr.clear()}function Xr(e){w(e,e.v+1)}function ci(e,t){var r=e.reactions;if(r!==null)for(var s=r.length,a=0;a<s;a++){var n=r[a],l=n.f;if(C&&(l&mn)!==0){Hr.add(n);continue}var o=(l&Xe)===0;if(o&&Le(n,t),(l&Ve)!==0){var v=n;Ue==null||Ue.delete(v),(l&lr)===0&&(l&Et&&(n.f|=lr),ci(v,Jt))}else o&&((l&Gt)!==0&&At!==null&&At.add(n),Wt(n))}}const ja=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function Pe(e){if(typeof e!="object"||e===null||Or in e)return e;const t=Li(e);if(t!==Di&&t!==Fi)return e;var r=new Map,s=Zn(e),a=R(0),n=br,l=_=>{if(br===n)return _();var u=z,d=br;st(null),As(n);var m=_();return st(u),As(d),m};s&&(r.set("length",R(e.length)),C&&(e=Pa(e)));var o="";let v=!1;function p(_){if(!v){v=!0,o=_,Pt(a,`${o} version`);for(const[u,d]of r)Pt(d,cr(o,u));v=!1}}return new Proxy(e,{defineProperty(_,u,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Yi();var m=r.get(u);return m===void 0?m=l(()=>{var y=R(d.value);return r.set(u,y),C&&typeof u=="string"&&Pt(y,cr(o,u)),y}):w(m,d.value,!0),!0},deleteProperty(_,u){var d=r.get(u);if(d===void 0){if(u in _){const m=l(()=>R(Be));r.set(u,m),Xr(a),C&&Pt(m,cr(o,u))}}else w(d,Be),Xr(a);return!0},get(_,u,d){var b;if(u===Or)return e;if(C&&u===zs)return p;var m=r.get(u),y=u in _;if(m===void 0&&(!y||(b=qr(_,u))!=null&&b.writable)&&(m=l(()=>{var I=Pe(y?_[u]:Be),j=R(I);return C&&Pt(j,cr(o,u)),j}),r.set(u,m)),m!==void 0){var E=i(m);return E===Be?void 0:E}return Reflect.get(_,u,d)},getOwnPropertyDescriptor(_,u){var d=Reflect.getOwnPropertyDescriptor(_,u);if(d&&"value"in d){var m=r.get(u);m&&(d.value=i(m))}else if(d===void 0){var y=r.get(u),E=y==null?void 0:y.v;if(y!==void 0&&E!==Be)return{enumerable:!0,configurable:!0,value:E,writable:!0}}return d},has(_,u){var E;if(u===Or)return!0;var d=r.get(u),m=d!==void 0&&d.v!==Be||Reflect.has(_,u);if(d!==void 0||re!==null&&(!m||(E=qr(_,u))!=null&&E.writable)){d===void 0&&(d=l(()=>{var b=m?Pe(_[u]):Be,I=R(b);return C&&Pt(I,cr(o,u)),I}),r.set(u,d));var y=i(d);if(y===Be)return!1}return m},set(_,u,d,m){var ye;var y=r.get(u),E=u in _;if(s&&u==="length")for(var b=d;b<y.v;b+=1){var I=r.get(b+"");I!==void 0?w(I,Be):b in _&&(I=l(()=>R(Be)),r.set(b+"",I),C&&Pt(I,cr(o,b)))}if(y===void 0)(!E||(ye=qr(_,u))!=null&&ye.writable)&&(y=l(()=>R(void 0)),C&&Pt(y,cr(o,u)),w(y,Pe(d)),r.set(u,y));else{E=y.v!==Be;var j=l(()=>Pe(d));w(y,j)}var ne=Reflect.getOwnPropertyDescriptor(_,u);if(ne!=null&&ne.set&&ne.set.call(m,d),!E){if(s&&typeof u=="string"){var se=r.get("length"),ie=Number(u);Number.isInteger(ie)&&ie>=se.v&&w(se,ie+1)}Xr(a)}return!0},ownKeys(_){i(a);var u=Reflect.ownKeys(_).filter(y=>{var E=r.get(y);return E===void 0||E.v!==Be});for(var[d,m]of r)m.v!==Be&&!(d in _)&&u.push(d);return u},setPrototypeOf(){Ji()}})}function cr(e,t){return typeof t=="symbol"?`${e}[Symbol(${t.description??""})]`:ja.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function Zr(e){try{if(e!==null&&typeof e=="object"&&Or in e)return e[Or]}catch{}return e}function qa(e,t){return Object.is(Zr(e),Zr(t))}const Oa=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function Pa(e){return new Proxy(e,{get(t,r,s){var a=Reflect.get(t,r,s);return Oa.has(r)?function(...n){Aa();var l=a.apply(this,n);return oi(),l}:a}})}function Ra(){const e=Array.prototype,t=Array.__svelte_cleanup;t&&t();const{indexOf:r,lastIndexOf:s,includes:a}=e;e.indexOf=function(n,l){const o=r.call(this,n,l);if(o===-1){for(let v=l??0;v<this.length;v+=1)if(Zr(this[v])===n){Dn("array.indexOf(...)");break}}return o},e.lastIndexOf=function(n,l){const o=s.call(this,n,l??this.length-1);if(o===-1){for(let v=0;v<=(l??this.length-1);v+=1)if(Zr(this[v])===n){Dn("array.lastIndexOf(...)");break}}return o},e.includes=function(n,l){const o=a.call(this,n,l);if(!o){for(let v=0;v<this.length;v+=1)if(Zr(this[v])===n){Dn("array.includes(...)");break}}return o},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=s,e.includes=a}}var Ss,os,vi,ui;function Da(){if(Ss===void 0){Ss=window,os=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;vi=qr(t,"firstChild").get,ui=qr(t,"nextSibling").get,bs(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),bs(r)&&(r.__t=void 0),C&&(e.__svelte_meta=null,Ra())}}function ar(e=""){return document.createTextNode(e)}function wn(e){return vi.call(e)}function on(e){return ui.call(e)}function c(e,t){return wn(e)}function Ce(e,t=!1){{var r=wn(e);return r instanceof Comment&&r.data===""?on(r):r}}function f(e,t=1,r=!1){let s=e;for(;t--;)s=on(s);return s}function Fa(e){e.textContent=""}function fi(){return!1}let Is=!1;function La(){Is||(Is=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function qn(e){var t=z,r=re;st(null),qt(null);try{return e()}finally{st(t),qt(r)}}function cs(e,t,r,s=r){e.addEventListener(t,()=>qn(r));const a=e.__on_r;a?e.__on_r=()=>{a(),s(!0)}:e.__on_r=()=>s(!0),La()}function Na(e){re===null&&(z===null&&zi(e),Vi()),Er&&Ui(e)}function $a(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Kt(e,t,r){var s=re;if(C)for(;s!==null&&(s.f&mn)!==0;)s=s.parent;s!==null&&(s.f&pt)!==0&&(e|=pt);var a={ctx:Ye,deps:null,nodes:null,f:e|Xe|Et,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(C&&(a.component_function=ln),r)try{rn(a),a.f|=ts}catch(o){throw it(a),o}else t!==null&&Wt(a);var n=a;if(r&&n.deps===null&&n.teardown===null&&n.nodes===null&&n.first===n.last&&(n.f&Vr)===0&&(n=n.first,(e&Gt)!==0&&(e&$r)!==0&&n!==null&&(n.f|=$r)),n!==null&&(n.parent=s,s!==null&&$a(n,s),z!==null&&(z.f&Ve)!==0&&(e&Sr)===0)){var l=z;(l.effects??(l.effects=[])).push(n)}return a}function vs(){return z!==null&&!jt}function us(e){const t=Kt(An,null,!1);return Le(t,Je),t.teardown=e,t}function zt(e){Na("$effect"),C&&xr(e,"name",{value:"$effect"});var t=re.f,r=!z&&(t&Yt)!==0&&(t&ts)===0;if(r){var s=Ye;(s.e??(s.e=[])).push(e)}else return di(e)}function di(e){return Kt(pn|Mi,e,!1)}function Ma(e){Vt.ensure();const t=Kt(Sr|Vr,e,!0);return(r={})=>new Promise(s=>{r.outro?gr(t,()=>{it(t),s(void 0)}):(it(t),s(void 0))})}function _i(e){return Kt(pn,e,!1)}function Ba(e){return Kt(Cn|Vr,e,!0)}function On(e,t=0){return Kt(An|t,e,!0)}function U(e,t=[],r=[],s=[]){xa(s,t,r,a=>{Kt(An,()=>e(...a.map(i)),!0)})}function fs(e,t=0){var r=Kt(Gt|t,e,!0);return C&&(r.dev_stack=tn),r}function wt(e){return Kt(Yt|Vr,e,!0)}function hi(e){var t=e.teardown;if(t!==null){const r=Er,s=z;Ts(!0),st(null);try{t.call(null)}finally{Ts(r),st(s)}}}function pi(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const a=r.ac;a!==null&&qn(()=>{a.abort(jr)});var s=r.next;(r.f&Sr)!==0?r.parent=null:it(r,t),r=s}}function Ha(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Yt)===0&&it(t),t=r}}function it(e,t=!0){var r=!1;(t||(e.f&Vs)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ua(e.nodes.start,e.nodes.end),r=!0),pi(e,t&&!r),kn(e,0),Le(e,nr);var s=e.nodes&&e.nodes.t;if(s!==null)for(const n of s)n.stop();hi(e);var a=e.parent;a!==null&&a.first!==null&&mi(e),C&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ua(e,t){for(;e!==null;){var r=e===t?null:on(e);e.remove(),e=r}}function mi(e){var t=e.parent,r=e.prev,s=e.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=r))}function gr(e,t,r=!0){var s=[];gi(e,s,!0);var a=()=>{r&&it(e),t&&t()},n=s.length;if(n>0){var l=()=>--n||a();for(var o of s)o.out(l)}else a()}function gi(e,t,r){if((e.f&pt)===0){e.f^=pt;var s=e.nodes&&e.nodes.t;if(s!==null)for(const o of s)(o.is_global||r)&&t.push(o);for(var a=e.first;a!==null;){var n=a.next,l=(a.f&$r)!==0||(a.f&Yt)!==0&&(e.f&Gt)!==0;gi(a,t,l?r:!1),a=n}}}function ds(e){yi(e,!0)}function yi(e,t){if((e.f&pt)!==0){e.f^=pt,(e.f&Je)===0&&(Le(e,Xe),Wt(e));for(var r=e.first;r!==null;){var s=r.next,a=(r.f&$r)!==0||(r.f&Yt)!==0;yi(r,a?t:!1),r=s}var n=e.nodes&&e.nodes.t;if(n!==null)for(const l of n)(l.is_global||t)&&l.in()}}function bi(e,t){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end;r!==null;){var a=r===s?null:on(r);t.append(r),r=a}}let yr=!1;function xn(e){yr=e}let Er=!1;function Ts(e){Er=e}let z=null,jt=!1;function st(e){z=e}let re=null;function qt(e){re=e}let Qe=null;function wi(e){z!==null&&(Qe===null?Qe=[e]:Qe.push(e))}let nt=null,_t=0,mt=null;function Va(e){mt=e}let xi=1,ur=0,br=ur;function As(e){br=e}function ki(){return++xi}function cn(e){var t=e.f;if((t&Xe)!==0)return!0;if(t&Ve&&(e.f&=~lr),(t&Jt)!==0){for(var r=e.deps,s=r.length,a=0;a<s;a++){var n=r[a];if(cn(n)&&li(n),n.wv>e.wv)return!0}(t&Et)!==0&&Ue===null&&Le(e,Je)}return!1}function Ei(e,t,r=!0){var s=e.reactions;if(s!==null&&!(Qe!=null&&Qe.includes(e)))for(var a=0;a<s.length;a++){var n=s[a];(n.f&Ve)!==0?Ei(n,t,!1):t===n&&(r?Le(n,Xe):(n.f&Je)!==0&&Le(n,Jt),Wt(n))}}function Gn(e){var y;var t=nt,r=_t,s=mt,a=z,n=Qe,l=Ye,o=jt,v=br,p=e.f;nt=null,_t=0,mt=null,z=(p&(Yt|Sr))===0?e:null,Qe=null,Mr(e.ctx),jt=!1,br=++ur,e.ac!==null&&(qn(()=>{e.ac.abort(jr)}),e.ac=null);try{e.f|=$n;var _=e.fn,u=_(),d=e.deps;if(nt!==null){var m;if(kn(e,_t),d!==null&&_t>0)for(d.length=_t+nt.length,m=0;m<nt.length;m++)d[_t+m]=nt[m];else e.deps=d=nt;if(vs()&&(e.f&Et)!==0)for(m=_t;m<d.length;m++)((y=d[m]).reactions??(y.reactions=[])).push(e)}else d!==null&&_t<d.length&&(kn(e,_t),d.length=_t);if(Ks()&&mt!==null&&!jt&&d!==null&&(e.f&(Ve|Jt|Xe))===0)for(m=0;m<mt.length;m++)Ei(mt[m],e);if(a!==null&&a!==e){if(ur++,a.deps!==null)for(let E=0;E<r;E+=1)a.deps[E].rv=ur;if(t!==null)for(const E of t)E.rv=ur;mt!==null&&(s===null?s=mt:s.push(...mt))}return(e.f&sr)!==0&&(e.f^=sr),u}catch(E){return Xs(E)}finally{e.f^=$n,nt=t,_t=r,mt=s,z=a,Qe=n,Mr(l),jt=o,br=v}}function za(e,t){let r=t.reactions;if(r!==null){var s=Ri.call(r,e);if(s!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[s]=r[a],r.pop())}}if(r===null&&(t.f&Ve)!==0&&(nt===null||!nt.includes(t))){var n=t;(n.f&Et)!==0&&(n.f^=Et,n.f&=~lr),ss(n),Wn(n),kn(n,0)}}function kn(e,t){var r=e.deps;if(r!==null)for(var s=t;s<r.length;s++)za(e,r[s])}function rn(e){var t=e.f;if((t&nr)===0){Le(e,Je);var r=re,s=yr;if(re=e,yr=!0,C){var a=ln;xs(e.component_function);var n=tn;gn(e.dev_stack??tn)}try{(t&(Gt|Us))!==0?Ha(e):pi(e),hi(e);var l=Gn(e);e.teardown=typeof l=="function"?l:null,e.wv=xi;var o;C&&oa&&(e.f&Xe)!==0&&e.deps}finally{yr=s,re=r,C&&(xs(a),gn(n))}}}async function Wa(){await Promise.resolve(),_a()}function i(e){var t=e.f,r=(t&Ve)!==0;if(z!==null&&!jt){var s=re!==null&&(re.f&nr)!==0;if(!s&&!(Qe!=null&&Qe.includes(e))){var a=z.deps;if((z.f&$n)!==0)e.rv<ur&&(e.rv=ur,nt===null&&a!==null&&a[_t]===e?_t++:nt===null?nt=[e]:nt.push(e));else{(z.deps??(z.deps=[])).push(e);var n=e.reactions;n===null?e.reactions=[z]:n.includes(z)||n.push(z)}}}if(C&&Ea.delete(e),Er&&ir.has(e))return ir.get(e);if(r){var l=e;if(Er){var o=l.v;return((l.f&Je)===0&&l.reactions!==null||Ii(l))&&(o=as(l)),ir.set(l,o),o}var v=(l.f&Et)===0&&!jt&&z!==null&&(yr||(z.f&Et)!==0),p=l.deps===null;cn(l)&&(v&&(l.f|=Et),li(l)),v&&!p&&Si(l)}if(Ue!=null&&Ue.has(e))return Ue.get(e);if((e.f&sr)!==0)throw e.v;return e.v}function Si(e){if(e.deps!==null){e.f|=Et;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&Ve)!==0&&(t.f&Et)===0&&Si(t)}}function Ii(e){if(e.v===Be)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ir.has(t)||(t.f&Ve)!==0&&Ii(t))return!0;return!1}function Pn(e){var t=jt;try{return jt=!0,e()}finally{jt=t}}const Ga=["touchstart","touchmove"];function Ya(e){return Ga.includes(e)}const Ti=new Set,Yn=new Set;function Ja(e,t,r,s={}){function a(n){if(s.capture||Yr.call(t,n),!n.cancelBubble)return qn(()=>r==null?void 0:r.call(this,n))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Gr(()=>{t.addEventListener(e,a,s)}):t.addEventListener(e,a,s),a}function dn(e,t,r,s,a){var n={capture:s,passive:a},l=Ja(e,t,r,n);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&us(()=>{t.removeEventListener(e,l,n)})}function vn(e){for(var t=0;t<e.length;t++)Ti.add(e[t]);for(var r of Yn)r(e)}let Cs=null;function Yr(e){var b;var t=this,r=t.ownerDocument,s=e.type,a=((b=e.composedPath)==null?void 0:b.call(e))||[],n=a[0]||e.target;Cs=e;var l=0,o=Cs===e&&e.__root;if(o){var v=a.indexOf(o);if(v!==-1&&(t===document||t===window)){e.__root=t;return}var p=a.indexOf(t);if(p===-1)return;v<=p&&(l=v)}if(n=a[l]||e.target,n!==t){xr(e,"currentTarget",{configurable:!0,get(){return n||r}});var _=z,u=re;st(null),qt(null);try{for(var d,m=[];n!==null;){var y=n.assignedSlot||n.parentNode||n.host||null;try{var E=n["__"+s];E!=null&&(!n.disabled||e.target===n)&&E.call(n,e)}catch(I){d?m.push(I):d=I}if(e.cancelBubble||y===t||y===null)break;n=y}if(d){for(let I of m)queueMicrotask(()=>{throw I});throw d}}finally{e.__root=t,delete e.currentTarget,st(_),qt(u)}}}function Ka(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Jn(e,t){var r=re;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function S(e,t){var r=(t&ra)!==0,s=(t&na)!==0,a,n=!e.startsWith("<!>");return()=>{a===void 0&&(a=Ka(n?e:"<!>"+e),r||(a=wn(a)));var l=s||os?document.importNode(a,!0):a.cloneNode(!0);if(r){var o=wn(l),v=l.lastChild;Jn(o,v)}else Jn(l,l);return l}}function He(){var e=document.createDocumentFragment(),t=document.createComment(""),r=ar();return e.append(t,r),Jn(t,r),e}function k(e,t){e!==null&&e.before(t)}function T(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Qa(e,t){return Xa(e,t)}const Ar=new Map;function Xa(e,{target:t,anchor:r,props:s={},events:a,context:n,intro:l=!0}){Da();var o=new Set,v=u=>{for(var d=0;d<u.length;d++){var m=u[d];if(!o.has(m)){o.add(m);var y=Ya(m);t.addEventListener(m,Yr,{passive:y});var E=Ar.get(m);E===void 0?(document.addEventListener(m,Yr,{passive:y}),Ar.set(m,1)):Ar.set(m,E+1)}}};v(Tn(Ti)),Yn.add(v);var p=void 0,_=Ma(()=>{var u=r??t.appendChild(ar());return ga(u,{pending:()=>{}},d=>{if(n){zr({});var m=Ye;m.c=n}a&&(s.$$events=a),p=e(d,s)||{},n&&Wr()}),()=>{var y;for(var d of o){t.removeEventListener(d,Yr);var m=Ar.get(d);--m===0?(document.removeEventListener(d,Yr),Ar.delete(d)):Ar.set(d,m)}Yn.delete(v),u!==r&&((y=u.parentNode)==null||y.removeChild(u))}});return Za.set(p,_),p}let Za=new WeakMap;var Ct,Lt,ht,mr,sn,an,In;class el{constructor(t,r=!0){Tt(this,"anchor");K(this,Ct,new Map);K(this,Lt,new Map);K(this,ht,new Map);K(this,mr,new Set);K(this,sn,!0);K(this,an,()=>{var t=V;if(h(this,Ct).has(t)){var r=h(this,Ct).get(t),s=h(this,Lt).get(r);if(s)ds(s),h(this,mr).delete(r);else{var a=h(this,ht).get(r);a&&(h(this,Lt).set(r,a.effect),h(this,ht).delete(r),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),s=a.effect)}for(const[n,l]of h(this,Ct)){if(h(this,Ct).delete(n),n===t)break;const o=h(this,ht).get(l);o&&(it(o.effect),h(this,ht).delete(l))}for(const[n,l]of h(this,Lt)){if(n===r||h(this,mr).has(n))continue;const o=()=>{if(Array.from(h(this,Ct).values()).includes(n)){var p=document.createDocumentFragment();bi(l,p),p.append(ar()),h(this,ht).set(n,{effect:l,fragment:p})}else it(l);h(this,mr).delete(n),h(this,Lt).delete(n)};h(this,sn)||!s?(h(this,mr).add(n),gr(l,o,!1)):o()}}});K(this,In,t=>{h(this,Ct).delete(t);const r=Array.from(h(this,Ct).values());for(const[s,a]of h(this,ht))r.includes(s)||(it(a.effect),h(this,ht).delete(s))});this.anchor=t,Y(this,sn,r)}ensure(t,r){var s=V,a=fi();if(r&&!h(this,Lt).has(t)&&!h(this,ht).has(t))if(a){var n=document.createDocumentFragment(),l=ar();n.append(l),h(this,ht).set(t,{effect:wt(()=>r(l)),fragment:n})}else h(this,Lt).set(t,wt(()=>r(this.anchor)));if(h(this,Ct).set(s,t),a){for(const[o,v]of h(this,Lt))o===t?s.skipped_effects.delete(v):s.skipped_effects.add(v);for(const[o,v]of h(this,ht))o===t?s.skipped_effects.delete(v.effect):s.skipped_effects.add(v.effect);s.oncommit(h(this,an)),s.ondiscard(h(this,In))}else h(this,an).call(this)}}Ct=new WeakMap,Lt=new WeakMap,ht=new WeakMap,mr=new WeakMap,sn=new WeakMap,an=new WeakMap,In=new WeakMap;function q(e,t,r=!1){var s=new el(e),a=r?$r:0;function n(l,o){s.ensure(l,o)}fs(()=>{var l=!1;t((o,v=!0)=>{l=!0,n(v,o)}),l||n(!1,null)},a)}function wr(e,t){return t}function tl(e,t,r){for(var s=[],a=t.length,n,l=t.length,o=0;o<a;o++){let u=t[o];gr(u,()=>{if(n){if(n.pending.delete(u),n.done.add(u),n.pending.size===0){var d=e.outrogroups;Kn(Tn(n.done)),d.delete(n),d.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var v=s.length===0&&r!==null;if(v){var p=r,_=p.parentNode;Fa(_),_.append(p),e.items.clear()}Kn(t,!v)}else n={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(n)}function Kn(e,t=!0){for(var r=0;r<e.length;r++)it(e[r],t)}var js;function kt(e,t,r,s,a,n=null){var l=e,o=new Map,v=(t&Ws)!==0;if(v){var p=e;l=p.appendChild(ar())}var _=null,u=Ia(()=>{var I=r();return Zn(I)?I:I==null?[]:Tn(I)}),d,m=!0;function y(){b.fallback=_,rl(b,d,l,t,s),_!==null&&(d.length===0?(_.f&Ut)===0?ds(_):(_.f^=Ut,Jr(_,null,l)):gr(_,()=>{_=null}))}var E=fs(()=>{d=i(u);for(var I=d.length,j=new Set,ne=V,se=fi(),ie=0;ie<I;ie+=1){var ye=d[ie],ve=s(ye,ie),ue=m?null:o.get(ve);ue?(ue.v&&Ur(ue.v,ye),ue.i&&Ur(ue.i,ie),se&&ne.skipped_effects.delete(ue.e)):(ue=nl(o,m?l:js??(js=ar()),ye,ve,ie,a,t,r),m||(ue.e.f|=Ut),o.set(ve,ue)),j.add(ve)}if(I===0&&n&&!_&&(m?_=wt(()=>n(l)):(_=wt(()=>n(js??(js=ar()))),_.f|=Ut)),!m)if(se){for(const[at,Ne]of o)j.has(at)||ne.skipped_effects.add(Ne.e);ne.oncommit(y),ne.ondiscard(()=>{})}else y();i(u)}),b={effect:E,items:o,outrogroups:null,fallback:_};m=!1}function rl(e,t,r,s,a){var Ne,M,be,we,Ee,Se,_e,je,lt;var n=(s&ea)!==0,l=t.length,o=e.items,v=e.effect.first,p,_=null,u,d=[],m=[],y,E,b,I;if(n)for(I=0;I<l;I+=1)y=t[I],E=a(y,I),b=o.get(E).e,(b.f&Ut)===0&&((M=(Ne=b.nodes)==null?void 0:Ne.a)==null||M.measure(),(u??(u=new Set)).add(b));for(I=0;I<l;I+=1){if(y=t[I],E=a(y,I),b=o.get(E).e,e.outrogroups!==null)for(const B of e.outrogroups)B.pending.delete(b),B.done.delete(b);if((b.f&Ut)!==0)if(b.f^=Ut,b===v)Jr(b,null,r);else{var j=_?_.next:v;b===e.effect.last&&(e.effect.last=b.prev),b.prev&&(b.prev.next=b.next),b.next&&(b.next.prev=b.prev),er(e,_,b),er(e,b,j),Jr(b,j,r),_=b,d=[],m=[],v=_.next;continue}if((b.f&pt)!==0&&(ds(b),n&&((we=(be=b.nodes)==null?void 0:be.a)==null||we.unfix(),(u??(u=new Set)).delete(b))),b!==v){if(p!==void 0&&p.has(b)){if(d.length<m.length){var ne=m[0],se;_=ne.prev;var ie=d[0],ye=d[d.length-1];for(se=0;se<d.length;se+=1)Jr(d[se],ne,r);for(se=0;se<m.length;se+=1)p.delete(m[se]);er(e,ie.prev,ye.next),er(e,_,ie),er(e,ye,ne),v=ne,_=ye,I-=1,d=[],m=[]}else p.delete(b),Jr(b,v,r),er(e,b.prev,b.next),er(e,b,_===null?e.effect.first:_.next),er(e,_,b),_=b;continue}for(d=[],m=[];v!==null&&v!==b;)(p??(p=new Set)).add(v),m.push(v),v=v.next;if(v===null)continue}(b.f&Ut)===0&&d.push(b),_=b,v=b.next}if(e.outrogroups!==null){for(const B of e.outrogroups)B.pending.size===0&&(Kn(Tn(B.done)),(Ee=e.outrogroups)==null||Ee.delete(B));e.outrogroups.size===0&&(e.outrogroups=null)}if(v!==null||p!==void 0){var ve=[];if(p!==void 0)for(b of p)(b.f&pt)===0&&ve.push(b);for(;v!==null;)(v.f&pt)===0&&v!==e.fallback&&ve.push(v),v=v.next;var ue=ve.length;if(ue>0){var at=(s&Ws)!==0&&l===0?r:null;if(n){for(I=0;I<ue;I+=1)(_e=(Se=ve[I].nodes)==null?void 0:Se.a)==null||_e.measure();for(I=0;I<ue;I+=1)(lt=(je=ve[I].nodes)==null?void 0:je.a)==null||lt.fix()}tl(e,ve,at)}}n&&Gr(()=>{var B,ce;if(u!==void 0)for(b of u)(ce=(B=b.nodes)==null?void 0:B.a)==null||ce.apply()})}function nl(e,t,r,s,a,n,l,o){var v=(l&Xi)!==0?(l&ta)===0?Ca(r,!1,!1):kr(r):null,p=(l&Zi)!==0?kr(a):null;return C&&v&&(v.trace=()=>{o()[(p==null?void 0:p.v)??a]}),{v,i:p,e:wt(()=>(n(t,v??r,p??a,o),()=>{e.delete(s)}))}}function Jr(e,t,r){if(e.nodes)for(var s=e.nodes.start,a=e.nodes.end,n=t&&(t.f&Ut)===0?t.nodes.start:r;s!==null;){var l=on(s);if(n.before(s),s===a)return;s=l}}function er(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const qs=[...` 	
\r\f \v\uFEFF`];function sl(e,t,r){var s=e==null?"":""+e;if(t&&(s=s?s+" "+t:t),r){for(var a in r)if(r[a])s=s?s+" "+a:a;else if(s.length)for(var n=a.length,l=0;(l=s.indexOf(a,l))>=0;){var o=l+n;(l===0||qs.includes(s[l-1]))&&(o===s.length||qs.includes(s[o]))?s=(l===0?"":s.substring(0,l))+s.substring(o+1):l=o}}return s===""?null:s}function il(e,t){return e==null?null:String(e)}function Ae(e,t,r,s,a,n){var l=e.__className;if(l!==r||l===void 0){var o=sl(r,s,n);o==null?e.removeAttribute("class"):e.className=o,e.__className=r}else if(n&&a!==n)for(var v in n){var p=!!n[v];(a==null||p!==!!a[v])&&e.classList.toggle(v,p)}return n}function xt(e,t,r,s){var a=e.__style;if(a!==t){var n=il(t);n==null?e.removeAttribute("style"):e.style.cssText=n,e.__style=t}return s}function Ai(e,t,r=!1){if(e.multiple){if(t==null)return;if(!Zn(t))return ia();for(var s of e.options)s.selected=t.includes(en(s));return}for(s of e.options){var a=en(s);if(qa(a,t)){s.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function al(e){var t=new MutationObserver(()=>{Ai(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),us(()=>{t.disconnect()})}function Qn(e,t,r=t){var s=new WeakSet,a=!0;cs(e,"change",n=>{var l=n?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(l),en);else{var v=e.querySelector(l)??e.querySelector("option:not([disabled])");o=v&&en(v)}r(o),V!==null&&s.add(V)}),_i(()=>{var n=t();if(e===document.activeElement){var l=Kr??V;if(s.has(l))return}if(Ai(e,n,a),a&&n===void 0){var o=e.querySelector(":checked");o!==null&&(n=en(o),r(n))}e.__value=n,a=!1}),al(e)}function en(e){return"__value"in e?e.__value:e.value}function dt(e,t,r=t){var s=new WeakSet;cs(e,"input",async a=>{C&&e.type==="checkbox"&&ws();var n=a?e.defaultValue:e.value;if(n=Ln(e)?Nn(n):n,r(n),V!==null&&s.add(V),await Wa(),n!==(n=t())){var l=e.selectionStart,o=e.selectionEnd,v=e.value.length;if(e.value=n??"",o!==null){var p=e.value.length;l===o&&o===v&&p>v?(e.selectionStart=p,e.selectionEnd=p):(e.selectionStart=l,e.selectionEnd=Math.min(o,p))}}}),Pn(t)==null&&e.value&&(r(Ln(e)?Nn(e.value):e.value),V!==null&&s.add(V)),On(()=>{C&&e.type==="checkbox"&&ws();var a=t();if(e===document.activeElement){var n=Kr??V;if(s.has(n))return}Ln(e)&&a===Nn(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Cr(e,t,r=t){cs(e,"change",s=>{var a=s?e.defaultChecked:e.checked;r(a)}),Pn(t)==null&&r(e.checked),On(()=>{var s=t();e.checked=!!s})}function Ln(e){var t=e.type;return t==="number"||t==="range"}function Nn(e){return e===""?null:+e}function Os(e,t){return e===t||(e==null?void 0:e[Or])===t}function ll(e={},t,r,s){return _i(()=>{var a,n;return On(()=>{a=n,n=[],Pn(()=>{e!==r(...n)&&(t(e,...n),a&&Os(r(...a),e)&&t(null,...a))})}),()=>{Gr(()=>{n&&Os(r(...n),e)&&t(null,...n)})}}),e}if(C){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;Gi(t)},set:s=>{r=s}})}};var No=e;e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}const ol="5";var Bs;typeof window<"u"&&((Bs=window.__svelte??(window.__svelte={})).v??(Bs.v=new Set)).add(ol);const _s="/api";async function Qt(e){const t=await fetch(`${_s}${e}`);if(!t.ok)throw new Error(`API error: ${t.status} ${t.statusText}`);return t.json()}async function hs(e,t){const r=await fetch(`${_s}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const s=await r.json().catch(()=>({error:r.statusText}));throw new Error(s.error||`API error: ${r.status}`)}return r.json()}async function cl(e,t){const r=await fetch(`${_s}${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const s=await r.json().catch(()=>({error:r.statusText}));throw new Error(s.error||`API error: ${r.status}`)}return r.json()}async function vl(){return Qt("/projects")}async function ul(e){return Qt(`/projects/${e}/health`)}async function Ps(e){return Qt(`/projects/${e}/files`)}async function Rs(e){return Qt(`/projects/${e}/decisions`)}async function Ds(e){return Qt(`/projects/${e}/issues`)}async function Fs(e){return Qt(`/projects/${e}/learnings`)}async function fl(e){return Qt(`/projects/${e}/sessions`)}async function dl(e){return Qt(`/projects/${e}/relationships`)}async function _l(e){return Qt(`/projects/${e}/graph`)}async function hl(e,t){return hs(`/projects/${e}/issues`,t)}async function pl(e,t,r){return cl(`/projects/${e}/issues/${t}/resolve`,{resolution:r})}async function ml(e,t){return hs(`/projects/${e}/decisions`,t)}async function gl(e,t){return hs(`/projects/${e}/learnings`,t)}var yl=S('<div class="card error-card svelte-bqunow"><p> </p></div>'),bl=S('<div class="fragile-item svelte-bqunow"><div class="fragile-bar svelte-bqunow"></div> <div class="fragile-info svelte-bqunow"><span class="mono"> </span> <span class="fragile-score svelte-bqunow"> </span></div></div>'),wl=S('<div class="card section svelte-bqunow"><h3 class="svelte-bqunow">Fragile Files</h3> <div class="fragile-grid svelte-bqunow"></div></div>'),xl=S('<span class="badge badge-hot" style="background: rgba(16, 185, 129, 0.2); color: #10b981">success</span>'),kl=S('<span class="badge badge-warm">partial</span>'),El=S('<span class="badge badge-hot">failed</span>'),Sl=S('<span class="badge badge-cold">active</span>'),Il=S('<tr><td class="mono"> </td><td> </td><td class="text-muted svelte-bqunow"> </td><td><!></td></tr>'),Tl=S('<div class="card section svelte-bqunow"><h3 class="svelte-bqunow">Recent Sessions</h3> <table><thead><tr><th>#</th><th>Goal</th><th>Outcome</th><th>Status</th></tr></thead><tbody></tbody></table></div>'),Al=S('<div class="page-header svelte-bqunow"><h1> </h1> <span> </span></div> <div class="grid grid-4 stats-grid svelte-bqunow"><button class="card stat-card clickable svelte-bqunow"><div class="stat-value svelte-bqunow"> </div> <div class="stat-label svelte-bqunow">Files</div></button> <button class="card stat-card clickable svelte-bqunow"><div class="stat-value svelte-bqunow"> </div> <div class="stat-label svelte-bqunow">Open Issues</div></button> <button class="card stat-card clickable svelte-bqunow"><div class="stat-value svelte-bqunow"> </div> <div class="stat-label svelte-bqunow">Decisions</div></button> <button class="card stat-card clickable svelte-bqunow"><div class="stat-value svelte-bqunow"> </div> <div class="stat-label svelte-bqunow">Debt Score</div></button></div> <!> <!>',1),Cl=S('<div class="loading svelte-bqunow">Loading...</div>'),jl=S('<div class="health-page svelte-bqunow"><!></div>');function Ls(e,t){zr(t,!0);let r=R(null),s=R(null);zt(()=>{t.projectId&&ul(t.projectId).then(_=>{w(r,_,!0),w(s,null)}).catch(_=>{w(s,_.message,!0)})});function a(_){return _>=8?"var(--danger)":_>=6?"var(--warning)":_>=4?"var(--accent-1)":"var(--accent-4)"}function n(_){window.location.hash=_}var l=jl(),o=c(l);{var v=_=>{var u=yl(),d=c(u),m=c(d);U(()=>T(m,`Failed to load health data: ${i(s)??""}`)),k(_,u)},p=_=>{var u=He(),d=Ce(u);{var m=E=>{var b=Al(),I=Ce(b),j=c(I),ne=c(j),se=f(j,2),ie=c(se),ye=f(I,2),ve=c(ye);ve.__click=()=>n("/memory?tab=files");var ue=c(ve),at=c(ue),Ne=f(ve,2);Ne.__click=()=>n("/memory?tab=issues");var M=c(Ne),be=c(M),we=f(Ne,2);we.__click=()=>n("/memory?tab=decisions");var Ee=c(we),Se=c(Ee),_e=f(we,2);_e.__click=()=>n("/memory?tab=issues&type=tech-debt");var je=c(_e),lt=c(je),B=f(ye,2);{var ce=qe=>{var Ze=wl(),Oe=f(c(Ze),2);kt(Oe,21,()=>i(r).fragileFiles,wr,(xe,$e)=>{var he=bl(),ot=c(he),ct=f(ot,2),Re=c(ct),Ot=c(Re),or=f(Re,2),Xt=c(or);U(A=>{xt(ot,`width: ${i($e).fragility*10}%; background: ${A??""}`),T(Ot,i($e).path),T(Xt,`${i($e).fragility??""}/10`)},[()=>a(i($e).fragility)]),k(xe,he)}),k(qe,Ze)};q(B,qe=>{i(r).fragileFiles.length>0&&qe(ce)})}var Ie=f(B,2);{var Ke=qe=>{var Ze=Tl(),Oe=f(c(Ze),2),xe=f(c(Oe));kt(xe,21,()=>i(r).recentSessions,wr,($e,he)=>{var ot=Il(),ct=c(ot),Re=c(ct),Ot=f(ct),or=c(Ot),Xt=f(Ot),A=c(Xt),P=f(Xt),le=c(P);{var ke=ee=>{var F=xl();k(ee,F)},fe=ee=>{var F=He(),pe=Ce(F);{var Te=x=>{var L=kl();k(x,L)},et=x=>{var L=He(),g=Ce(L);{var N=W=>{var de=El();k(W,de)},$=W=>{var de=Sl();k(W,de)};q(g,W=>{i(he).success===0?W(N):W($,!1)},!0)}k(x,L)};q(pe,x=>{i(he).success===1?x(Te):x(et,!1)},!0)}k(ee,F)};q(le,ee=>{i(he).success===2?ee(ke):ee(fe,!1)})}U(()=>{T(Re,i(he).session_number??i(he).id),T(or,i(he).goal??"—"),T(A,i(he).outcome??"—")}),k($e,ot)}),k(qe,Ze)};q(Ie,qe=>{i(r).recentSessions.length>0&&qe(Ke)})}U(()=>{T(ne,i(r).project.name),Ae(se,1,`badge badge-${i(r).project.mode??""}`,"svelte-bqunow"),T(ie,i(r).project.mode),T(at,i(r).fileCount),xt(M,`color: ${i(r).openIssues>0?"var(--warning)":"var(--accent-4)"}`),T(be,i(r).openIssues),T(Se,i(r).activeDecisions),xt(je,`color: ${i(r).techDebtScore>50?"var(--danger)":"var(--accent-4)"}`),T(lt,i(r).techDebtScore)}),k(E,b)},y=E=>{var b=Cl();k(E,b)};q(d,E=>{i(r)?E(m):E(y,!1)},!0)}k(_,u)};q(o,_=>{i(s)?_(v):_(p,!1)})}k(e,l),Wr()}vn(["click"]);const ql="modulepreload",Ol=function(e){return"/"+e},Ns={},Pl=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){let l=function(p){return Promise.all(p.map(_=>Promise.resolve(_).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),v=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=l(r.map(p=>{if(p=Ol(p),p in Ns)return;Ns[p]=!0;const _=p.endsWith(".css"),u=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${u}`))return;const d=document.createElement("link");if(d.rel=_?"stylesheet":ql,_||(d.as="script"),d.crossOrigin="",d.href=p,v&&d.setAttribute("nonce",v),document.head.appendChild(d),_)return new Promise((m,y)=>{d.addEventListener("load",m),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${p}`)))})}))}function n(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&n(o.reason);return t().catch(n)})};var Rl=S('<div class="card error-card svelte-ywtowa"><p> </p></div>'),Dl=S('<div class="empty svelte-ywtowa">No graph data available. Add files, decisions, and relationships to see the knowledge graph.</div>'),Fl=S('<div class="empty svelte-ywtowa">No nodes match the current filters. Try adjusting filters or disabling "Hide disconnected".</div>'),Ll=S("<span> </span>"),Nl=S('<div class="rel-item svelte-ywtowa"><span class="rel-type svelte-ywtowa"> </span> <span class="rel-arrow svelte-ywtowa">→</span> <span class="rel-label svelte-ywtowa"> </span></div>'),$l=S('<div class="rel-group svelte-ywtowa"><h4 class="svelte-ywtowa">Incoming</h4> <!></div>'),Ml=S('<div class="rel-item svelte-ywtowa"><span class="rel-label svelte-ywtowa"> </span> <span class="rel-arrow svelte-ywtowa">→</span> <span class="rel-type svelte-ywtowa"> </span></div>'),Bl=S('<div class="rel-group svelte-ywtowa"><h4 class="svelte-ywtowa">Outgoing</h4> <!></div>'),Hl=S('<div class="relationships-section svelte-ywtowa"><!> <!></div>'),Ul=S('<p class="no-relationships svelte-ywtowa">No relationships recorded</p>'),Vl=S('<div class="detail-panel card svelte-ywtowa"><div class="detail-header svelte-ywtowa"><span class="detail-type svelte-ywtowa"> </span> <button class="btn">Close</button></div> <h3> </h3> <!> <!></div>'),zl=S('<div class="legend-item svelte-ywtowa"><span class="legend-dot svelte-ywtowa"></span> <span> </span></div>'),Wl=S('<div class="graph-page svelte-ywtowa"><!> <div class="filter-panel card svelte-ywtowa"><div class="filter-row svelte-ywtowa"><input type="text" class="search-input svelte-ywtowa" placeholder="Search nodes..."/></div> <div class="filter-row svelte-ywtowa"><label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Files</label> <label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Decisions</label> <label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Learnings</label> <label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Issues</label> <label class="filter-checkbox svelte-ywtowa"><input type="checkbox" class="svelte-ywtowa"/> <span class="filter-dot svelte-ywtowa"></span> Sessions</label> <label class="filter-checkbox connect-orphans svelte-ywtowa" title="Connect isolated nodes to the main graph"><input type="checkbox" class="svelte-ywtowa"/> Connect orphans</label></div></div> <div class="graph-container svelte-ywtowa"><!></div> <!> <div class="legend card svelte-ywtowa"></div></div>');function Gl(e,t){zr(t,!0);let r,s=R(null),a=R(Pe([])),n=R(null),l=R(null),o=R(""),v=R(Pe(new Set)),p=R(!0),_=R(!0),u=R(!0),d=R(!0),m=R(!0),y=R(!0);const E={file:"#06b6d4",decision:"#8b5cf6",learning:"#10b981",issue:"#ef4444",session:"#f59e0b"};function b(A){const P={file:i(p),decision:i(_),learning:i(u),issue:i(d),session:i(m)};let le=A.nodes.filter(F=>P[F.type]??!0);const ke=new Set(le.map(F=>F.id));let fe=A.edges.filter(F=>{const pe=typeof F.source=="string"?F.source:F.source.id,Te=typeof F.target=="string"?F.target:F.target.id;return ke.has(pe)&&ke.has(Te)});const ee=new Set;for(const F of fe){const pe=typeof F.source=="string"?F.source:F.source.id,Te=typeof F.target=="string"?F.target:F.target.id;ee.add(pe),ee.add(Te)}if(i(y)){const F=le.filter(pe=>!ee.has(pe.id));for(const pe of F){let Te=le.find(et=>et.type===pe.type&&ee.has(et.id));Te||(Te=le.find(et=>ee.has(et.id))),Te&&(fe.push({source:pe.id,target:Te.id,type:"virtual",strength:1}),ee.add(pe.id))}}return{nodes:le,edges:fe}}function I(A){const[P,le]=A.split(":"),ke=parseInt(le,10),fe=i(a).filter(F=>F.target_type===P&&F.target_id===ke),ee=i(a).filter(F=>F.source_type===P&&F.source_id===ke);return{incoming:fe,outgoing:ee}}function j(){if(!i(o)||!i(s)){w(v,new Set,!0);return}const A=i(o).toLowerCase();w(v,new Set(i(s).nodes.filter(P=>P.label.toLowerCase().includes(A)).map(P=>P.id)),!0)}zt(()=>{j()}),zt(()=>{t.projectId&&Promise.all([_l(t.projectId),dl(t.projectId)]).then(([A,P])=>{w(s,A,!0),w(a,P,!0),w(l,null),ne(b(A))}).catch(A=>{w(l,A.message,!0)})}),zt(()=>{i(s)&&(i(p),i(_),i(u),i(d),i(m),i(y),ne(b(i(s))))});async function ne(A){if(!r||!A||A.nodes.length===0)return;const P=await Pl(()=>import("./index-6PKoUFgn.js"),[]),le=new Map;for(const g of A.edges){const N=typeof g.source=="string"?g.source:g.source.id,$=typeof g.target=="string"?g.target:g.target.id;le.set(N,(le.get(N)||0)+1),le.set($,(le.get($)||0)+1)}const ke=g=>{const N=le.get(g)||0;return Math.min(35,6+Math.sqrt(N)*2)},fe=r.clientWidth,ee=r.clientHeight;P.select(r).selectAll("svg").remove();const F=P.select(r).append("svg").attr("width",fe).attr("height",ee).attr("viewBox",[0,0,fe,ee]),pe=F.append("g");F.call(P.zoom().scaleExtent([.1,4]).on("zoom",g=>{pe.attr("transform",g.transform)}));const Te=P.forceSimulation(A.nodes).force("link",P.forceLink(A.edges).id(g=>g.id).distance(g=>g.type==="virtual"?900:450).strength(g=>g.type==="virtual"?.02:.1)).force("charge",P.forceManyBody().strength(-600)).force("center",P.forceCenter(fe/2,ee/2)).force("collision",P.forceCollide().radius(g=>ke(g.id)+150).strength(1)).force("x",P.forceX(fe/2).strength(.008)).force("y",P.forceY(ee/2).strength(.008)),et=pe.append("g").selectAll("line").data(A.edges).join("line").attr("stroke",g=>g.type==="virtual"?"#334155":"#4a90a4").attr("stroke-opacity",g=>g.type==="virtual"?.3:.6).attr("stroke-width",g=>g.type==="virtual"?1:Math.max(1,g.strength/3)).attr("stroke-dasharray",g=>g.type==="virtual"?"3,3":"none"),x=pe.append("g").selectAll("circle").data(A.nodes).join("circle").attr("r",g=>ke(g.id)).attr("fill",g=>E[g.type]||"#64748b").attr("stroke",g=>i(v).has(g.id)?"#fff":"#0a0e1a").attr("stroke-width",g=>i(v).has(g.id)?3:1.5).attr("cursor","pointer").style("filter",g=>i(v).size>0&&!i(v).has(g.id)?"opacity(0.3)":"none").on("click",(g,N)=>{w(n,N,!0)}).call(P.drag().on("start",(g,N)=>{g.active||Te.alphaTarget(.3).restart(),N.fx=N.x,N.fy=N.y}).on("drag",(g,N)=>{N.fx=g.x,N.fy=g.y}).on("end",(g,N)=>{g.active||Te.alphaTarget(0),N.fx=null,N.fy=null})),L=pe.append("g").selectAll("text").data(A.nodes).join("text").text(g=>g.label.length>30?g.label.substring(0,30)+"...":g.label).attr("font-size","14px").attr("font-weight","500").attr("fill","#e2e8f0").attr("dx",16).attr("dy",5);Te.on("tick",()=>{et.attr("x1",g=>g.source.x).attr("y1",g=>g.source.y).attr("x2",g=>g.target.x).attr("y2",g=>g.target.y),x.attr("cx",g=>g.x).attr("cy",g=>g.y),L.attr("x",g=>g.x).attr("y",g=>g.y)})}var se=Wl(),ie=c(se);{var ye=A=>{var P=Rl(),le=c(P),ke=c(le);U(()=>T(ke,`Failed to load graph: ${i(l)??""}`)),k(A,P)};q(ie,A=>{i(l)&&A(ye)})}var ve=f(ie,2),ue=c(ve),at=c(ue),Ne=f(ue,2),M=c(Ne),be=c(M),we=f(be,2),Ee=f(M,2),Se=c(Ee),_e=f(Se,2),je=f(Ee,2),lt=c(je),B=f(lt,2),ce=f(je,2),Ie=c(ce),Ke=f(Ie,2),qe=f(ce,2),Ze=c(qe),Oe=f(Ze,2),xe=f(qe,2),$e=c(xe),he=f(ve,2),ot=c(he);{var ct=A=>{var P=Dl();k(A,P)},Re=A=>{var P=He(),le=Ce(P);{var ke=fe=>{var ee=Fl();k(fe,ee)};q(le,fe=>{b(i(s)).nodes.length===0&&fe(ke)},!0)}k(A,P)};q(ot,A=>{!i(s)||i(s).nodes.length===0?A(ct):A(Re,!1)})}ll(he,A=>r=A,()=>r);var Ot=f(he,2);{var or=A=>{const P=bn(()=>I(i(n).id));var le=Vl(),ke=c(le),fe=c(ke),ee=c(fe),F=f(fe,2);F.__click=()=>w(n,null);var pe=f(ke,2),Te=c(pe),et=f(pe,2);{var x=$=>{var W=Ll(),de=c(W);U(()=>{Ae(W,1,`badge badge-${i(n).temperature??""}`,"svelte-ywtowa"),T(de,i(n).temperature)}),k($,W)};q(et,$=>{i(n).temperature&&$(x)})}var L=f(et,2);{var g=$=>{var W=Hl(),de=c(W);{var ze=Q=>{var me=$l(),X=f(c(me),2);kt(X,17,()=>i(P).incoming,wr,(oe,G)=>{var ae=Nl(),Z=c(ae),D=c(Z),H=f(Z,4),O=c(H);U(()=>{T(D,`${i(G).source_type??""}:${i(G).source_id??""}`),T(O,i(G).relationship)}),k(oe,ae)}),k(Q,me)};q(de,Q=>{i(P).incoming.length>0&&Q(ze)})}var We=f(de,2);{var De=Q=>{var me=Bl(),X=f(c(me),2);kt(X,17,()=>i(P).outgoing,wr,(oe,G)=>{var ae=Ml(),Z=c(ae),D=c(Z),H=f(Z,4),O=c(H);U(()=>{T(D,i(G).relationship),T(O,`${i(G).target_type??""}:${i(G).target_id??""}`)}),k(oe,ae)}),k(Q,me)};q(We,Q=>{i(P).outgoing.length>0&&Q(De)})}k($,W)},N=$=>{var W=Ul();k($,W)};q(L,$=>{i(P).incoming.length>0||i(P).outgoing.length>0?$(g):$(N,!1)})}U(()=>{xt(fe,`color: ${E[i(n).type]??""}`),T(ee,i(n).type),T(Te,i(n).label)}),k(A,le)};q(Ot,A=>{i(n)&&A(or)})}var Xt=f(Ot,2);kt(Xt,21,()=>Object.entries(E),wr,(A,P)=>{var le=bn(()=>$i(i(P),2));let ke=()=>i(le)[0],fe=()=>i(le)[1];var ee=zl(),F=c(ee),pe=f(F,2),Te=c(pe);U(()=>{xt(F,`background: ${fe()??""}`),T(Te,ke())}),k(A,ee)}),U(()=>{xt(we,`background: ${E.file}`),xt(_e,`background: ${E.decision}`),xt(B,`background: ${E.learning}`),xt(Ke,`background: ${E.issue}`),xt(Oe,`background: ${E.session}`)}),dt(at,()=>i(o),A=>w(o,A)),Cr(be,()=>i(p),A=>w(p,A)),Cr(Se,()=>i(_),A=>w(_,A)),Cr(lt,()=>i(u),A=>w(u,A)),Cr(Ie,()=>i(d),A=>w(d,A)),Cr(Ze,()=>i(m),A=>w(m,A)),Cr($e,()=>i(y),A=>w(y,A)),k(e,se),Wr()}vn(["click"]);var Yl=S('<button class="btn btn-primary svelte-mdsmin"> </button>'),Jl=S('<span class="badge badge-hot"> </span>'),Kl=S('<span class="badge badge-archived">archived</span>'),Ql=S('<div><div class="item-title mono svelte-mdsmin"> </div> <div class="item-meta svelte-mdsmin"><span> </span> <!> <!></div></div>'),Xl=S('<div><div class="item-title svelte-mdsmin"> </div> <div class="item-meta svelte-mdsmin"><span> </span> <span class="text-muted svelte-mdsmin"> </span></div></div>'),Zl=S('<div><div class="item-title svelte-mdsmin"> </div> <div class="item-meta svelte-mdsmin"><span> </span> <span class="text-muted svelte-mdsmin"> </span></div></div>'),eo=S('<div><div class="item-title svelte-mdsmin"> </div> <div class="item-meta svelte-mdsmin"><span> </span> <span class="text-muted svelte-mdsmin"> </span></div></div>'),to=S('<div class="detail-section svelte-mdsmin"><h4 class="svelte-mdsmin">Purpose</h4> <p class="svelte-mdsmin"> </p></div>'),ro=S('<div class="detail-section svelte-mdsmin"><h4 class="svelte-mdsmin">Decision</h4> <p class="svelte-mdsmin"> </p></div>'),no=S('<div class="detail-section svelte-mdsmin"><h4 class="svelte-mdsmin">Content</h4> <p class="svelte-mdsmin"> </p></div>'),so=S('<div class="detail-section svelte-mdsmin"><h4 class="svelte-mdsmin">Description</h4> <p class="svelte-mdsmin"> </p></div>'),io=S('<span class="text-muted svelte-mdsmin"> </span>'),ao=S('<div class="detail-actions svelte-mdsmin"><button class="btn btn-success svelte-mdsmin">Resolve Issue</button></div>'),lo=S('<h3> </h3> <div class="detail-type svelte-mdsmin"> </div> <!> <!> <!> <!> <div class="detail-meta svelte-mdsmin"><!></div> <!>',1),oo=S('<div class="empty svelte-mdsmin">Select an item to view details</div>'),co=S('<div class="error-message svelte-mdsmin"> </div>'),vo=S('<form><div class="form-group svelte-mdsmin"><label for="issue-title" class="svelte-mdsmin">Title *</label> <input id="issue-title" type="text" required class="svelte-mdsmin"/></div> <div class="form-group svelte-mdsmin"><label for="issue-desc" class="svelte-mdsmin">Description</label> <textarea id="issue-desc" rows="3" class="svelte-mdsmin"></textarea></div> <div class="form-row svelte-mdsmin"><div class="form-group svelte-mdsmin"><label for="issue-type" class="svelte-mdsmin">Type</label> <select id="issue-type" class="svelte-mdsmin"><option>Bug</option><option>Tech Debt</option><option>Enhancement</option><option>Question</option><option>Potential</option></select></div> <div class="form-group svelte-mdsmin"><label for="issue-severity" class="svelte-mdsmin">Severity (1-10)</label> <input id="issue-severity" type="number" min="1" max="10" class="svelte-mdsmin"/></div></div> <div class="form-group svelte-mdsmin"><label for="issue-workaround" class="svelte-mdsmin">Workaround</label> <textarea id="issue-workaround" rows="2" class="svelte-mdsmin"></textarea></div> <div class="modal-footer svelte-mdsmin"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary svelte-mdsmin"> </button></div></form>'),uo=S('<form><div class="form-group svelte-mdsmin"><label for="decision-title" class="svelte-mdsmin">Title *</label> <input id="decision-title" type="text" required class="svelte-mdsmin"/></div> <div class="form-group svelte-mdsmin"><label for="decision-text" class="svelte-mdsmin">Decision *</label> <textarea id="decision-text" rows="3" required class="svelte-mdsmin"></textarea></div> <div class="form-group svelte-mdsmin"><label for="decision-reasoning" class="svelte-mdsmin">Reasoning</label> <textarea id="decision-reasoning" rows="3" class="svelte-mdsmin"></textarea></div> <div class="modal-footer svelte-mdsmin"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary svelte-mdsmin"> </button></div></form>'),fo=S('<form><div class="form-group svelte-mdsmin"><label for="learning-title" class="svelte-mdsmin">Title *</label> <input id="learning-title" type="text" required class="svelte-mdsmin"/></div> <div class="form-group svelte-mdsmin"><label for="learning-content" class="svelte-mdsmin">Content *</label> <textarea id="learning-content" rows="4" required class="svelte-mdsmin"></textarea></div> <div class="form-group svelte-mdsmin"><label for="learning-category" class="svelte-mdsmin">Category</label> <select id="learning-category" class="svelte-mdsmin"><option>Pattern</option><option>Gotcha</option><option>Preference</option><option>Convention</option><option>Architecture</option></select></div> <div class="form-group svelte-mdsmin"><label for="learning-context" class="svelte-mdsmin">Context</label> <textarea id="learning-context" rows="2" class="svelte-mdsmin"></textarea></div> <div class="modal-footer svelte-mdsmin"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary svelte-mdsmin"> </button></div></form>'),_o=S('<div class="modal-overlay svelte-mdsmin"><div class="modal card svelte-mdsmin"><div class="modal-header svelte-mdsmin"><h3 class="svelte-mdsmin"> </h3> <button class="btn">×</button></div> <!> <!></div></div>'),ho=S('<div class="error-message svelte-mdsmin"> </div>'),po=S('<div class="modal-overlay svelte-mdsmin"><div class="modal card svelte-mdsmin"><div class="modal-header svelte-mdsmin"><h3 class="svelte-mdsmin">Resolve Issue</h3> <button class="btn">×</button></div> <!> <p class="modal-context svelte-mdsmin">Resolving: <strong> </strong></p> <form><div class="form-group svelte-mdsmin"><label for="resolution" class="svelte-mdsmin">Resolution *</label> <textarea id="resolution" rows="4" required placeholder="How was this issue resolved?" class="svelte-mdsmin"></textarea></div> <div class="modal-footer svelte-mdsmin"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-success svelte-mdsmin"> </button></div></form></div></div>'),mo=S('<div class="memory-page svelte-mdsmin"><div class="toolbar svelte-mdsmin"><div class="tabs svelte-mdsmin"><button> </button> <button> </button> <button> </button> <button> </button></div> <!> <input class="search-input svelte-mdsmin" type="text" placeholder="Search memories..."/></div> <div class="content-layout svelte-mdsmin"><div class="list-panel svelte-mdsmin"><!></div> <div class="detail-panel card svelte-mdsmin"><!></div></div> <!> <!></div>');function go(e,t){var et;zr(t,!0);let r=R(!1),s=R(!1),a=R(!1),n=R(null),l=R(Pe({title:"",severity:5,type:"bug"})),o=R(Pe({title:"",decision:""})),v=R(Pe({title:"",content:"",category:"pattern"})),p=R("");function _(){var L;const x=(L=t.routeParams)==null?void 0:L.get("tab");return x==="files"||x==="decisions"||x==="learnings"||x==="issues"?x:"files"}let u=R(Pe(_())),d=R(Pe(((et=t.routeParams)==null?void 0:et.get("type"))??null)),m=R("");zt(()=>{var L,g;const x=(L=t.routeParams)==null?void 0:L.get("tab");(x==="files"||x==="decisions"||x==="learnings"||x==="issues")&&w(u,x,!0),w(d,((g=t.routeParams)==null?void 0:g.get("type"))??null,!0)});let y=R(Pe([])),E=R(Pe([])),b=R(Pe([])),I=R(Pe([])),j=R(null);zt(()=>{t.projectId&&(Ps(t.projectId).then(x=>w(y,x,!0)).catch(()=>{}),Rs(t.projectId).then(x=>w(E,x,!0)).catch(()=>{}),Fs(t.projectId).then(x=>w(b,x,!0)).catch(()=>{}),Ds(t.projectId).then(x=>w(I,x,!0)).catch(()=>{}))});function ne(x,L=!1){let g=x;if(L&&i(d)&&(g=g.filter(N=>N.type===i(d))),i(m)){const N=i(m).toLowerCase();g=g.filter($=>`${$.title??""} ${$.path??""} ${$.content??""} ${$.purpose??""}`.toLowerCase().includes(N))}return g}function se(x){return x||"cold"}function ie(){Ps(t.projectId).then(x=>w(y,x,!0)).catch(()=>{}),Rs(t.projectId).then(x=>w(E,x,!0)).catch(()=>{}),Fs(t.projectId).then(x=>w(b,x,!0)).catch(()=>{}),Ds(t.projectId).then(x=>w(I,x,!0)).catch(()=>{})}async function ye(){if(i(l).title.trim()){w(a,!0),w(n,null);try{await hl(t.projectId,i(l)),w(r,!1),w(l,{title:"",severity:5,type:"bug"},!0),ie()}catch(x){w(n,x instanceof Error?x.message:"Failed to create issue",!0)}finally{w(a,!1)}}}async function ve(){if(!(!i(o).title.trim()||!i(o).decision.trim())){w(a,!0),w(n,null);try{await ml(t.projectId,i(o)),w(r,!1),w(o,{title:"",decision:""},!0),ie()}catch(x){w(n,x instanceof Error?x.message:"Failed to create decision",!0)}finally{w(a,!1)}}}async function ue(){if(!(!i(v).title.trim()||!i(v).content.trim())){w(a,!0),w(n,null);try{await gl(t.projectId,i(v)),w(r,!1),w(v,{title:"",content:"",category:"pattern"},!0),ie()}catch(x){w(n,x instanceof Error?x.message:"Failed to create learning",!0)}finally{w(a,!1)}}}async function at(){if(!(!i(j)||!i(p).trim())){w(a,!0),w(n,null);try{await pl(t.projectId,i(j).id,i(p)),w(s,!1),w(p,""),w(j,null),ie()}catch(x){w(n,x instanceof Error?x.message:"Failed to resolve issue",!0)}finally{w(a,!1)}}}function Ne(){w(n,null),w(r,!0)}function M(){w(r,!1),w(n,null)}function be(){w(p,""),w(n,null),w(s,!0)}var we=mo(),Ee=c(we),Se=c(Ee),_e=c(Se);_e.__click=()=>w(u,"files");let je;var lt=c(_e),B=f(_e,2);B.__click=()=>w(u,"decisions");let ce;var Ie=c(B),Ke=f(B,2);Ke.__click=()=>w(u,"learnings");let qe;var Ze=c(Ke),Oe=f(Ke,2);Oe.__click=()=>w(u,"issues");let xe;var $e=c(Oe),he=f(Se,2);{var ot=x=>{var L=Yl();L.__click=Ne;var g=c(L);U(()=>T(g,`+ Add ${i(u)==="decisions"?"Decision":i(u)==="learnings"?"Learning":"Issue"}`)),k(x,L)};q(he,x=>{i(u)!=="files"&&x(ot)})}var ct=f(he,2),Re=f(Ee,2),Ot=c(Re),or=c(Ot);{var Xt=x=>{var L=He(),g=Ce(L);kt(g,17,()=>ne(i(y)),N=>N.id,(N,$)=>{var W=Ql();let de;W.__click=()=>w(j,{...i($),type:"file"},!0);var ze=c(W),We=c(ze),De=f(ze,2),Q=c(De),me=c(Q),X=f(Q,2);{var oe=Z=>{var D=Jl(),H=c(D);U(()=>T(H,`fragile:${i($).fragility??""}`)),k(Z,D)};q(X,Z=>{i($).fragility>=7&&Z(oe)})}var G=f(X,2);{var ae=Z=>{var D=Kl();k(Z,D)};q(G,Z=>{i($).archived_at&&Z(ae)})}U(Z=>{var D,H;de=Ae(W,1,"list-item svelte-mdsmin",null,de,{selected:((D=i(j))==null?void 0:D.id)===i($).id&&((H=i(j))==null?void 0:H.type)==="file"}),T(We,i($).path),Ae(Q,1,`badge badge-${Z??""}`,"svelte-mdsmin"),T(me,i($).temperature??"cold")},[()=>se(i($).temperature)]),k(N,W)}),k(x,L)},A=x=>{var L=He(),g=Ce(L);{var N=W=>{var de=He(),ze=Ce(de);kt(ze,17,()=>ne(i(E)),We=>We.id,(We,De)=>{var Q=Xl();let me;Q.__click=()=>w(j,{...i(De),type:"decision"},!0);var X=c(Q),oe=c(X),G=f(X,2),ae=c(G),Z=c(ae),D=f(ae,2),H=c(D);U(O=>{var J,te;me=Ae(Q,1,"list-item svelte-mdsmin",null,me,{selected:((J=i(j))==null?void 0:J.id)===i(De).id&&((te=i(j))==null?void 0:te.type)==="decision"}),T(oe,i(De).title),Ae(ae,1,`badge badge-${O??""}`,"svelte-mdsmin"),T(Z,i(De).temperature??"cold"),T(H,i(De).status)},[()=>se(i(De).temperature)]),k(We,Q)}),k(W,de)},$=W=>{var de=He(),ze=Ce(de);{var We=Q=>{var me=He(),X=Ce(me);kt(X,17,()=>ne(i(b)),oe=>oe.id,(oe,G)=>{var ae=Zl();let Z;ae.__click=()=>w(j,{...i(G),type:"learning"},!0);var D=c(ae),H=c(D),O=f(D,2),J=c(O),te=c(J),ge=f(J,2),vt=c(ge);U(ut=>{var ft,It;Z=Ae(ae,1,"list-item svelte-mdsmin",null,Z,{selected:((ft=i(j))==null?void 0:ft.id)===i(G).id&&((It=i(j))==null?void 0:It.type)==="learning"}),T(H,i(G).title),Ae(J,1,`badge badge-${ut??""}`,"svelte-mdsmin"),T(te,i(G).temperature??"cold"),T(vt,i(G).category)},[()=>se(i(G).temperature)]),k(oe,ae)}),k(Q,me)},De=Q=>{var me=He(),X=Ce(me);{var oe=G=>{var ae=He(),Z=Ce(ae);kt(Z,17,()=>ne(i(I),!0),D=>D.id,(D,H)=>{var O=eo();let J;O.__click=()=>w(j,{...i(H),type:"issue"},!0);var te=c(O),ge=c(te),vt=f(te,2),ut=c(vt);let ft;var It=c(ut),Nt=f(ut,2),$t=c(Nt);U(()=>{var Ge,Zt;J=Ae(O,1,"list-item svelte-mdsmin",null,J,{selected:((Ge=i(j))==null?void 0:Ge.id)===i(H).id&&((Zt=i(j))==null?void 0:Zt.type)==="issue"}),T(ge,i(H).title),ft=Ae(ut,1,"badge",null,ft,{"badge-hot":i(H).severity>=7,"badge-warm":i(H).severity>=4&&i(H).severity<7,"badge-cold":i(H).severity<4}),T(It,`sev:${i(H).severity??""}`),T($t,i(H).status)}),k(D,O)}),k(G,ae)};q(X,G=>{i(u)==="issues"&&G(oe)},!0)}k(Q,me)};q(ze,Q=>{i(u)==="learnings"?Q(We):Q(De,!1)},!0)}k(W,de)};q(g,W=>{i(u)==="decisions"?W(N):W($,!1)},!0)}k(x,L)};q(or,x=>{i(u)==="files"?x(Xt):x(A,!1)})}var P=f(Ot,2),le=c(P);{var ke=x=>{var L=lo(),g=Ce(L),N=c(g),$=f(g,2),W=c($),de=f($,2);{var ze=O=>{var J=to(),te=f(c(J),2),ge=c(te);U(()=>T(ge,i(j).purpose)),k(O,J)};q(de,O=>{i(j).purpose&&O(ze)})}var We=f(de,2);{var De=O=>{var J=ro(),te=f(c(J),2),ge=c(te);U(()=>T(ge,i(j).decision)),k(O,J)};q(We,O=>{i(j).decision&&O(De)})}var Q=f(We,2);{var me=O=>{var J=no(),te=f(c(J),2),ge=c(te);U(()=>T(ge,i(j).content)),k(O,J)};q(Q,O=>{i(j).content&&O(me)})}var X=f(Q,2);{var oe=O=>{var J=so(),te=f(c(J),2),ge=c(te);U(()=>T(ge,i(j).description)),k(O,J)};q(X,O=>{i(j).description&&O(oe)})}var G=f(X,2),ae=c(G);{var Z=O=>{var J=io(),te=c(J);U(ge=>T(te,`Created: ${ge??""}`),[()=>new Date(i(j).created_at).toLocaleDateString()]),k(O,J)};q(ae,O=>{i(j).created_at&&O(Z)})}var D=f(G,2);{var H=O=>{var J=ao(),te=c(J);te.__click=be,k(O,J)};q(D,O=>{i(j).type==="issue"&&i(j).status==="open"&&O(H)})}U(()=>{T(N,i(j).title||i(j).path),T(W,i(j).type)}),k(x,L)},fe=x=>{var L=oo();k(x,L)};q(le,x=>{i(j)?x(ke):x(fe,!1)})}var ee=f(Re,2);{var F=x=>{var L=_o();L.__click=M;var g=c(L);g.__click=X=>X.stopPropagation();var N=c(g),$=c(N),W=c($),de=f($,2);de.__click=M;var ze=f(N,2);{var We=X=>{var oe=co(),G=c(oe);U(()=>T(G,i(n))),k(X,oe)};q(ze,X=>{i(n)&&X(We)})}var De=f(ze,2);{var Q=X=>{var oe=vo(),G=c(oe),ae=f(c(G),2),Z=f(G,2),D=f(c(Z),2),H=f(Z,2),O=c(H),J=f(c(O),2),te=c(J);te.value=te.__value="bug";var ge=f(te);ge.value=ge.__value="tech-debt";var vt=f(ge);vt.value=vt.__value="enhancement";var ut=f(vt);ut.value=ut.__value="question";var ft=f(ut);ft.value=ft.__value="potential";var It=f(O,2),Nt=f(c(It),2),$t=f(H,2),Ge=f(c($t),2),Zt=f($t,2),Ir=c(Zt);Ir.__click=M;var Tr=f(Ir,2),un=c(Tr);U(()=>{Tr.disabled=i(a),T(un,i(a)?"Creating...":"Create Issue")}),dn("submit",oe,tt=>{tt.preventDefault(),ye()}),dt(ae,()=>i(l).title,tt=>i(l).title=tt),dt(D,()=>i(l).description,tt=>i(l).description=tt),Qn(J,()=>i(l).type,tt=>i(l).type=tt),dt(Nt,()=>i(l).severity,tt=>i(l).severity=tt),dt(Ge,()=>i(l).workaround,tt=>i(l).workaround=tt),k(X,oe)},me=X=>{var oe=He(),G=Ce(oe);{var ae=D=>{var H=uo(),O=c(H),J=f(c(O),2),te=f(O,2),ge=f(c(te),2),vt=f(te,2),ut=f(c(vt),2),ft=f(vt,2),It=c(ft);It.__click=M;var Nt=f(It,2),$t=c(Nt);U(()=>{Nt.disabled=i(a),T($t,i(a)?"Creating...":"Create Decision")}),dn("submit",H,Ge=>{Ge.preventDefault(),ve()}),dt(J,()=>i(o).title,Ge=>i(o).title=Ge),dt(ge,()=>i(o).decision,Ge=>i(o).decision=Ge),dt(ut,()=>i(o).reasoning,Ge=>i(o).reasoning=Ge),k(D,H)},Z=D=>{var H=He(),O=Ce(H);{var J=te=>{var ge=fo(),vt=c(ge),ut=f(c(vt),2),ft=f(vt,2),It=f(c(ft),2),Nt=f(ft,2),$t=f(c(Nt),2),Ge=c($t);Ge.value=Ge.__value="pattern";var Zt=f(Ge);Zt.value=Zt.__value="gotcha";var Ir=f(Zt);Ir.value=Ir.__value="preference";var Tr=f(Ir);Tr.value=Tr.__value="convention";var un=f(Tr);un.value=un.__value="architecture";var tt=f(Nt,2),Ci=f(c(tt),2),ji=f(tt,2),ps=c(ji);ps.__click=M;var ms=f(ps,2),qi=c(ms);U(()=>{ms.disabled=i(a),T(qi,i(a)?"Creating...":"Create Learning")}),dn("submit",ge,Mt=>{Mt.preventDefault(),ue()}),dt(ut,()=>i(v).title,Mt=>i(v).title=Mt),dt(It,()=>i(v).content,Mt=>i(v).content=Mt),Qn($t,()=>i(v).category,Mt=>i(v).category=Mt),dt(Ci,()=>i(v).context,Mt=>i(v).context=Mt),k(te,ge)};q(O,te=>{i(u)==="learnings"&&te(J)},!0)}k(D,H)};q(G,D=>{i(u)==="decisions"?D(ae):D(Z,!1)},!0)}k(X,oe)};q(De,X=>{i(u)==="issues"?X(Q):X(me,!1)})}U(()=>T(W,`Add ${i(u)==="decisions"?"Decision":i(u)==="learnings"?"Learning":"Issue"}`)),k(x,L)};q(ee,x=>{i(r)&&x(F)})}var pe=f(ee,2);{var Te=x=>{var L=po();L.__click=()=>w(s,!1);var g=c(L);g.__click=D=>D.stopPropagation();var N=c(g),$=f(c(N),2);$.__click=()=>w(s,!1);var W=f(N,2);{var de=D=>{var H=ho(),O=c(H);U(()=>T(O,i(n))),k(D,H)};q(W,D=>{i(n)&&D(de)})}var ze=f(W,2),We=f(c(ze)),De=c(We),Q=f(ze,2),me=c(Q),X=f(c(me),2),oe=f(me,2),G=c(oe);G.__click=()=>w(s,!1);var ae=f(G,2),Z=c(ae);U(()=>{T(De,i(j).title),ae.disabled=i(a),T(Z,i(a)?"Resolving...":"Mark Resolved")}),dn("submit",Q,D=>{D.preventDefault(),at()}),dt(X,()=>i(p),D=>w(p,D)),k(x,L)};q(pe,x=>{i(s)&&i(j)&&x(Te)})}U(()=>{je=Ae(_e,1,"svelte-mdsmin",null,je,{active:i(u)==="files"}),T(lt,`Files (${i(y).length??""})`),ce=Ae(B,1,"svelte-mdsmin",null,ce,{active:i(u)==="decisions"}),T(Ie,`Decisions (${i(E).length??""})`),qe=Ae(Ke,1,"svelte-mdsmin",null,qe,{active:i(u)==="learnings"}),T(Ze,`Learnings (${i(b).length??""})`),xe=Ae(Oe,1,"svelte-mdsmin",null,xe,{active:i(u)==="issues"}),T($e,`Issues (${i(I).length??""})`)}),dt(ct,()=>i(m),x=>w(m,x)),k(e,we),Wr()}vn(["click"]);var yo=S('<div class="empty card svelte-l9yiin">No sessions recorded yet.</div>'),bo=S('<div class="line svelte-l9yiin"></div>'),wo=S("<span> </span>"),xo=S('<span class="badge badge-cold">active</span>'),ko=S('<div class="detail-row svelte-l9yiin"><span class="detail-label svelte-l9yiin">Outcome</span> <span> </span></div>'),Eo=S('<span class="mono file-tag svelte-l9yiin"> </span>'),So=S('<div class="detail-row svelte-l9yiin"><span class="detail-label svelte-l9yiin">Files Touched</span> <div class="file-list svelte-l9yiin"></div></div>'),Io=S('<div class="session-details svelte-l9yiin"><!> <!></div>'),To=S('<div class="timeline-item svelte-l9yiin"><div class="connector svelte-l9yiin"><div class="dot svelte-l9yiin"></div> <!></div> <div><div class="session-header svelte-l9yiin"><span class="session-number mono svelte-l9yiin"> </span> <span class="session-date svelte-l9yiin"> </span> <!></div> <div class="session-goal svelte-l9yiin"> </div> <!></div></div>'),Ao=S('<div class="timeline svelte-l9yiin"></div>'),Co=S('<div class="timeline-page svelte-l9yiin"><h2 class="svelte-l9yiin">Session Timeline</h2> <!></div>');function jo(e,t){zr(t,!0);let r=R(Pe([])),s=R(null);zt(()=>{t.projectId&&fl(t.projectId).then(u=>w(r,u,!0)).catch(()=>{})});function a(u){return u===2?"var(--accent-4)":u===1?"var(--warning)":u===0?"var(--danger)":"var(--accent-1)"}function n(u){return new Date(u).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function l(u){if(!u.files_touched)return[];try{return JSON.parse(u.files_touched)}catch{return[]}}var o=Co(),v=f(c(o),2);{var p=u=>{var d=yo();k(u,d)},_=u=>{var d=Ao();kt(d,23,()=>i(r),m=>m.id,(m,y,E)=>{var b=To();b.__click=()=>w(s,i(s)===i(y).id?null:i(y).id,!0);var I=c(b),j=c(I),ne=f(j,2);{var se=B=>{var ce=bo();k(B,ce)};q(ne,B=>{i(E)<i(r).length-1&&B(se)})}var ie=f(I,2);let ye;var ve=c(ie),ue=c(ve),at=c(ue),Ne=f(ue,2),M=c(Ne),be=f(Ne,2);{var we=B=>{var ce=wo(),Ie=c(ce);U((Ke,qe)=>{Ae(ce,1,`badge badge-${i(y).success===2?"hot":i(y).success===1?"warm":"cold"}`),xt(ce,`background: ${Ke??""}20; color: ${qe??""}`),T(Ie,i(y).success===2?"success":i(y).success===1?"partial":i(y).success===0?"failed":"active")},[()=>a(i(y).success),()=>a(i(y).success)]),k(B,ce)},Ee=B=>{var ce=xo();k(B,ce)};q(be,B=>{i(y).ended_at?B(we):B(Ee,!1)})}var Se=f(ve,2),_e=c(Se),je=f(Se,2);{var lt=B=>{var ce=Io(),Ie=c(ce);{var Ke=Oe=>{var xe=ko(),$e=f(c(xe),2),he=c($e);U(()=>T(he,i(y).outcome)),k(Oe,xe)};q(Ie,Oe=>{i(y).outcome&&Oe(Ke)})}var qe=f(Ie,2);{var Ze=Oe=>{var xe=So(),$e=f(c(xe),2);kt($e,21,()=>l(i(y)),wr,(he,ot)=>{var ct=Eo(),Re=c(ct);U(()=>T(Re,i(ot))),k(he,ct)}),k(Oe,xe)};q(qe,Oe=>{l(i(y)).length>0&&Oe(Ze)})}k(B,ce)};q(je,B=>{i(s)===i(y).id&&B(lt)})}U((B,ce,Ie)=>{xt(j,`background: ${B??""}; box-shadow: 0 0 8px ${ce??""}40`),ye=Ae(ie,1,"timeline-content card svelte-l9yiin",null,ye,{expanded:i(s)===i(y).id}),T(at,`#${i(y).session_number??i(y).id??""}`),T(M,Ie),T(_e,i(y).goal??"No goal set")},[()=>a(i(y).success),()=>a(i(y).success),()=>n(i(y).started_at)]),k(m,b)}),k(u,d)};q(v,u=>{i(r).length===0?u(p):u(_,!1)})}k(e,o),Wr()}vn(["click"]);var qo=S("<option> </option>"),Oo=S('<select class="svelte-1n46o8q"></select>'),Po=S('<div class="empty-state svelte-1n46o8q"><p>No projects found. Add a project with <code class="svelte-1n46o8q">muninn file add</code> to get started.</p></div>'),Ro=S('<nav><div class="nav-brand svelte-1n46o8q"><span class="logo svelte-1n46o8q">&#9670;</span> <span class="brand-text svelte-1n46o8q">Muninn</span></div> <div class="nav-links svelte-1n46o8q"><a href="#/">Health</a> <a href="#/graph">Graph</a> <a href="#/memory">Memory</a> <a href="#/timeline">Timeline</a></div> <div class="nav-project svelte-1n46o8q"><!></div></nav> <main class="svelte-1n46o8q"><!></main>',1);function Do(e,t){zr(t,!0);function r(M){const be=M.slice(1)||"/",[we,Ee]=be.split("?");return{path:we,params:new URLSearchParams(Ee||"")}}let s=R(Pe(r(window.location.hash))),a=R(Pe([])),n=R(null);zt(()=>{const M=()=>{w(s,r(window.location.hash),!0)};return window.addEventListener("hashchange",M),()=>window.removeEventListener("hashchange",M)}),zt(()=>{vl().then(M=>{w(a,M,!0),M.length>0&&!i(n)&&w(n,M[0].id,!0)})});function l(M){window.location.hash=M}let o=bn(()=>i(s).path),v=bn(()=>i(s).params);var p=Ro(),_=Ce(p),u=f(c(_),2),d=c(u);d.__click=()=>l("/");let m;var y=f(d,2);y.__click=()=>l("/graph");let E;var b=f(y,2);b.__click=()=>l("/memory");let I;var j=f(b,2);j.__click=()=>l("/timeline");let ne;var se=f(u,2),ie=c(se);{var ye=M=>{var be=Oo();kt(be,21,()=>i(a),wr,(we,Ee)=>{var Se=qo(),_e=c(Se),je={};U(()=>{T(_e,i(Ee).name),je!==(je=i(Ee).id)&&(Se.value=(Se.__value=i(Ee).id)??"")}),k(we,Se)}),Qn(be,()=>i(n),we=>w(n,we)),k(M,be)};q(ie,M=>{i(a).length>0&&M(ye)})}var ve=f(_,2),ue=c(ve);{var at=M=>{var be=He(),we=Ce(be);{var Ee=_e=>{Ls(_e,{get projectId(){return i(n)}})},Se=_e=>{var je=He(),lt=Ce(je);{var B=Ie=>{Gl(Ie,{get projectId(){return i(n)}})},ce=Ie=>{var Ke=He(),qe=Ce(Ke);{var Ze=xe=>{go(xe,{get projectId(){return i(n)},get routeParams(){return i(v)}})},Oe=xe=>{var $e=He(),he=Ce($e);{var ot=Re=>{jo(Re,{get projectId(){return i(n)}})},ct=Re=>{Ls(Re,{get projectId(){return i(n)}})};q(he,Re=>{i(o)==="/timeline"?Re(ot):Re(ct,!1)},!0)}k(xe,$e)};q(qe,xe=>{i(o)==="/memory"?xe(Ze):xe(Oe,!1)},!0)}k(Ie,Ke)};q(lt,Ie=>{i(o)==="/graph"?Ie(B):Ie(ce,!1)},!0)}k(_e,je)};q(we,_e=>{i(o)==="/"?_e(Ee):_e(Se,!1)})}k(M,be)},Ne=M=>{var be=Po();k(M,be)};q(ue,M=>{i(n)?M(at):M(Ne,!1)})}U(()=>{m=Ae(d,1,"",null,m,{active:i(o)==="/"}),E=Ae(y,1,"",null,E,{active:i(o)==="/graph"}),I=Ae(b,1,"",null,I,{active:i(o)==="/memory"}),ne=Ae(j,1,"",null,ne,{active:i(o)==="/timeline"})}),k(e,p),Wr()}vn(["click"]);Qa(Do,{target:document.getElementById("app")});
