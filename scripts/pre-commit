#!/bin/sh
# Pre-commit hook for Muninn
# Runs typecheck, lint, and tests before allowing commits

echo "ğŸ” Running pre-commit checks..."

# TypeScript type check
echo "  â†’ TypeScript..."
bun run typecheck
if [ $? -ne 0 ]; then
  echo "âŒ TypeScript check failed"
  exit 1
fi

# Lint check
echo "  â†’ Lint..."
bun run lint
if [ $? -ne 0 ]; then
  echo "âŒ Lint check failed"
  exit 1
fi

# Tests
echo "  â†’ Tests..."
bun test
if [ $? -ne 0 ]; then
  echo "âŒ Tests failed"
  exit 1
fi

echo "âœ… All checks passed"
