import{a as v,f as p,c as ze,t as de}from"../chunks/BQbrFHdE.js";import{o as nr}from"../chunks/DKpGyjba.js";import{p as or,o as Z,G as st,a as it,g as e,m as S,h as vr,s as i,i as a,j as t,q as le,t as l,k as H,n as ie}from"../chunks/DEIXV2yr.js";import{d as cr,s as o,a as ye}from"../chunks/Bv3bKQ8S.js";import{i as T}from"../chunks/BKTWmeyc.js";import{e as ne,i as Re}from"../chunks/Bgl9SafJ.js";import{s as we,r as dr}from"../chunks/Bx2xMsXF.js";import{s as V,c as lr}from"../chunks/QSA7lv9p.js";import{s as Ve}from"../chunks/CH4Gho_O.js";import{b as pr}from"../chunks/CohYFCEt.js";import{b as ur}from"../chunks/DkV04bLW.js";import{a as Ie}from"../chunks/CowlEwwk.js";import{b as Y}from"../chunks/Cbs5zNOM.js";import{H as xr,C as $e}from"../chunks/ARQSVmb3.js";import{B as pe}from"../chunks/EGcPkOJ4.js";import{S as nt}from"../chunks/2BnSfrOL.js";var _r=p('<div class="flex items-center justify-center py-20"><!></div>'),fr=p('<div class="text-center py-12"><svg class="w-12 h-12 mx-auto text-zinc-600 mb-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"></path></svg> <p class="text-zinc-400 text-sm">No projects found. Connect Muninn to a project to see its knowledge here.</p></div>'),mr=p("<option> </option>"),gr=p('<div class="flex items-center gap-2 text-xs"><span class="text-zinc-500 w-20 truncate"> </span> <div class="w-16 h-1 bg-zinc-800 rounded-full overflow-hidden"><div></div></div> <span class="text-zinc-400 w-6 text-right"> </span></div>'),hr=p('<div class="flex items-center gap-4"><div class="relative w-16 h-16"><svg class="w-16 h-16 -rotate-90" viewBox="0 0 36 36"><circle cx="18" cy="18" r="15.9" fill="none" stroke-width="2.5" class="stroke-zinc-800"></circle><circle cx="18" cy="18" r="15.9" fill="none" stroke-width="2.5" stroke-linecap="round"></circle></svg> <span> </span></div> <div><p class="text-sm font-medium text-zinc-200">Health Score</p> <div class="mt-1 space-y-0.5"></div></div></div>'),br=p('<div class="flex items-center justify-center py-16"><!></div>'),zr=p('<button role="tab"> <span> </span></button>'),yr=p('<button><div class="flex items-center gap-2"><span class="text-sm text-zinc-200 truncate flex-1"> </span> <!></div> <p class="text-xs text-zinc-500 truncate mt-0.5"> </p></button>'),wr=p('<div class="text-center py-8 text-sm text-zinc-500"> </div>'),$r=p('<button><div class="flex items-center gap-2"><span class="text-sm text-zinc-200 truncate flex-1"> </span> <!></div> <p class="text-xs text-zinc-500 mt-0.5"> </p></button>'),kr=p('<div class="text-center py-8 text-sm text-zinc-500"> </div>'),jr=p('<button><div class="flex items-center gap-2"><span class="text-sm text-zinc-200 truncate flex-1"> </span> <span class="text-xs text-zinc-500 shrink-0"> </span></div> <div class="flex items-center gap-2 mt-1"><div class="flex-1 h-1 bg-zinc-800 rounded-full overflow-hidden max-w-[80px]"><div></div></div> <span class="text-xs text-zinc-500"> </span></div></button>'),Cr=p('<div class="text-center py-8 text-sm text-zinc-500"> </div>'),Sr=p('<span class="text-xs text-zinc-500"> </span>'),Pr=p('<button><div class="flex items-center gap-2"><span class="text-sm text-zinc-200 truncate flex-1"> </span> <!></div> <div class="flex items-center gap-2 mt-0.5"><!> <span> </span></div></button>'),Tr=p('<div class="text-center py-8 text-sm text-zinc-500"> </div>'),Ir=p('<p class="text-xs text-zinc-500 mt-0.5 truncate"> </p>'),Nr=p('<div class="px-3 py-2.5 rounded-lg border border-transparent hover:bg-zinc-800/50"><div class="flex items-center gap-2"><!> <span class="text-sm text-zinc-200 truncate flex-1"> </span></div> <!> <div class="flex items-center justify-between mt-1"><span class="text-xs text-zinc-600"> </span> <button class="text-xs text-emerald-400 hover:text-emerald-300 transition-colors disabled:opacity-50"> </button></div></div>'),Dr=p('<div class="text-center py-8 text-sm text-zinc-500">No archived items.</div>'),Fr=p('<div class="flex items-center justify-center h-full"><div class="text-center"><svg class="w-10 h-10 mx-auto text-zinc-700 mb-3" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"></path></svg> <p class="text-sm text-zinc-500">Select an item to view details</p></div></div>'),Lr=p('<span class="inline-block mt-1 text-xs px-2 py-0.5 rounded bg-zinc-800 text-zinc-400"> </span>'),Mr=p('<div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Purpose</p> <p class="text-sm text-zinc-300"> </p></div>'),Hr=p('<div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Temperature</p> <p class="text-sm text-zinc-300 capitalize"> </p></div>'),Ar=p('<div class="flex items-center gap-2"><span class="text-xs text-zinc-400 w-24 truncate capitalize"> </span> <div class="flex-1 h-1.5 bg-zinc-800 rounded-full overflow-hidden"><div></div></div> <span class="text-xs text-zinc-500 w-10 text-right"> </span></div>'),Br=p('<div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-2">Fragility Signals</p> <div class="space-y-1.5"></div></div>'),Rr=p('<span class="text-amber-400"> </span>'),Vr=p('<div class="space-y-4"><div><h3 class="text-lg font-semibold text-white break-all"> </h3> <!></div> <!> <div class="grid grid-cols-2 sm:grid-cols-3 gap-4"><div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Fragility</p> <p> <span class="text-xs font-normal text-zinc-500">/10</span></p></div> <!> <div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Changes</p> <p class="text-sm text-zinc-300"> </p></div></div> <!> <div class="pt-2 border-t border-zinc-800 text-xs text-zinc-500 flex gap-4"><span> </span> <span> </span> <!></div></div>'),Ur=p('<div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Reasoning</p> <p class="text-sm text-zinc-300 whitespace-pre-wrap"> </p></div>'),Kr=p('<div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Temperature</p> <span class="text-sm text-zinc-300 capitalize"> </span></div>'),Or=p('<div class="space-y-4"><div class="flex items-start justify-between gap-3"><h3 class="text-lg font-semibold text-white"> </h3> <!></div> <div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Decision</p> <p class="text-sm text-zinc-300 whitespace-pre-wrap"> </p></div> <!> <div class="flex items-center gap-4"><div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Status</p> <span class="text-sm text-zinc-300 capitalize"> </span></div> <!></div> <div class="pt-2 border-t border-zinc-800 text-xs text-zinc-500 flex gap-4"><span> </span> <span> </span></div></div>'),Qr=p('<div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Context</p> <p class="text-sm text-zinc-300 whitespace-pre-wrap"> </p></div>'),qr=p('<div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Temperature</p> <span class="text-sm text-zinc-300 capitalize"> </span></div>'),Er=p('<div class="space-y-4"><div class="flex items-start justify-between gap-3"><h3 class="text-lg font-semibold text-white"> </h3> <span class="text-xs px-2 py-0.5 rounded bg-zinc-800 text-zinc-400 shrink-0"> </span></div> <div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Content</p> <p class="text-sm text-zinc-300 whitespace-pre-wrap"> </p></div> <!> <div class="grid grid-cols-2 gap-4"><div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1.5">Confidence</p> <div class="flex items-center gap-3"><div class="flex-1 h-2 bg-zinc-800 rounded-full overflow-hidden"><div></div></div> <span> </span></div></div> <div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Reinforcements</p> <p class="text-sm text-zinc-300"> </p></div></div> <!> <div class="pt-2 border-t border-zinc-800 text-xs text-zinc-500 flex gap-4"><span> </span> <span> </span></div></div>'),Gr=p('<div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Description</p> <p class="text-sm text-zinc-300 whitespace-pre-wrap"> </p></div>'),Jr=p('<div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Type</p> <span class="text-sm text-zinc-300 capitalize"> </span></div>'),Wr=p('<div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Resolution</p> <p class="text-sm text-zinc-300 whitespace-pre-wrap"> </p></div>'),Zr=p('<div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1">Workaround</p> <p class="text-sm text-zinc-300 whitespace-pre-wrap"> </p></div>'),Xr=p('<div class="space-y-4"><div class="flex items-start justify-between gap-3"><h3 class="text-lg font-semibold text-white"> </h3> <div class="flex items-center gap-2 shrink-0"><!> <!></div></div> <!> <!> <!> <!> <div class="pt-2 border-t border-zinc-800 text-xs text-zinc-500 flex gap-4"><span> </span> <span> </span></div></div>'),Yr=p('<div class="border-b border-zinc-800"><div class="flex gap-1" role="tablist"></div></div> <div><input type="text" class="w-full max-w-md px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white text-sm placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"/></div> <div class="grid grid-cols-1 lg:grid-cols-5 gap-6 min-h-[500px]"><div class="lg:col-span-2 overflow-y-auto max-h-[600px] space-y-1 pr-1"><!></div> <div class="lg:col-span-3"><!></div></div>',1),ea=p('<div class="flex flex-col sm:flex-row gap-4 items-start"><div class="flex-1"><label for="project-select" class="block text-sm font-medium text-zinc-300 mb-1.5">Project</label> <select id="project-select" class="w-full max-w-sm bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2.5 text-sm text-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"></select></div> <!></div> <!>',1),ta=p('<div class="max-w-7xl space-y-6"><!> <!></div>');function ga(ot,vt){or(vt,!0);let ke=Z(st([])),ge=Z(null),X=Z(null),oe=Z(null),ee=Z("files"),Ne=Z(""),ae=Z(""),n=Z(null),he=Z(st([])),Ze=Z(!0),Ue=Z(!1),De=Z(null),Ke;it(()=>{const r=e(Ne);return clearTimeout(Ke),Ke=setTimeout(()=>{S(ae,r,!0)},300),()=>clearTimeout(Ke)});const ct=H(()=>{var r;return((r=e(X))==null?void 0:r.files.length)??0}),dt=H(()=>{var r;return((r=e(X))==null?void 0:r.decisions.length)??0}),lt=H(()=>{var r;return((r=e(X))==null?void 0:r.learnings.length)??0}),pt=H(()=>{var r;return((r=e(X))==null?void 0:r.issues.length)??0}),ut=H(()=>e(he).length),xt=H(()=>{var r;return Fe(((r=e(X))==null?void 0:r.files)??[],e(ae),gt)}),_t=H(()=>{var r;return Fe(((r=e(X))==null?void 0:r.decisions)??[],e(ae),ht)}),ft=H(()=>{var r;return Fe(((r=e(X))==null?void 0:r.learnings)??[],e(ae),bt)}),mt=H(()=>{var r;return Fe(((r=e(X))==null?void 0:r.issues)??[],e(ae),zt)});function Fe(r,$,q){if(!$.trim())return r;const E=$.toLowerCase();return r.filter(je=>q(je).toLowerCase().includes(E))}function gt(r){return`${r.path} ${r.purpose??""} ${r.type??""}`}function ht(r){return`${r.title} ${r.decision} ${r.reasoning??""}`}function bt(r){return`${r.title} ${r.content} ${r.category} ${r.context??""}`}function zt(r){return`${r.title} ${r.description??""} ${r.type??""} ${r.resolution??""}`}nr(async()=>{try{const r=await Ie.getProjects();S(ke,r.projects,!0),e(ke).length>0&&S(ge,e(ke)[0].id,!0)}catch{}S(Ze,!1)}),it(()=>{const r=e(ge);r!==null&&(S(Ue,!0),S(n,null),S(Ne,""),Promise.all([Ie.getProjectMemory(r),Ie.getHealthScore(r),Ie.getArchivedKnowledge(r).then($=>$.archived).catch(()=>[])]).then(([$,q,E])=>{S(X,$,!0),S(oe,q,!0),S(he,E,!0)}).catch(()=>{S(X,null),S(oe,null),S(he,[],!0)}).finally(()=>{S(Ue,!1)}))});function yt(r){S(ee,r,!0),S(n,null)}function wt(r){S(n,r,!0)}function $t(r){S(n,r,!0)}function kt(r){S(n,r,!0)}function jt(r){S(n,r,!0)}function Ct(r){return r!==null&&"path"in r&&"fragility"in r&&!("severity"in r)}function St(r){return r!==null&&"decision"in r&&"reasoning"in r}function Pt(r){return r!==null&&"confidence"in r&&"category"in r}function Tt(r){return r!==null&&"severity"in r&&"status"in r&&!("confidence"in r)}function Xe(r){return r==="succeeded"?"success":r==="failed"?"danger":r==="revised"?"warning":"default"}function Ye(r){return r>=8?"danger":r>=5?"warning":"default"}function It(r){return r>=7?"text-red-400":r>=4?"text-amber-400":"text-zinc-400"}function Nt(r){return r>=80?"text-emerald-400":r>=60?"text-amber-400":"text-red-400"}function Dt(r){return r>=80?"stroke-emerald-400":r>=60?"stroke-amber-400":"stroke-red-400"}function Ft(r){if(!r)return[];try{const $=JSON.parse(r);if(typeof $=="object"&&$!==null)return Object.entries($).map(([q,E])=>({name:q,value:typeof E=="number"?E:0}))}catch{}return[]}function Lt(r){const $=r.split("/");return $[$.length-1]??r}function Mt(r){return r==="learnings"?"Learning":r==="decisions"?"Decision":r==="issues"?"Issue":r}function Ht(r){return r==="learnings"?"success":r==="decisions"?"warning":"default"}async function At(r){if(e(ge)){S(De,r.id,!0);try{await Ie.restoreArchivedItem(e(ge),r.id),S(he,e(he).filter($=>$.id!==r.id),!0)}catch{}S(De,null)}}function Bt(r){const $=r.split("/");return $.length<=1?"":$.slice(0,-1).join("/")}var Oe=ta(),et=a(Oe);xr(et,{title:"Knowledge Explorer",description:"Browse your project memory."});var Rt=i(et,2);{var Vt=r=>{var $=_r(),q=a($);nt(q,{size:"lg"}),t($),v(r,$)},Ut=r=>{$e(r,{children:($,q)=>{var E=fr();v($,E)},$$slots:{default:!0}})},Kt=r=>{var $=ea(),q=le($),E=a(q),je=i(a(E),2);ne(je,21,()=>e(ke),Re,(U,G)=>{var J=mr(),ve=a(J,!0);t(J);var te={};l(()=>{o(ve,e(G).name),te!==(te=e(G).id)&&(J.value=(J.__value=e(G).id)??"")}),v(U,J)}),t(je),t(E);var Ot=i(E,2);{var Qt=U=>{$e(U,{children:(G,J)=>{var ve=hr(),te=a(ve),ue=a(te),Ce=i(a(ue));t(ue);var xe=i(ue,2),Qe=a(xe,!0);t(xe),t(te);var Le=i(te,2),Me=i(a(Le),2);ne(Me,21,()=>e(oe).components.slice(0,3),Re,(Se,re)=>{var Pe=gr(),_e=a(Pe),qe=a(_e,!0);t(_e);var Te=i(_e,2),He=a(Te);t(Te);var Ae=i(Te,2),Ee=a(Ae,!0);t(Ae),t(Pe),l(()=>{we(_e,"title",e(re).name),o(qe,e(re).name),V(He,1,`h-full rounded-full ${e(re).score>=80?"bg-emerald-400":e(re).score>=60?"bg-amber-400":"bg-red-400"}`),Ve(He,`width: ${e(re).score??""}%`),o(Ee,e(re).score)}),v(Se,Pe)}),t(Me),t(Le),t(ve),l((Se,re)=>{V(Ce,0,Se),we(Ce,"stroke-dasharray",`${e(oe).overall??""}, 100`),V(xe,1,`absolute inset-0 flex items-center justify-center text-sm font-bold ${re??""}`),o(Qe,e(oe).overall)},[()=>lr(Dt(e(oe).overall)),()=>Nt(e(oe).overall)]),v(G,ve)},$$slots:{default:!0}})};T(Ot,U=>{e(oe)&&U(Qt)})}t(q);var qt=i(q,2);{var Et=U=>{var G=br(),J=a(G);nt(J,{}),t(G),v(U,G)},Gt=U=>{var G=Yr(),J=le(G),ve=a(J);ne(ve,21,()=>[{key:"files",label:"Files",count:e(ct)},{key:"decisions",label:"Decisions",count:e(dt)},{key:"learnings",label:"Learnings",count:e(lt)},{key:"issues",label:"Issues",count:e(pt)},{key:"archived",label:"Archived",count:e(ut)}],Re,(u,f)=>{var M=zr(),d=a(M),s=i(d),c=a(s,!0);t(s),t(M),l(()=>{we(M,"aria-selected",e(ee)===e(f).key),V(M,1,`px-4 py-2.5 text-sm font-medium border-b-2 transition-colors ${e(ee)===e(f).key?"border-emerald-400 text-emerald-400":"border-transparent text-zinc-400 hover:text-zinc-200 hover:border-zinc-600"}`),o(d,`${e(f).label??""} `),V(s,1,`ml-1.5 text-xs px-1.5 py-0.5 rounded-full ${e(ee)===e(f).key?"bg-emerald-500/10 text-emerald-400":"bg-zinc-800 text-zinc-500"}`),o(c,e(f).count)}),ye("click",M,()=>yt(e(f).key)),v(u,M)}),t(ve),t(J);var te=i(J,2),ue=a(te);dr(ue),t(te);var Ce=i(te,2),xe=a(Ce),Qe=a(xe);{var Le=u=>{var f=ze(),M=le(f);ne(M,17,()=>e(xt),d=>d.id,(d,s)=>{var c=yr(),k=a(c),z=a(k),A=a(z,!0);t(z);var I=i(z,2);{var N=m=>{pe(m,{variant:"danger",children:(x,L)=>{ie();var g=de();l(()=>o(g,e(s).fragility)),v(x,g)},$$slots:{default:!0}})},D=m=>{pe(m,{variant:"warning",children:(x,L)=>{ie();var g=de();l(()=>o(g,e(s).fragility)),v(x,g)},$$slots:{default:!0}})};T(I,m=>{e(s).fragility>=7?m(N):e(s).fragility>=4&&m(D,1)})}t(k);var C=i(k,2),y=a(C,!0);t(C),t(c),l((m,x)=>{V(c,1,`w-full text-left px-3 py-2.5 rounded-lg transition-colors ${e(n)===e(s)?"bg-zinc-800 border border-zinc-700":"hover:bg-zinc-800/50 border border-transparent"}`),we(z,"title",e(s).path),o(A,m),o(y,x)},[()=>Lt(e(s).path),()=>Bt(e(s).path)]),ye("click",c,()=>wt(e(s))),v(d,c)},d=>{var s=wr(),c=a(s,!0);t(s),l(()=>o(c,e(ae)?"No files match your search.":"No files tracked yet.")),v(d,s)}),v(u,f)},Me=u=>{var f=ze(),M=le(f);ne(M,17,()=>e(_t),d=>d.id,(d,s)=>{var c=$r(),k=a(c),z=a(k),A=a(z,!0);t(z);var I=i(z,2);{var N=y=>{{let m=H(()=>Xe(e(s).outcome));pe(y,{get variant(){return e(m)},children:(x,L)=>{ie();var g=de();l(()=>o(g,e(s).outcome)),v(x,g)},$$slots:{default:!0}})}};T(I,y=>{e(s).outcome&&y(N)})}t(k);var D=i(k,2),C=a(D,!0);t(D),t(c),l(y=>{V(c,1,`w-full text-left px-3 py-2.5 rounded-lg transition-colors ${e(n)===e(s)?"bg-zinc-800 border border-zinc-700":"hover:bg-zinc-800/50 border border-transparent"}`),o(A,e(s).title),o(C,y)},[()=>Y(e(s).created_at)]),ye("click",c,()=>$t(e(s))),v(d,c)},d=>{var s=kr(),c=a(s,!0);t(s),l(()=>o(c,e(ae)?"No decisions match your search.":"No decisions recorded yet.")),v(d,s)}),v(u,f)},Se=u=>{var f=ze(),M=le(f);ne(M,17,()=>e(ft),d=>d.id,(d,s)=>{var c=jr(),k=a(c),z=a(k),A=a(z,!0);t(z);var I=i(z,2),N=a(I,!0);t(I),t(k);var D=i(k,2),C=a(D),y=a(C);t(C);var m=i(C,2),x=a(m);t(m),t(D),t(c),l(()=>{V(c,1,`w-full text-left px-3 py-2.5 rounded-lg transition-colors ${e(n)===e(s)?"bg-zinc-800 border border-zinc-700":"hover:bg-zinc-800/50 border border-transparent"}`),o(A,e(s).title),o(N,e(s).category),V(y,1,`h-full rounded-full ${e(s).confidence>=7?"bg-emerald-400":e(s).confidence>=4?"bg-amber-400":"bg-red-400"}`),Ve(y,`width: ${e(s).confidence*10}%`),o(x,`${e(s).confidence??""}/10`)}),ye("click",c,()=>kt(e(s))),v(d,c)},d=>{var s=Cr(),c=a(s,!0);t(s),l(()=>o(c,e(ae)?"No learnings match your search.":"No learnings recorded yet.")),v(d,s)}),v(u,f)},re=u=>{var f=ze(),M=le(f);ne(M,17,()=>e(mt),d=>d.id,(d,s)=>{var c=Pr(),k=a(c),z=a(k),A=a(z,!0);t(z);var I=i(z,2);{let x=H(()=>Ye(e(s).severity));pe(I,{get variant(){return e(x)},children:(L,g)=>{ie();var B=de();l(()=>o(B,e(s).severity)),v(L,B)},$$slots:{default:!0}})}t(k);var N=i(k,2),D=a(N);{var C=x=>{var L=Sr(),g=a(L,!0);t(L),l(()=>o(g,e(s).type)),v(x,L)};T(D,x=>{e(s).type&&x(C)})}var y=i(D,2),m=a(y,!0);t(y),t(N),t(c),l(()=>{V(c,1,`w-full text-left px-3 py-2.5 rounded-lg transition-colors ${e(n)===e(s)?"bg-zinc-800 border border-zinc-700":"hover:bg-zinc-800/50 border border-transparent"}`),o(A,e(s).title),V(y,1,`text-xs ${e(s).status==="open"?"text-amber-400":"text-zinc-500"}`),o(m,e(s).status)}),ye("click",c,()=>jt(e(s))),v(d,c)},d=>{var s=Tr(),c=a(s,!0);t(s),l(()=>o(c,e(ae)?"No issues match your search.":"No issues tracked yet.")),v(d,s)}),v(u,f)},Pe=u=>{var f=ze(),M=le(f);ne(M,17,()=>e(he),d=>d.id,(d,s)=>{var c=Nr(),k=a(c),z=a(k);{let g=H(()=>Ht(e(s).source_table));pe(z,{get variant(){return e(g)},children:(B,K)=>{ie();var W=de();l(O=>o(W,O),[()=>Mt(e(s).source_table)]),v(B,W)},$$slots:{default:!0}})}var A=i(z,2),I=a(A,!0);t(A),t(k);var N=i(k,2);{var D=g=>{var B=Ir(),K=a(B,!0);t(B),l(()=>o(K,e(s).reason)),v(g,B)};T(N,g=>{e(s).reason&&g(D)})}var C=i(N,2),y=a(C),m=a(y,!0);t(y);var x=i(y,2),L=a(x,!0);t(x),t(C),t(c),l(g=>{o(I,e(s).title),o(m,g),x.disabled=e(De)===e(s).id,o(L,e(De)===e(s).id?"Restoring...":"Restore")},[()=>Y(e(s).archived_at)]),ye("click",x,()=>At(e(s))),v(d,c)},d=>{var s=Dr();v(d,s)}),v(u,f)};T(Qe,u=>{e(ee)==="files"?u(Le):e(ee)==="decisions"?u(Me,1):e(ee)==="learnings"?u(Se,2):e(ee)==="issues"?u(re,3):e(ee)==="archived"&&u(Pe,4)})}t(xe);var _e=i(xe,2),qe=a(_e);{var Te=u=>{var f=Fr();v(u,f)},He=u=>{$e(u,{children:(f,M)=>{var d=Vr(),s=a(d),c=a(s),k=a(c,!0);t(c);var z=i(c,2);{var A=j=>{var F=Lr(),P=a(F,!0);t(F),l(()=>o(P,e(n).type)),v(j,F)};T(z,j=>{e(n).type&&j(A)})}t(s);var I=i(s,2);{var N=j=>{var F=Mr(),P=i(a(F),2),R=a(P,!0);t(P),t(F),l(()=>o(R,e(n).purpose)),v(j,F)};T(I,j=>{e(n).purpose&&j(N)})}var D=i(I,2),C=a(D),y=i(a(C),2),m=a(y,!0);ie(),t(y),t(C);var x=i(C,2);{var L=j=>{var F=Hr(),P=i(a(F),2),R=a(P,!0);t(P),t(F),l(()=>o(R,e(n).temperature)),v(j,F)};T(x,j=>{e(n).temperature&&j(L)})}var g=i(x,2),B=i(a(g),2),K=a(B,!0);t(B),t(g),t(D);var W=i(D,2);{var O=j=>{const F=H(()=>Ft(e(n).fragility_signals));var P=ze(),R=le(P);{var fe=me=>{var Ge=Br(),tt=i(a(Ge),2);ne(tt,21,()=>e(F),Re,(er,be)=>{var Je=Ar(),Be=a(Je),tr=a(Be,!0);t(Be);var We=i(Be,2),rt=a(We);t(We);var at=i(We,2),rr=a(at,!0);t(at),t(Je),l((ar,sr,ir)=>{we(Be,"title",e(be).name),o(tr,ar),V(rt,1,`h-full rounded-full ${e(be).value>=.7?"bg-red-400":e(be).value>=.4?"bg-amber-400":"bg-emerald-400"}`),Ve(rt,`width: ${sr??""}%`),o(rr,ir)},[()=>e(be).name.replace(/_/g," "),()=>Math.round(e(be).value*100),()=>(e(be).value*10).toFixed(1)]),v(er,Je)}),t(tt),t(Ge),v(me,Ge)};T(R,me=>{e(F).length>0&&me(fe)})}v(j,P)};T(W,j=>{e(n).fragility_signals&&j(O)})}var se=i(W,2),h=a(se),w=a(h);t(h);var _=i(h,2),b=a(_);t(_);var Q=i(_,2);{var ce=j=>{var F=Rr(),P=a(F);t(F),l(R=>o(P,`Archived ${R??""}`),[()=>Y(e(n).archived_at)]),v(j,F)};T(Q,j=>{e(n).archived_at&&j(ce)})}t(se),t(d),l((j,F,P)=>{o(k,e(n).path),V(y,1,`text-lg font-bold ${j??""}`),o(m,e(n).fragility),o(K,e(n).change_count),o(w,`Created ${F??""}`),o(b,`Updated ${P??""}`)},[()=>It(e(n).fragility),()=>Y(e(n).created_at),()=>Y(e(n).updated_at)]),v(f,d)},$$slots:{default:!0}})},Ae=H(()=>Ct(e(n))),Ee=u=>{$e(u,{children:(f,M)=>{var d=Or(),s=a(d),c=a(s),k=a(c,!0);t(c);var z=i(c,2);{var A=_=>{{let b=H(()=>Xe(e(n).outcome));pe(_,{get variant(){return e(b)},children:(Q,ce)=>{ie();var j=de();l(()=>o(j,e(n).outcome)),v(Q,j)},$$slots:{default:!0}})}};T(z,_=>{e(n).outcome&&_(A)})}t(s);var I=i(s,2),N=i(a(I),2),D=a(N,!0);t(N),t(I);var C=i(I,2);{var y=_=>{var b=Ur(),Q=i(a(b),2),ce=a(Q,!0);t(Q),t(b),l(()=>o(ce,e(n).reasoning)),v(_,b)};T(C,_=>{e(n).reasoning&&_(y)})}var m=i(C,2),x=a(m),L=i(a(x),2),g=a(L,!0);t(L),t(x);var B=i(x,2);{var K=_=>{var b=Kr(),Q=i(a(b),2),ce=a(Q,!0);t(Q),t(b),l(()=>o(ce,e(n).temperature)),v(_,b)};T(B,_=>{e(n).temperature&&_(K)})}t(m);var W=i(m,2),O=a(W),se=a(O);t(O);var h=i(O,2),w=a(h);t(h),t(W),t(d),l((_,b)=>{o(k,e(n).title),o(D,e(n).decision),o(g,e(n).status),o(se,`Created ${_??""}`),o(w,`Updated ${b??""}`)},[()=>Y(e(n).created_at),()=>Y(e(n).updated_at)]),v(f,d)},$$slots:{default:!0}})},Jt=H(()=>St(e(n))),Wt=u=>{$e(u,{children:(f,M)=>{var d=Er(),s=a(d),c=a(s),k=a(c,!0);t(c);var z=i(c,2),A=a(z,!0);t(z),t(s);var I=i(s,2),N=i(a(I),2),D=a(N,!0);t(N),t(I);var C=i(I,2);{var y=P=>{var R=Qr(),fe=i(a(R),2),me=a(fe,!0);t(fe),t(R),l(()=>o(me,e(n).context)),v(P,R)};T(C,P=>{e(n).context&&P(y)})}var m=i(C,2),x=a(m),L=i(a(x),2),g=a(L),B=a(g);t(g);var K=i(g,2),W=a(K);t(K),t(L),t(x);var O=i(x,2),se=i(a(O),2),h=a(se,!0);t(se),t(O),t(m);var w=i(m,2);{var _=P=>{var R=qr(),fe=i(a(R),2),me=a(fe,!0);t(fe),t(R),l(()=>o(me,e(n).temperature)),v(P,R)};T(w,P=>{e(n).temperature&&P(_)})}var b=i(w,2),Q=a(b),ce=a(Q);t(Q);var j=i(Q,2),F=a(j);t(j),t(b),t(d),l((P,R)=>{o(k,e(n).title),o(A,e(n).category),o(D,e(n).content),V(B,1,`h-full rounded-full transition-all ${e(n).confidence>=7?"bg-emerald-400":e(n).confidence>=4?"bg-amber-400":"bg-red-400"}`),Ve(B,`width: ${e(n).confidence*10}%`),V(K,1,`text-sm font-medium ${e(n).confidence>=7?"text-emerald-400":e(n).confidence>=4?"text-amber-400":"text-red-400"}`),o(W,`${e(n).confidence??""}/10`),o(h,e(n).auto_reinforcement_count),o(ce,`Created ${P??""}`),o(F,`Updated ${R??""}`)},[()=>Y(e(n).created_at),()=>Y(e(n).updated_at)]),v(f,d)},$$slots:{default:!0}})},Zt=H(()=>Pt(e(n))),Xt=u=>{$e(u,{children:(f,M)=>{var d=Xr(),s=a(d),c=a(s),k=a(c,!0);t(c);var z=i(c,2),A=a(z);{let h=H(()=>Ye(e(n).severity));pe(A,{get variant(){return e(h)},children:(w,_)=>{ie();var b=de();l(()=>o(b,`sev ${e(n).severity??""}`)),v(w,b)},$$slots:{default:!0}})}var I=i(A,2);{let h=H(()=>e(n).status==="open"?"warning":"success");pe(I,{get variant(){return e(h)},children:(w,_)=>{ie();var b=de();l(()=>o(b,e(n).status)),v(w,b)},$$slots:{default:!0}})}t(z),t(s);var N=i(s,2);{var D=h=>{var w=Gr(),_=i(a(w),2),b=a(_,!0);t(_),t(w),l(()=>o(b,e(n).description)),v(h,w)};T(N,h=>{e(n).description&&h(D)})}var C=i(N,2);{var y=h=>{var w=Jr(),_=i(a(w),2),b=a(_,!0);t(_),t(w),l(()=>o(b,e(n).type)),v(h,w)};T(C,h=>{e(n).type&&h(y)})}var m=i(C,2);{var x=h=>{var w=Wr(),_=i(a(w),2),b=a(_,!0);t(_),t(w),l(()=>o(b,e(n).resolution)),v(h,w)};T(m,h=>{e(n).resolution&&h(x)})}var L=i(m,2);{var g=h=>{var w=Zr(),_=i(a(w),2),b=a(_,!0);t(_),t(w),l(()=>o(b,e(n).workaround)),v(h,w)};T(L,h=>{e(n).workaround&&h(g)})}var B=i(L,2),K=a(B),W=a(K);t(K);var O=i(K,2),se=a(O);t(O),t(B),t(d),l((h,w)=>{o(k,e(n).title),o(W,`Created ${h??""}`),o(se,`Updated ${w??""}`)},[()=>Y(e(n).created_at),()=>Y(e(n).updated_at)]),v(f,d)},$$slots:{default:!0}})},Yt=H(()=>Tt(e(n)));T(qe,u=>{e(n)===null?u(Te):e(Ae)?u(He,1):e(Jt)?u(Ee,2):e(Zt)?u(Wt,3):e(Yt)&&u(Xt,4)})}t(_e),t(Ce),l(()=>we(ue,"placeholder",`Search ${e(ee)??""}...`)),pr(ue,()=>e(Ne),u=>S(Ne,u)),v(U,G)};T(qt,U=>{e(Ue)?U(Et):e(X)&&U(Gt,1)})}ur(je,()=>e(ge),U=>S(ge,U)),v(r,$)};T(Rt,r=>{e(Ze)?r(Vt):e(ke).length===0?r(Ut,1):r(Kt,!1)})}t(Oe),v(ot,Oe),vr()}cr(["click"]);export{ga as component};
