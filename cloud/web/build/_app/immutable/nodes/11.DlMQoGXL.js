import{a as _,f as $}from"../chunks/BQbrFHdE.js";import{o as we}from"../chunks/DKpGyjba.js";import{p as ye,o as y,G as se,h as ze,s,i as a,m as g,g as e,j as r,q as N,n as ie,k as P,t as j}from"../chunks/DEIXV2yr.js";import{d as Ce,s as z,a as oe}from"../chunks/Bv3bKQ8S.js";import{i as R}from"../chunks/BKTWmeyc.js";import{e as ne,i as le}from"../chunks/Bgl9SafJ.js";import{s as Q}from"../chunks/Bx2xMsXF.js";import{s as F,c as ce}from"../chunks/QSA7lv9p.js";import{s as Pe}from"../chunks/CH4Gho_O.js";import{a as B}from"../chunks/CowlEwwk.js";import{g as je}from"../chunks/GlkoDLOJ.js";import{f as de}from"../chunks/Cbs5zNOM.js";import{H as Be,C as O}from"../chunks/ARQSVmb3.js";import{S as W}from"../chunks/CkPAyeN2.js";import{U as Me}from"../chunks/XcY6cbSn.js";import{C as He}from"../chunks/CxuafFRJ.js";var Ae=$('<div class="flex items-center gap-2 text-xs"><span class="text-zinc-500 w-20 truncate"> </span> <div class="w-16 h-1 bg-zinc-800 rounded-full overflow-hidden"><div></div></div> <span class="text-zinc-400 w-6 text-right"> </span></div>'),Se=$('<div class="shrink-0"><p class="text-xs text-zinc-500 mb-1">Trend</p> <svg width="120" height="32" class="overflow-visible"><polyline fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></polyline></svg></div>'),Ue=$('<div class="flex items-start justify-between gap-6"><div class="flex items-center gap-4"><div class="relative w-16 h-16 shrink-0"><svg class="w-16 h-16 -rotate-90" viewBox="0 0 36 36"><circle cx="18" cy="18" r="15.9" fill="none" stroke-width="2.5" class="stroke-zinc-800"></circle><circle cx="18" cy="18" r="15.9" fill="none" stroke-width="2.5" stroke-linecap="round"></circle></svg> <span> </span></div> <div><p class="text-sm font-medium text-zinc-200">Health Score</p> <div class="mt-1 space-y-0.5"></div></div></div> <!></div>'),Re=$('<div><p class="text-xs font-medium text-zinc-500 uppercase tracking-wide mb-1"> </p> <p class="text-sm text-zinc-300 whitespace-pre-wrap"> </p></div>'),Fe=$('<div class="space-y-4 mt-3"></div> <p class="text-xs text-zinc-600 mt-3"> </p>',1),Te=$('<div class="flex items-center justify-between mb-2"><button class="flex items-center gap-2 text-sm font-semibold text-zinc-200 hover:text-white transition-colors"><svg fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path></svg> Project Briefing</button> <button class="text-xs text-zinc-500 hover:text-zinc-300 transition-colors disabled:opacity-50"> </button></div> <!>',1),Ee=$('<h3 class="font-semibold mb-1">Quick setup</h3> <p class="text-sm text-zinc-400 mb-4">Add Muninn to Claude Code on any machine:</p> <!>',1),Ge=$('<div class="max-w-4xl space-y-8"><!> <div class="grid sm:grid-cols-3 gap-4"><!> <!> <!></div> <!> <!> <!> <!> <div class="grid sm:grid-cols-3 gap-4"><a href="/dashboard/api-keys" class="bg-zinc-900 border border-zinc-800 rounded-xl p-5 hover:border-zinc-700 transition-colors"><p class="text-sm font-medium">API Keys</p> <p class="text-xs text-zinc-500 mt-1">Manage access tokens</p></a> <a href="/dashboard/team" class="bg-zinc-900 border border-zinc-800 rounded-xl p-5 hover:border-zinc-700 transition-colors"><p class="text-sm font-medium">Team</p> <p class="text-xs text-zinc-500 mt-1">Invite collaborators</p></a> <a href="/dashboard/billing" class="bg-zinc-900 border border-zinc-800 rounded-xl p-5 hover:border-zinc-700 transition-colors"><p class="text-sm font-medium">Billing</p> <p class="text-xs text-zinc-500 mt-1">Manage subscription</p></a></div></div>');function rt(ve,ue){ye(ue,!0);const X=je();let m=y(null),M=y(se([])),x=y(null),Y=y(se([])),H=y(null),T=y(!1),E=y(!1);function pe(t){return t>=80?"stroke-emerald-400":t>=60?"stroke-amber-400":"stroke-red-400"}function J(t){return t>=80?"text-emerald-400":t>=60?"text-amber-400":"text-red-400"}function me(t){if(t.length<2)return"";const i=[...t].reverse(),o=100,l=120,c=32,d=l/(i.length-1);return i.map((k,v)=>{const w=v*d,A=c-k.score/o*c;return`${v===0?"M":"L"}${w.toFixed(1)},${A.toFixed(1)}`}).join(" ")}async function fe(t){const[i,o,l]=await Promise.all([B.getHealthScore(t).catch(()=>null),B.getHealthHistory(t).then(c=>c.history).catch(()=>[]),B.getProjectBriefing(t).catch(()=>null)]);g(x,i,!0),g(Y,o,!0),g(H,l,!0)}async function he(){if(e(M).length){g(E,!0);try{g(H,await B.getProjectBriefing(e(M)[0].id,!0),!0)}catch{}g(E,!1)}}we(async()=>{try{g(m,await B.getUsage(),!0)}catch{}try{const t=await B.getProjects();g(M,t.projects,!0),e(M).length>0&&await fe(e(M)[0].id)}catch{}});const ge=P(()=>`claude mcp add --scope user muninn \\
  -- npx -y muninn-mcp@latest \\
  --cloud YOUR_API_KEY`);var q=Ge(),V=a(q);Be(V,{title:"Overview",description:"Welcome back."});var D=s(V,2),Z=a(D);{let t=P(()=>{var o;return((o=X.tenant)==null?void 0:o.plan)==="pro"?"Pro":"Free"}),i=P(()=>{var o;return((o=X.tenant)==null?void 0:o.plan)==="free"?"Upgrade for more":"Active subscription"});W(Z,{label:"Plan",get value(){return e(t)},get subtitle(){return e(i)}})}var ee=s(Z,2);{let t=P(()=>e(m)?de(e(m).toolCallCount):"..."),i=P(()=>e(m)?`of ${de(e(m).limit)}`:"");W(ee,{label:"Tool calls this month",get value(){return e(t)},get subtitle(){return e(i)}})}var xe=s(ee,2);{let t=P(()=>{var i;return((i=e(m))==null?void 0:i.month)??"..."});W(xe,{label:"Period",get value(){return e(t)}})}r(D);var te=s(D,2);{var be=t=>{O(t,{children:(i,o)=>{Me(i,{get used(){return e(m).toolCallCount},get limit(){return e(m).limit}})},$$slots:{default:!0}})};R(te,t=>{e(m)&&t(be)})}var re=s(te,2);{var _e=t=>{O(t,{children:(i,o)=>{var l=Ue(),c=a(l),d=a(c),k=a(d),v=s(a(k));r(k);var w=s(k,2),A=a(w,!0);r(w),r(d);var G=s(d,2),C=s(a(G),2);ne(C,21,()=>e(x).components.slice(0,3),le,(u,n)=>{var b=Ae(),p=a(b),f=a(p,!0);r(p);var h=s(p,2),L=a(h);r(h);var U=s(h,2),I=a(U,!0);r(U),r(b),j(()=>{Q(p,"title",e(n).name),z(f,e(n).name),F(L,1,`h-full rounded-full ${e(n).score>=80?"bg-emerald-400":e(n).score>=60?"bg-amber-400":"bg-red-400"}`),Pe(L,`width: ${e(n).score??""}%`),z(I,e(n).score)}),_(u,b)}),r(C),r(G),r(c);var K=s(c,2);{var S=u=>{var n=Se(),b=s(a(n),2),p=a(b);r(b),r(n),j((f,h)=>{Q(p,"points",f),F(p,0,h)},[()=>me(e(Y)).replace(/[ML]/g,f=>f==="M"?"":" ").trim(),()=>ce(J(e(x).overall))]),_(u,n)};R(K,u=>{e(Y).length>=2&&u(S)})}r(l),j((u,n)=>{F(v,0,u),Q(v,"stroke-dasharray",`${e(x).overall??""}, 100`),F(w,1,`absolute inset-0 flex items-center justify-center text-sm font-bold ${n??""}`),z(A,e(x).overall)},[()=>ce(pe(e(x).overall)),()=>J(e(x).overall)]),_(i,l)},$$slots:{default:!0}})};R(re,t=>{e(x)&&t(_e)})}var ae=s(re,2);{var $e=t=>{O(t,{children:(i,o)=>{var l=Te(),c=N(l),d=a(c),k=a(d);ie(),r(d);var v=s(d,2),w=a(v,!0);r(v),r(c);var A=s(c,2);{var G=C=>{var K=Fe(),S=N(K);ne(S,21,()=>e(H).sections,le,(b,p)=>{var f=Re(),h=a(f),L=a(h,!0);r(h);var U=s(h,2),I=a(U,!0);r(U),r(f),j(()=>{z(L,e(p).section),z(I,e(p).content)}),_(b,f)}),r(S);var u=s(S,2),n=a(u);r(u),j(()=>z(n,`Generated ${e(H).generatedAt??""}`)),_(C,K)};R(A,C=>{e(T)&&C(G)})}j(()=>{F(k,0,`w-4 h-4 transition-transform ${e(T)?"rotate-90":""}`),v.disabled=e(E),z(w,e(E)?"Refreshing...":"Refresh")}),oe("click",d,()=>{g(T,!e(T))}),oe("click",v,he),_(i,l)},$$slots:{default:!0}})};R(ae,t=>{e(H)&&t($e)})}var ke=s(ae,2);O(ke,{children:(t,i)=>{var o=Ee(),l=s(N(o),4);He(l,{code:e(ge)}),_(t,o)},$$slots:{default:!0}}),ie(2),r(q),_(ve,q),ze()}Ce(["click"]);export{rt as component};
