import{g as r,m as t,k as i,o}from"./DEIXV2yr.js";import{a as l}from"./CowlEwwk.js";let e=o(null),u=o(!0),a=o(null);const s=i(()=>r(e)!==null);async function c(){if(!l.isAuthenticated()){t(u,!1);return}try{const n=await l.getAccount();t(e,n.tenant,!0)}catch{t(e,null)}finally{t(u,!1)}}function f(n){t(e,n,!0),t(u,!1),t(a,null)}function g(n){t(a,n,!0)}function d(){t(a,null)}function h(){t(e,null),l.logout()}function p(){return{get tenant(){return r(e)},get loading(){return r(u)},get error(){return r(a)},get isAuthenticated(){return r(s)},initialize:c,setTenant:f,setError:g,clearError:d,logout:h}}export{p as g};
