import{a as o,f as v,t as G}from"../chunks/Dp4zGy6Y.js";import{o as I}from"../chunks/D1MHOrrt.js";import{p as J,h as K,s as r,j as n,k as O,g as t,l as d,m as Q,o as W,n as X,t as U,F as m}from"../chunks/BJmdqduM.js";import{s as z}from"../chunks/9hSCU5Uy.js";import{i as L}from"../chunks/eWemM8hH.js";import{a as Y}from"../chunks/CObeKhF_.js";import{f as x}from"../chunks/Cbs5zNOM.js";import{H as Z,C as $}from"../chunks/Do8S-cRJ.js";import{S as b,U as tt}from"../chunks/CvaTRwQ7.js";import{B as et}from"../chunks/CPLg08HV.js";import{g as at}from"../chunks/CxK7HfGX.js";var rt=v('<div class="space-y-4"><div class="flex items-center justify-between"><h3 class="font-semibold">Current period</h3> <!></div> <!> <p class="text-sm text-zinc-500"> </p></div>'),st=v('<div class="flex items-start gap-4"><div class="w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center shrink-0"><svg class="w-5 h-5 text-emerald-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"></path></svg></div> <div><h3 class="font-semibold">Need more calls?</h3> <p class="text-sm text-zinc-400 mt-1">Upgrade to Pro for 100,000 tool calls/month, unlimited projects, and team features.</p> <a href="/dashboard/billing" class="text-sm text-emerald-400 hover:underline mt-2 inline-block">View plans</a></div></div>'),ot=v('<div class="grid sm:grid-cols-3 gap-4"><!> <!> <!></div> <!> <!>',1),lt=v('<p class="text-zinc-500 text-center py-8">Loading usage data...</p>'),it=v('<div class="max-w-4xl space-y-8"><!> <!></div>');function $t(M,H){J(H,!0);const h=at();let e=Q(null);I(async()=>{try{O(e,await Y.getUsage(),!0)}catch{}});const N=m(()=>t(e)?Math.round(t(e).toolCallCount/t(e).limit*100):0);var _=it(),C=n(_);Z(C,{title:"Usage",description:"Monitor your tool call usage for the current billing period."});var S=r(C,2);{var A=s=>{var p=ot(),c=W(p),u=n(c);{let a=m(()=>x(t(e).toolCallCount));b(u,{label:"Tool calls used",get value(){return t(a)}})}var k=r(u,2);{let a=m(()=>x(t(e).limit));b(k,{label:"Limit",get value(){return t(a)}})}var R=r(k,2);{let a=m(()=>x(t(e).limit-t(e).toolCallCount));b(R,{label:"Remaining",get value(){return t(a)}})}d(c);var w=r(c,2);$(w,{children:(a,l)=>{var f=rt(),i=n(f),q=r(n(i),2);{let E=m(()=>{var g;return((g=h.tenant)==null?void 0:g.plan)==="pro"?"success":"default"});et(q,{get variant(){return t(E)},children:(g,nt)=>{X();var B=G();U(()=>{var P;return z(B,((P=h.tenant)==null?void 0:P.plan)??"free")}),o(g,B)},$$slots:{default:!0}})}d(i);var y=r(i,2);tt(y,{get used(){return t(e).toolCallCount},get limit(){return t(e).limit}});var j=r(y,2),D=n(j);d(j),d(f),U(()=>z(D,`Billing period: ${t(e).month??""}`)),o(a,f)},$$slots:{default:!0}});var T=r(w,2);{var V=a=>{$(a,{children:(l,f)=>{var i=st();o(l,i)},$$slots:{default:!0}})};L(T,a=>{var l;((l=h.tenant)==null?void 0:l.plan)==="free"&&t(N)>=50&&a(V)})}o(s,p)},F=s=>{$(s,{children:(p,c)=>{var u=lt();o(p,u)},$$slots:{default:!0}})};L(S,s=>{t(e)?s(A):s(F,!1)})}d(_),o(M,_),K()}export{$t as component};
