import{a as s,f as p,t as G}from"../chunks/BQbrFHdE.js";import{o as I}from"../chunks/DKpGyjba.js";import{p as J,h as K,s as r,i as n,m as O,g as t,j as d,o as Q,q as W,n as X,t as U,k as m}from"../chunks/DEIXV2yr.js";import{s as z}from"../chunks/Bv3bKQ8S.js";import{i as L}from"../chunks/BKTWmeyc.js";import{a as Y}from"../chunks/CowlEwwk.js";import{f as x}from"../chunks/Cbs5zNOM.js";import{H as Z,C as $}from"../chunks/ARQSVmb3.js";import{S as b}from"../chunks/CkPAyeN2.js";import{U as tt}from"../chunks/XcY6cbSn.js";import{B as et}from"../chunks/EGcPkOJ4.js";import{g as at}from"../chunks/GlkoDLOJ.js";var rt=p('<div class="space-y-4"><div class="flex items-center justify-between"><h3 class="font-semibold">Current period</h3> <!></div> <!> <p class="text-sm text-zinc-500"> </p></div>'),ot=p('<div class="flex items-start gap-4"><div class="w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center shrink-0"><svg class="w-5 h-5 text-emerald-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"></path></svg></div> <div><h3 class="font-semibold">Need more calls?</h3> <p class="text-sm text-zinc-400 mt-1">Upgrade to Pro for 100,000 tool calls/month, unlimited projects, and team features.</p> <a href="/dashboard/billing" class="text-sm text-emerald-400 hover:underline mt-2 inline-block">View plans</a></div></div>'),st=p('<div class="grid sm:grid-cols-3 gap-4"><!> <!> <!></div> <!> <!>',1),lt=p('<p class="text-zinc-500 text-center py-8">Loading usage data...</p>'),it=p('<div class="max-w-4xl space-y-8"><!> <!></div>');function bt(M,H){J(H,!0);const h=at();let e=Q(null);I(async()=>{try{O(e,await Y.getUsage(),!0)}catch{}});const N=m(()=>t(e)?Math.round(t(e).toolCallCount/t(e).limit*100):0);var _=it(),C=n(_);Z(C,{title:"Usage",description:"Monitor your tool call usage for the current billing period."});var S=r(C,2);{var q=o=>{var v=st(),c=W(v),u=n(c);{let a=m(()=>x(t(e).toolCallCount));b(u,{label:"Tool calls used",get value(){return t(a)}})}var k=r(u,2);{let a=m(()=>x(t(e).limit));b(k,{label:"Limit",get value(){return t(a)}})}var R=r(k,2);{let a=m(()=>x(t(e).limit-t(e).toolCallCount));b(R,{label:"Remaining",get value(){return t(a)}})}d(c);var w=r(c,2);$(w,{children:(a,l)=>{var f=rt(),i=n(f),D=r(n(i),2);{let F=m(()=>{var g;return((g=h.tenant)==null?void 0:g.plan)==="pro"?"success":"default"});et(D,{get variant(){return t(F)},children:(g,nt)=>{X();var B=G();U(()=>{var P;return z(B,((P=h.tenant)==null?void 0:P.plan)??"free")}),s(g,B)},$$slots:{default:!0}})}d(i);var y=r(i,2);tt(y,{get used(){return t(e).toolCallCount},get limit(){return t(e).limit}});var j=r(y,2),E=n(j);d(j),d(f),U(()=>z(E,`Billing period: ${t(e).month??""}`)),s(a,f)},$$slots:{default:!0}});var T=r(w,2);{var V=a=>{$(a,{children:(l,f)=>{var i=ot();s(l,i)},$$slots:{default:!0}})};L(T,a=>{var l;((l=h.tenant)==null?void 0:l.plan)==="free"&&t(N)>=50&&a(V)})}s(o,v)},A=o=>{$(o,{children:(v,c)=>{var u=lt();s(v,u)},$$slots:{default:!0}})};L(S,o=>{t(e)?o(q):o(A,!1)})}d(_),s(M,_),K()}export{bt as component};
